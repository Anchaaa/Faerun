namespace = z_class_selection


character_event = {
    id = z_class_selection.3
    desc = magic_learn_power.99_desc#breakthrough in magic
	picture = GFX_evt_comet
	border = GFX_event_normal_frame_religion	
    hide_window = yes
    
	is_triggered_only = yes

 	weight_multiplier = {
		days = 1	
	}   
	option = {
		name = magic_learn_power.99a#gain magic xp
		trigger_switch = { 
			on_trigger = has_focus 
			focus_wizardry = {
				if = { 
					limit = {
						z_wizard = yes
					}
					z_wizlvl_turnon = yes
					change_variable = { which = wizxp value = "50"}
				}
			}
			focus_bard = {
				if = { 
					limit = {
						z_bard = yes
					}
					z_bardlvl_turnon = yes
					change_variable = { which = bardxp value = "50"}
				}
			}
			focus_warlock = {
				if = { 
					limit = {
						z_warlock = yes
					}
					z_warllvl_turnon = yes
					change_variable = { which = warlxp value = "50"}
				}
			}
			focus_sorcerer = {
				if = { 
					limit = {
						z_sorcerer = yes
					}
					z_sorclvl_turnon = yes
					change_variable = { which = sorcxp value = "50"}
				}
			}
			focus_paladin = {
				if = { 
					limit = {
						z_paladin = yes
					}
					z_palalvl_turnon = yes
					change_variable = { which = paladxp value = "50"}
				}
			}
			focus_druid = {
				if = { 
					limit = {
						z_druid = yes
					}
					z_druilvl_turnon = yes
					change_variable = { which = druixp value = "50"}
				}
			}
			focus_cleric = {
				if = { 
					limit = {
						z_cleric = yes
					}
					z_clerlvl_turnon = yes
					change_variable = { which = clerxp value = "50"}
				}
			}
			focus_fighter = {
				if = { 
					limit = {
						z_fighter = yes
					}
					z_fighlvl_turnon = yes
					change_variable = { which = fighxp value = "50"}
				}
			}
			focus_barbarian = {
				if = { 
					limit = {
						z_barbarian = yes
					}
					z_barblvl_turnon = yes
					change_variable = { which = barbxp value = "50"}
				}
			}
			focus_ranger = {
				if = { 
					limit = {
						z_ranger = yes
					}
					z_ranglvl_turnon = yes
					change_variable = { which = rangxp value = "50"}
				}
			}
			focus_monk = {
				if = { 
					limit = {
						z_monk = yes
					}
					z_monklvl_turnon = yes
					change_variable = { which = monkxp value = "50"}
				}
			}			
			focus_assassin = {
				if = { 
					limit = {
						z_assassin = yes
					}
					z_assalvl_turnon = yes
					change_variable = { which = assaxp value = "50"}
				}
			}
			focus_rogue = {
				if = { 
					limit = {
						z_rogue = yes
					}
					z_rogulvl_turnon = yes
					change_variable = { which = roguxp value = "50"}
				}
			}
			focus_shadow = {
				if = { 
					limit = {
						z_shadow = yes
					}
					z_shadlvl_turnon = yes
					change_variable = { which = shadxp value = "50"}
				}
			}
		}	
		z_class_xp_calc = yes	
		random = { 
			chance = 25
			#character_event = { id = z_class_selection.2 days = 150 random = 75}
		}						
	}
}


namespace = ability_refresh 

character_event = {
    id = ability_refresh.1
    desc = magic_learn_power.99_desc#breakthrough in magic
	picture = GFX_evt_comet
	border = GFX_event_normal_frame_religion	
    hide_window = yes
    
	is_triggered_only = yes

 	weight_multiplier = {
		days = 1	
	}   
	option = {
		name = magic_learn_power.99a#gain magic xp	
		z_cls_turnon = yes
		if = { 
			limit = { 
				z_wizard = yes
			}
			z_wiz_setup = yes
			z_spell_refresh_wizard = yes
		}
		if = { 
			limit = { 
				z_bard = yes
			}
			z_bard_setup = yes
			z_spell_refresh_bard = yes
		}
		if = { 
			limit = { 
				z_warlock = yes
			}
			z_warl_setup = yes
			z_spell_refresh_warlock = yes
		}
		if = { 
			limit = { 
				z_sorcerer = yes
			}
			z_sorc_setup = yes
			z_spell_refresh_sorcerer = yes
		}
		if = { 
			limit = { 
				z_cleric = yes
			}
			z_cler_setup = yes
			z_spell_refresh_cleric = yes
		}
		if = { 
			limit = { 
				z_druid = yes
			}
			z_drui_setup = yes
			z_spell_refresh_druid = yes
		}
		if = { 
			limit = { 
				z_paladin = yes
			}
			z_pala_setup = yes
			z_spell_refresh_paladin = yes
		}
		z_class_xp_calc = yes
	}
}


character_event = {
    id = ability_refresh.2
    desc = magic_learn_power.99_desc#breakthrough in magic
	picture = GFX_evt_comet
	border = GFX_event_normal_frame_religion	
    hide_window = yes
    
	is_triggered_only = yes

 	weight_multiplier = {
		days = 1	
	}   
	option = {
		name = magic_learn_power.99a#gain magic xp	
		character_event = { id = ability_refresh.1 months = 6 }						
	}

}