namespace = z_character_trait
character_event = { 
	id = z_character_trait.1
	hide_window = yes

	trigger = {
		NOR = { 
			trait = creature_human
			trait = creature_drow
			trait = creature_elf
			trait = creature_dwarf
			trait = creature_goblin
			trait = creature_orc
			trait = creature_halfling
			trait = creature_giant
			trait = creature_treant
			trait = creature_ogre
			trait = creature_half_orc
			trait = creature_half_elf
			trait = creature_half_ogre
			trait = creature_ogrillon
			trait = creature_yikarian
			trait = creature_pureblood
			trait = creature_malison
			trait = creature_abomination
			trait = creature_centaur
			trait = creature_wemic
			trait = creature_lizardfolk
			trait = creature_naga
			trait = creature_gith
			trait = creature_hobgoblin
			trait = creature_bugbear
			trait = creature_gnoll
			trait = creature_tengu
		}
	}
	immediate = {
		trigger_switch = {
			on_trigger = graphical_culture
			westerngfx 		= { add_trait = creature_human } 
			easterngfx 		= { add_trait = creature_human } 
			muslimgfx 		= { add_trait = creature_human } 
			frankishgfx		= { add_trait = creature_human } 
			englishgfx 		= { add_trait = creature_human } 
			germangfx 		= { add_trait = creature_human } 
			occitangfx 		= { add_trait = creature_human } 
			southerngfx		= { add_trait = creature_human } 
			celticgfx 		= { add_trait = creature_human } 
			saxongfx 		= { add_trait = creature_human } 
			norsegfx 		= { add_trait = creature_human } 
			easternslavicgfx = { add_trait = creature_human } 
			westernslavicgfx = { 
				if = {
					limit = {
						OR = {
							dynasty = 8011 # Silver of Aglarond
							religion = yuir
							religion = yuir_reformed
						}
					}
					add_trait = creature_half_elf
				}
				else = {
					add_trait = creature_human
				}
			} 
			byzantinegfx 	= { add_trait = creature_human } 
			ugricgfx 		= { add_trait = creature_human } 
			arabicgfx 		= { add_trait = creature_human } 
			turkishgfx 		= { add_trait = creature_human } 
			mongolgfx 		= { add_trait = creature_human } 
			africangfx 		= { add_trait = creature_human } 
			westafricangfx	= { add_trait = creature_human } 
			andalusiangfx	= { add_trait = creature_human } 
			persiangfx 		= { add_trait = creature_human } 
			empiregfx 		= { add_trait = creature_human } 
			sylvaniangfx 	= { add_trait = creature_human } 
			kurgangfx 		= { add_trait = creature_gith } 
			arabyangfx 		= { add_trait = creature_human } 
			northempiregfx	= { add_trait = creature_human } 
			tileagfx 		= { add_trait = creature_human } 
			estileangfx		= { add_trait = creature_human } 
			hunggfx 		= { add_trait = creature_human } 
			southarabyangfx	= { add_trait = creature_human } 
			northmangfx 	= { add_trait = creature_human } 
			nehekkagfx 		= { add_trait = creature_human } 
			sartosantileangfx  = { add_trait = creature_human } 
			livinglahmiangfx = { add_trait = creature_human } 
			bretonniangfx 	= { add_trait = creature_human } 
			cumangfx 		= { add_trait = creature_human } 
			italiangfx 		= { add_trait = creature_human } 
			reiklandergfx 	= { add_trait = creature_human } 
			witchhuntergfx 	= { add_trait = creature_human } 
			blooddragonsgfx = { add_trait = creature_human } 
			striganygfx 	= { add_trait = creature_human } 
			sartosangfx 	= { add_trait = creature_human } 
			strygangfx 		= { add_trait = creature_human } 
			amazongfx 		= { add_trait = creature_human } 
			arabyansartosangfx = { add_trait = creature_human } 
			cathayangfx 	= { add_trait = creature_human } 
			livingjadegfx 	= { add_trait = creature_human } 
			wasaigfx 		= { add_trait = creature_human } 
			cophicgfx 		= { add_trait = creature_human } 
			tevarigfx 		= { add_trait = creature_human } 
			medeangfx 		= { add_trait = creature_human } 
			westerlandergfx = { add_trait = creature_human } 
			sudenburgergfx 	= { add_trait = creature_human } 
			norscangfx 		= { add_trait = creature_human } 
			norscansartosangfx 	= { add_trait = creature_human } 
			kislevitegfx 	= { add_trait = creature_human } 
			ropsmanngfx 	= { add_trait = creature_human } 
			tileangfx 		= { add_trait = creature_human } 
			estaliangfx 	= { add_trait = creature_human } 
			mykengfx 		= { add_trait = creature_human } 
			albiongfx 		= { add_trait = creature_human } 
			unthericgfx 	= { add_trait = creature_human } 
			mulhorandigfx 	= { add_trait = creature_human } 
			khatingfx 		= { add_trait = creature_human } 
			tuigangfx 		= { add_trait = creature_human } 
			asurgfx 		= { add_trait = creature_elf } 
			nagarythiangfx 	= { add_trait = creature_elf } 
			caledoriangfx 	= { add_trait = creature_elf } 
			asraigfx 		= { add_trait = creature_elf } 
			drowgfx 		= { add_trait = creature_drow } 
			moonelfgfx 		= { add_trait = creature_elf } 
			dwarfgfx 		= { add_trait = creature_dwarf }
			duergargfx		= { add_trait = creature_dwarf }
			norse_dwarfgfx  = { add_trait = creature_dwarf }
			goblingfx 		= { add_trait = creature_goblin } 
			humanoidgfx 	= { 
				if = {
					limit = {
						culture = goblin
					}
					add_trait = creature_hobgoblin
				}
				else = {
					add_trait = creature_bugbear
				}
			}			
			orcgfx 			= { add_trait = creature_orc } 
			hobbitsgfx 		= { add_trait = creature_halfling } 
			trollgfx 		= { add_trait = creature_giant } 						
			treemangfx 		= { add_trait = creature_treant } 
			ogresgfx 		= {	add_trait = creature_ogre }	
			beastmangfx 	= { add_trait = creature_yikarian }
			lahmiangfx		= { 
								random_list = {
									75 = {
										add_trait = creature_pureblood
									}
									20 = {
										add_trait = creature_malison
										set_graphical_culture = malison
									}
									5 = {
										add_trait = creature_abomination
										set_graphical_culture = abomination
									}
								}
			}
			malisongfx		= { add_trait = creature_malison }
			slanngfx		= { add_trait = creature_abomination }
			lizardfolkgfx 	= { add_trait = creature_lizardfolk }
			druchiigfx		= { add_trait = creature_half_elf }
			nagagfx 		= { add_trait = creature_naga }
			githyankigfx	= { add_trait = creature_gith }
			tengugfx		= { add_trait = creature_tengu }
			kenkugfx		= { add_trait = creature_tengu }
		}
	}
}

character_event = { # Experimental species trait distribution on startup
	id = z_character_trait.2
	hide_window = yes
	is_triggered_only = yes # Only on startup, because this is so system-intensive
	has_global_flag = creature_traits_assigned # pre-trigger
	immediate = {
		any_character = {
			limit = {
				NOR = { 
					trait = creature_human
					trait = creature_drow
					trait = creature_elf
					trait = creature_dwarf
					trait = creature_goblin
					trait = creature_orc
					trait = creature_halfling
					trait = creature_giant
					trait = creature_treant
					trait = creature_ogre
					trait = creature_half_orc
					trait = creature_half_elf
					trait = creature_half_ogre
					trait = creature_ogrillon
					trait = creature_yikarian
					trait = creature_pureblood
					trait = creature_malison
					trait = creature_abomination
					trait = creature_centaur
					trait = creature_wemic
					trait = creature_lizardfolk
					trait = creature_naga
					trait = creature_gith
					trait = creature_hobgoblin
					trait = creature_bugbear
					trait = creature_gnoll
					trait = creature_tengu
				}
			}
		}
		character_event = { id = z_character_trait.1 }
	}
	after = {
		set_global_flag = creature_traits_assigned
	}
}