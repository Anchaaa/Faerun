decisions = {
	
	reveal_as_lycan = {
		potential = {
			reforming_gov = yes
			not_casting = yes
			OR = {
				trait = natural_lycanthrope
				trait = afflicted_lycanthrope
			}
			NOT = { has_character_modifier = known_lycan_modifier }
		}
		allow = {
			always = yes
		}
		effect = {
			add_character_modifier = {
				name = known_lycan_modifier
				duration = -1
			}
		}
		ai_will_do = {
			factor = 0.05
			modifier = {
				factor = 10
				liege = {
					has_character_modifier = known_lycan_modifier
				}
			}
			modifier = {
				factor = 5
				liege = {
					has_character_flag = lycan_court
				}
			}
			modifier = {
				factor = 0.5
				trait = craven
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 1.5
				trait = proud
			}
		}
	}
	
	establish_lycan_court = {
		only_playable = yes
		
		potential = {
			reforming_gov = yes
			not_casting = yes
			OR = {
				trait = natural_lycanthrope
				trait = afflicted_lycanthrope
			}
			has_character_modifier = known_lycan_modifier
			NOT = { has_character_flag = lycan_court }
		}
		allow = {
			always = yes
			prestige = 30
		}
		effect = {
			set_character_flag = lycan_court
			prestige = -30
			custom_tooltip = {
				text = lycan_court_tt
			}
		}
		ai_will_do = {
			factor = 0.05
			modifier = {
				factor = 10
				liege = {
					has_character_modifier = known_lycan_modifier
				}
			}
			modifier = {
				factor = 5
				liege = {
					has_character_flag = lycan_court
				}
			}
			modifier = {
				factor = 5
				trait = patron_malar
			}
			modifier = {
				factor = 5
				trait = patron_sebek
				trait = werecrocodile
			}
			modifier = {
				factor = 2
				trait = patron_selune
			}
			modifier = {
				factor = 0.5
				trait = craven
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 1.5
				trait = proud
			}
		}
	}
	
}

targeted_decisions = {
	
	infect_with_lycanthropy = {
		filter = home_court
		ai_target_filter = home_court
		
		from_potential = {
			is_playable = yes
			OR = {
				trait = natural_lycanthrope
				trait = afflicted_lycanthrope
			}
		}
		
		potential = {
			NOR = {
				trait = natural_lycanthrope
				trait = afflicted_lycanthrope
				trait = vampire
				trait = vampire_spawn
				trait = undead
				trait = lich
				trait = archlich
				trait = lich_baelnorn
				trait = avatar
			}
			OR = {
				trait = creature_drow
				trait = creature_elf
				trait = creature_half_elf
				trait = creature_feyri
				trait = creature_draegloth
				trait = creature_spirit_folk
				trait = creature_dwarf
				trait = creature_half_dwarf
				trait = creature_giant
				trait = creature_half_giant
				trait = creature_ogre
				trait = creature_half_ogre
				trait = creature_ogrillon
				trait = creature_troll
				trait = creature_goliath
				trait = creature_gnome
				trait = creature_gith
				trait = creature_goblin
				trait = creature_hobgoblin
				trait = creature_bugbear
				trait = creature_hagspawn
				trait = creature_halfling
				trait = creature_human
				trait = creature_deep_imaskari
				trait = creature_orc
				trait = creature_half_orc
				trait = creature_tanarukk
				trait = creature_genasi
				trait = creature_tiefling
				trait = creature_aasimar
			}
		}
		
		allow = {
			prestige = 30
			OR = {
				AND = {
					olrox_is_good_religion_trigger = yes
					piety = 25
				}
				olrox_is_good_religion_trigger = no
			}
			NOT = {
				has_opinion_modifier = {
					who = FROM
					name = attempted_to_infect_me
				}
			}
		}
		
		effect = {
			FROM = {
				prestige = -30
				if = {
					limit = {
						olrox_is_good_religion_trigger = yes
					}
					piety = -25
				}
			}
			if = {
				limit = {
					prisoner = no
				}
				character_event = { id = frwerebeast.8 }
			}
			else = {
				character_event = { id = frwerebeast.12 }
				FROM = {
					random = {
						chance = 50
						add_trait = cruel
					}
					character_event = { id = frwerebeast.13 }
				}
			}
		}
		
		ai_will_do = {
			factor = 0.05
			modifier = {
				factor = 20
				FROM = {
					opinion = {
						who = ROOT
						value = 80
					}
				}
			}
			modifier = {
				factor = 30
				FROM = {
					has_character_modifier = known_lycan_modifier
				}
			}
			modifier = {
				factor = 10
				FROM = {
					has_character_flag = lycan_court
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					NOT = {
						opinion = {
							who = ROOT
							value = 0
						}
					}
				}
			}
		}
	}
	
}