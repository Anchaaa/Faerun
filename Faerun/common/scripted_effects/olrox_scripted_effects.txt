join_prev_knight_order_society_effect = {
	if = {
		limit = { PREV = { society_member_of = knight_order_purple_dragons } }
		join_society = knight_order_purple_dragons
	}
	if = {
		limit = { PREV = { society_member_of = knight_order_imphras } }
		join_society = knight_order_imphras
	}
	if = {
		limit = { PREV = { society_member_of = knight_order_silver_chalice } }
		join_society = knight_order_silver_chalice
	}
	if = {
		limit = { PREV = { society_member_of = knight_order_samular } }
		join_society = knight_order_samular
	}
	if = {
		limit = { PREV = { society_member_of = knight_order_golden_cup } }
		join_society = knight_order_golden_cup
	}
	if = {
		limit = { PREV = { society_member_of = knight_order_radiant_heart } }
		join_society = knight_order_radiant_heart
	}
}

join_from_knight_order_society_effect = {
	if = {
		limit = { FROM = { society_member_of = knight_order_purple_dragons } }
		join_society = knight_order_purple_dragons
	}
	if = {
		limit = { FROM = { society_member_of = knight_order_imphras } }
		join_society = knight_order_imphras
	}
	if = {
		limit = { FROM = { society_member_of = knight_order_silver_chalice } }
		join_society = knight_order_silver_chalice
	}
	if = {
		limit = { FROM = { society_member_of = knight_order_samular } }
		join_society = knight_order_samular
	}
	if = {
		limit = { FROM = { society_member_of = knight_order_golden_cup } }
		join_society = knight_order_golden_cup
	}
	if = {
		limit = { FROM = { society_member_of = knight_order_radiant_heart } }
		join_society = knight_order_radiant_heart
	}
}

detract_society_currency_massive_effect = {
	if = {
		limit = { is_in_society = yes }
		change_society_currency = -1000
	}
}

random_magic_item_effect = {
	custom_tooltip = {
		text = random_magic_item_effect_tooltip
		random_list = {
			38 = {
				random_minor_magic_weapon_effect = yes
			}
			11 = {
				random_minor_magic_armor_effect = yes
			}
			23 = {
				random_minor_magic_jewelry_effect = yes
			}
			23 = {
				random_minor_magic_clothing_effect = yes
			}
		}
		if = {
			limit = {
				new_artifact = {
					always = yes
					is_artifact_active = no
				}
			}
			new_artifact = { unsafe_destroy_artifact = yes }
			random_magic_item_effect = yes #repeat effect
		}
	}
}
random_minor_magic_weapon_effect = {
	random_list = {
		4 = {
			modifier = {
				factor = 0
				has_artifact = berserker_axe
			}
			add_artifact = berserker_axe
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = flame_tongue
			}
			add_artifact = flame_tongue
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = frost_brand
			}
			add_artifact = frost_brand
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = life_drinker
			}
			add_artifact = life_drinker
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = mace_of_terror
			}
			add_artifact = mace_of_terror
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = oathbow
			}
			add_artifact = oathbow
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = sword_of_sharpness
			}
			add_artifact = sword_of_sharpness
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = sword_of_life_stealing
			}
			add_artifact = sword_of_life_stealing
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = sword_of_wounding
			}
			add_artifact = sword_of_wounding
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = trident_of_warning
			}
			add_artifact = trident_of_warning
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = lesser_rod_pact_keeper
			}
			add_artifact = lesser_rod_pact_keeper
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = normal_rod_pact_keeper
			}
			add_artifact = normal_rod_pact_keeper
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = staff_of_swarming_insects
			}
			add_artifact = staff_of_swarming_insects
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = staff_python
			}
			add_artifact = staff_python
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = dagger_of_lifekeeping
			}
			add_artifact = dagger_of_lifekeeping
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = sylvan_scimitar
			}
			add_artifact = sylvan_scimitar
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = sword_of_subtlety
			}
			add_artifact = sword_of_subtlety
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = wand_of_binding
			}
			add_artifact = wand_of_binding
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = wand_of_fear
			}
			add_artifact = wand_of_fear
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = wand_of_fireballs
			}
			add_artifact = wand_of_fireballs
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = wand_of_lightning
			}
			add_artifact = wand_of_lightning
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = greater_wand_war_mage
			}
			add_artifact = greater_wand_war_mage
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = dagger_of_venom
			}
			add_artifact = dagger_of_venom
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = javelin_of_lightning
			}
			add_artifact = javelin_of_lightning
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = wand_magic_missile
			}
			add_artifact = wand_magic_missile
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = wand_of_web
			}
			add_artifact = wand_of_web
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = normal_wand_war_mage
			}
			add_artifact = normal_wand_war_mage
		}
		1 = {
			wealth = 200
		}
	}
}
random_minor_magic_armor_effect = {
	random_list = {
		2 = {
			modifier = {
				factor = 0
				has_artifact = arrowcatching_shield
			}
			add_artifact = arrowcatching_shield
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = flensing_gauntlet
			}
			add_artifact = flensing_gauntlet
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = sentinel_shield
			}
			add_artifact = sentinel_shield
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = shield_missile_attraction
			}
			add_artifact = shield_missile_attraction
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = glamoured_studded_leather
			}
			add_artifact = glamoured_studded_leather
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = demon_armor
			}
			add_artifact = demon_armor
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = elven_chain
			}
			add_artifact = elven_chain
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = dragon_scale_mail
			}
			add_artifact = dragon_scale_mail
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = robe_of_eyes
			}
			add_artifact = robe_of_eyes
		}
		1 = {
			wealth = 200
		}
	}
}
random_minor_magic_jewelry_effect = {
	random_list = {
		2 = {
			modifier = {
				factor = 0
				has_artifact = amulet_of_no_detection
			}
			add_artifact = amulet_of_no_detection
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = medallion_of_thoughts
			}
			add_artifact = medallion_of_thoughts
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = periapt_of_health
			}
			add_artifact = periapt_of_health
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = ring_of_jumping
			}
			add_artifact = ring_of_jumping
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = amulet_of_health
			}
			add_artifact = amulet_of_health
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = ring_of_protection
			}
			add_artifact = ring_of_protection
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = ring_of_free_action
			}
			add_artifact = ring_of_free_action
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = ring_of_mind_shield
			}
			add_artifact = ring_of_mind_shield
		}
		1 = {
			wealth = 200
		}
	}
}
random_minor_magic_clothing_effect = {
	random_list = {
		2 = {
			modifier = {
				factor = 0
				has_artifact = gloves_of_missile_snaring
			}
			add_artifact = gloves_of_missile_snaring
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = gloves_of_swimming_and_climbing
			}
			add_artifact = gloves_of_swimming_and_climbing
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = gloves_of_thievery
			}
			add_artifact = gloves_of_thievery
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = boots_of_elvenkind
			}
			add_artifact = boots_of_elvenkind
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = boots_of_striding_and_springing
			}
			add_artifact = boots_of_striding_and_springing
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = boots_of_the_winterlands
			}
			add_artifact = boots_of_the_winterlands
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = cape_of_the_mountebank
			}
			add_artifact = cape_of_the_mountebank
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = cloak_of_elvenkind
			}
			add_artifact = cloak_of_elvenkind
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = cloak_of_protection
			}
			add_artifact = cloak_of_protection
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = gauntlets_of_ogre_power
			}
			add_artifact = gauntlets_of_ogre_power
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = bracers_of_archery
			}
			add_artifact = bracers_of_archery
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = boots_of_levitation
			}
			add_artifact = boots_of_levitation
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = belt_of_dwarvenkind
			}
			add_artifact = belt_of_dwarvenkind
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = belt_of_giant_strength_hill
			}
			add_artifact = belt_of_giant_strength_hill
		}
		1 = {
			wealth = 200
		}
	}
}

random_major_magic_item_effect = {
	custom_tooltip = {
		text = random_major_magic_item_effect_tooltip
		random_list = {
			38 = {
				random_magic_weapon_effect = yes
			}
			11 = {
				random_magic_armor_effect = yes
			}
			23 = {
				random_magic_jewelry_effect = yes
			}
			23 = {
				random_magic_clothing_effect = yes
			}
		}
		if = {
			limit = {
				new_artifact = {
					always = yes
					is_artifact_active = no
				}
			}
			new_artifact = { unsafe_destroy_artifact = yes }
			random_major_magic_item_effect = yes #repeat effect
		}
	}
}
random_magic_weapon_effect = {
	random_list = {
		2 = {
			modifier = {
				factor = 0
				has_artifact = dancing_sword
			}
			add_artifact = dancing_sword
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = defender_sword
			}
			add_artifact = defender_sword
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = dwarven_thrower
			}
			add_artifact = dwarven_thrower
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = luck_blade
			}
			add_artifact = luck_blade
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = nine_lives_stealer
			}
			add_artifact = nine_lives_stealer
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = scimitar_of_speed
			}
			add_artifact = scimitar_of_speed
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = staff_of_striking
			}
			add_artifact = staff_of_striking
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = staff_thunder_lightning
			}
			add_artifact = staff_thunder_lightning
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = sun_blade
			}
			add_artifact = sun_blade
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = greater_rod_pact_keeper
			}
			add_artifact = greater_rod_pact_keeper
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = staff_of_fire
			}
			add_artifact = staff_of_fire
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = staff_of_frost
			}
			add_artifact = staff_of_frost
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = staff_of_healing
			}
			add_artifact = staff_of_healing
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = staff_of_power
			}
			add_artifact = staff_of_power
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = staff_of_woodlands
			}
			add_artifact = staff_of_woodlands
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = defending_dagger
			}
			add_artifact = defending_dagger
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = frost_brand
			}
			add_artifact = frost_brand
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = life_drinker
			}
			add_artifact = life_drinker
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = mace_of_terror
			}
			add_artifact = mace_of_terror
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = oathbow
			}
			add_artifact = oathbow
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = normal_rod_pact_keeper
			}
			add_artifact = normal_rod_pact_keeper
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = staff_of_swarming_insects
			}
			add_artifact = staff_of_swarming_insects
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = staff_python
			}
			add_artifact = staff_python
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = dagger_of_lifekeeping
			}
			add_artifact = dagger_of_lifekeeping
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = flame_tongue
			}
			add_artifact = flame_tongue
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = sword_of_sharpness
			}
			add_artifact = sword_of_sharpness
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = greater_wand_war_mage
			}
			add_artifact = greater_wand_war_mage
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = wand_of_lightning
			}
			add_artifact = wand_of_lightning
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = wand_of_fireballs
			}
			add_artifact = wand_of_fireballs
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = wand_of_fear
			}
			add_artifact = wand_of_fear
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = wand_of_binding
			}
			add_artifact = wand_of_binding
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = sword_of_subtlety
			}
			add_artifact = sword_of_subtlety
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = sylvan_scimitar
			}
			add_artifact = sylvan_scimitar
		}
		1 = {
			wealth = 400
		}
	}
}
random_magic_armor_effect = {
	random_list = {
		2 = {
			modifier = {
				factor = 0
				has_artifact = animated_shield
			}
			add_artifact = animated_shield
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = spellguard_shield
			}
			add_artifact = spellguard_shield
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = dwarven_plate
			}
			add_artifact = dwarven_plate
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = efreeti_chain
			}
			add_artifact = efreeti_chain
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = robe_of_colors
			}
			add_artifact = robe_of_colors
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = robe_of_stars
			}
			add_artifact = robe_of_stars
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = arrowcatching_shield
			}
			add_artifact = arrowcatching_shield
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = demon_armor
			}
			add_artifact = demon_armor
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = elven_chain
			}
			add_artifact = elven_chain
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = dragon_scale_mail
			}
			add_artifact = dragon_scale_mail
		}
		4 = {
			modifier = {
				factor = 0
				has_artifact = robe_of_eyes
			}
			add_artifact = robe_of_eyes
		}
		1 = {
			wealth = 400
		}
	}
}
random_magic_jewelry_effect = {
	random_list = {
		2 = {
			modifier = {
				factor = 0
				has_artifact = amulet_of_health
			}
			add_artifact = amulet_of_health
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = ring_of_protection
			}
			add_artifact = ring_of_protection
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = ring_of_free_action
			}
			add_artifact = ring_of_free_action
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = ring_of_mind_shield
			}
			add_artifact = ring_of_mind_shield
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = ring_of_evasion
			}
			add_artifact = ring_of_evasion
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = ring_of_regen
			}
			add_artifact = ring_of_regen
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = ring_of_shooting_stars
			}
			add_artifact = ring_of_shooting_stars
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = ring_of_spell_turning
			}
			add_artifact = ring_of_spell_turning
		}
		1 = {
			wealth = 400
		}
	}
}
random_magic_clothing_effect = {
	random_list = {
		2 = {
			modifier = {
				factor = 0
				has_artifact = cape_of_the_mountebank
			}
			add_artifact = cape_of_the_mountebank
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = cloak_of_elvenkind
			}
			add_artifact = cloak_of_elvenkind
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = cloak_of_protection
			}
			add_artifact = cloak_of_protection
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = boots_of_levitation
			}
			add_artifact = boots_of_levitation
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = belt_of_dwarvenkind
			}
			add_artifact = belt_of_dwarvenkind
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = belt_of_giant_strength_hill
			}
			add_artifact = belt_of_giant_strength_hill
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = cloak_of_arachnida
			}
			add_artifact = cloak_of_arachnida
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = cloak_of_displacement
			}
			add_artifact = cloak_of_displacement
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = cloak_of_the_bat
			}
			add_artifact = cloak_of_the_bat
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = mantle_of_spell_resistance
			}
			add_artifact = mantle_of_spell_resistance
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = gauntlets_of_ogre_power
			}
			add_artifact = gauntlets_of_ogre_power
		}
		2 = {
			modifier = {
				factor = 0
				has_artifact = bracers_of_archery
			}
			add_artifact = bracers_of_archery
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = bracers_of_defense
			}
			add_artifact = bracers_of_defense
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = boots_of_speed
			}
			add_artifact = boots_of_speed
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = belt_of_giant_strength_stone
			}
			add_artifact = belt_of_giant_strength_stone
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = belt_of_giant_strength_frost
			}
			add_artifact = belt_of_giant_strength_frost
		}
		1 = {
			modifier = {
				factor = 0
				has_artifact = belt_of_giant_strength_fire
			}
			add_artifact = belt_of_giant_strength_fire
		}
		1 = {
			wealth = 400
		}
	}
}

random_minor_art_object_effect = {
	custom_tooltip = {
		text = random_art_object_effect_tooltip
		random_list = {
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_cup_1
				}
				add_artifact = precious_cup_1
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = magnificent_painting
				}
				add_artifact = magnificent_painting
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_mask_1
				}
				add_artifact = precious_mask_1
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_statuette_1
				}
				add_artifact = precious_statuette_1
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_ceremonial_robes_1
				}
				add_artifact = precious_ceremonial_robes_1
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_tapestry_1
				}
				add_artifact = precious_tapestry_1
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_gem_1
				}
				add_artifact = precious_gem_1
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = the_lily_crown
				}
				add_artifact = the_lily_crown
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = noble_scepter
				}
				add_artifact = noble_scepter
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = engraved_sword
				}
				add_artifact = engraved_sword
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = engraved_dagger
				}
				add_artifact = engraved_dagger
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = silver_bracelets
				}
				add_artifact = silver_bracelets
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = collar_of_pearls
				}
				add_artifact = collar_of_pearls
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = circlet_of_twilight
				}
				add_artifact = circlet_of_twilight
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = silver_staff
				}
				add_artifact = silver_staff
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = iron_crown
				}
				add_artifact = iron_crown
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = engraved_crown
				}
				add_artifact = engraved_crown
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = ceremonial_axe
				}
				add_artifact = ceremonial_axe
			}

			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_cup_2
				}
				add_artifact = precious_cup_2
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = magnificent_painting_2
				}
				add_artifact = magnificent_painting_2
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_mask_2
				}
				add_artifact = precious_mask_2
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_statuette_2
				}
				add_artifact = precious_statuette_2
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_ceremonial_robes_2
				}
				add_artifact = precious_ceremonial_robes_2
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_tapestry_2
				}
				add_artifact = precious_tapestry_2
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_gem_2
				}
				add_artifact = precious_gem_2
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = crown_of_pearls
				}
				add_artifact = crown_of_pearls
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = ruby_scepter
				}
				add_artifact = ruby_scepter
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = golden_sword
				}
				add_artifact = golden_sword
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = bejeweled_dagger
				}
				add_artifact = bejeweled_dagger
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = golden_bracelets
				}
				add_artifact = golden_bracelets
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = necklace_of_radiance
				}
				add_artifact = necklace_of_radiance
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = circlet_of_the_sun
				}
				add_artifact = circlet_of_the_sun
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = golden_staff
				}
				add_artifact = golden_staff
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = crown_of_the_sea
				}
				add_artifact = crown_of_the_sea
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = amber_crown
				}
				add_artifact = amber_crown
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = obsidian_axe
				}
				add_artifact = obsidian_axe
			}
		}
	}
}
random_art_object_effect = {
	custom_tooltip = {
		text = random_art_object_effect_tooltip
		random_list = {
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_cup_2
				}
				add_artifact = precious_cup_2
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = magnificent_painting_2
				}
				add_artifact = magnificent_painting_2
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_mask_2
				}
				add_artifact = precious_mask_2
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_statuette_2
				}
				add_artifact = precious_statuette_2
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_ceremonial_robes_2
				}
				add_artifact = precious_ceremonial_robes_2
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_tapestry_2
				}
				add_artifact = precious_tapestry_2
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = precious_gem_2
				}
				add_artifact = precious_gem_2
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = crown_of_pearls
				}
				add_artifact = crown_of_pearls
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = ruby_scepter
				}
				add_artifact = ruby_scepter
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = golden_sword
				}
				add_artifact = golden_sword
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = bejeweled_dagger
				}
				add_artifact = bejeweled_dagger
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = golden_bracelets
				}
				add_artifact = golden_bracelets
			}
			8 = {
				modifier = {
					factor = 0
					has_artifact = necklace_of_radiance
				}
				add_artifact = necklace_of_radiance
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = circlet_of_the_sun
				}
				add_artifact = circlet_of_the_sun
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = golden_staff
				}
				add_artifact = golden_staff
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = crown_of_the_sea
				}
				add_artifact = crown_of_the_sea
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = amber_crown
				}
				add_artifact = amber_crown
			}
			2 = {
				modifier = {
					factor = 0
					has_artifact = obsidian_axe
				}
				add_artifact = obsidian_axe
			}

			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_cup_3
				}
				add_artifact = precious_cup_3
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = magnificent_painting_3
				}
				add_artifact = magnificent_painting_3
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_mask_3
				}
				add_artifact = precious_mask_3
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_statuette_3
				}
				add_artifact = precious_statuette_3
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_ceremonial_robes_3
				}
				add_artifact = precious_ceremonial_robes_3
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_tapestry_3
				}
				add_artifact = precious_tapestry_3
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = precious_gem_3
				}
				add_artifact = precious_gem_3
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = crown_of_majesty
				}
				add_artifact = crown_of_majesty
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = emerald_scepter
				}
				add_artifact = emerald_scepter
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = sword_of_heroes
				}
				add_artifact = sword_of_heroes
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = dagger_of_glory
				}
				add_artifact = dagger_of_glory
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = ruby_bracelets
				}
				add_artifact = ruby_bracelets
			}
			4 = {
				modifier = {
					factor = 0
					has_artifact = celestial_necklace
				}
				add_artifact = celestial_necklace
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = circlet_of_the_heavens
				}
				add_artifact = circlet_of_the_heavens
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = staff_of_majesty
				}
				add_artifact = staff_of_majesty
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = crown_of_crows
				}
				add_artifact = crown_of_crows
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = heros_crown
				}
				add_artifact = heros_crown
			}
			1 = {
				modifier = {
					factor = 0
					has_artifact = axe_of_the_ancestors
				}
				add_artifact = axe_of_the_ancestors
			}
		}
	}
}
#random_major_art_object_effect = { #WIP
#}

increase_adv_fatigue_effect = {
	if = {
		limit = {
			NOR = {
				has_character_modifier = adv_fatigue_1
				has_character_modifier = adv_fatigue_2
				has_character_modifier = adv_fatigue_3
				has_character_modifier = adv_fatigue_4
				has_character_modifier = adv_fatigue_5
				has_character_modifier = adv_fatigue_6
			}
		}
		custom_tooltip = { text = adventuring_fatigue_tt }
		hidden_effect = {
			add_character_modifier = {
					name = adv_fatigue_1
					duration = 60
				}
		}
	}
	else = {
		custom_tooltip = { text = adventuring_fatigue_tt }
		hidden_effect = {
			trigger_switch = {
				on_trigger = has_character_modifier
				adv_fatigue_1 = {
					remove_character_modifier = adv_fatigue_1
					add_character_modifier = {
							name = adv_fatigue_2
							duration = 60
						}
				}
				adv_fatigue_2 = {
					remove_character_modifier = adv_fatigue_2
					add_character_modifier = {
							name = adv_fatigue_3
							duration = 60
						}
				}
				adv_fatigue_3 = {
					remove_character_modifier = adv_fatigue_3
					add_character_modifier = {
							name = adv_fatigue_4
							duration = 60
						}
				}
				adv_fatigue_4 = {
					remove_character_modifier = adv_fatigue_4
					add_character_modifier = {
							name = adv_fatigue_5
							duration = 60
						}
				}
				adv_fatigue_5 = {
					remove_character_modifier = adv_fatigue_5
					add_character_modifier = {
							name = adv_fatigue_6
							duration = 60
						}
				}
			}
		}
	}
}
decrease_adv_fatigue_effect = {
	if = {
		limit = {
			OR = {
				has_character_modifier = adv_fatigue_1
				has_character_modifier = adv_fatigue_2
				has_character_modifier = adv_fatigue_3
				has_character_modifier = adv_fatigue_4
				has_character_modifier = adv_fatigue_5
				has_character_modifier = adv_fatigue_6
			}
		}
		custom_tooltip = { text = less_adventuring_fatigue_tt }
		hidden_effect = {
			trigger_switch = {
				on_trigger = has_character_modifier
				adv_fatigue_1 = {
					remove_character_modifier = adv_fatigue_1
				}
				adv_fatigue_2 = {
					remove_character_modifier = adv_fatigue_2
					add_character_modifier = {
						name = adv_fatigue_1
						duration = 60
					}
				}
				adv_fatigue_3 = {
					remove_character_modifier = adv_fatigue_3
					add_character_modifier = {
						name = adv_fatigue_2
						duration = 60
					}
				}
				adv_fatigue_4 = {
					remove_character_modifier = adv_fatigue_4
					add_character_modifier = {
						name = adv_fatigue_3
						duration = 60
					}
				}
				adv_fatigue_5 = {
					remove_character_modifier = adv_fatigue_5
					add_character_modifier = {
						name = adv_fatigue_4
						duration = 60
					}
				}
				adv_fatigue_6 = {
					remove_character_modifier = adv_fatigue_6
					add_character_modifier = {
						name = adv_fatigue_5
						duration = 60
					}
				}
			}
		}
	}
}
heal_wounds_adv_effect = {
	if = {
		limit = {
			trait = mangled
		}
		remove_trait = mangled
		add_trait = severely_injured
	}
	else_if = {
		limit = {
			trait = severely_injured
		}
		remove_trait = severely_injured
		add_trait = wounded
	}
	else_if = {
		limit = {
			trait = wounded
		}
		remove_trait = wounded
	}
}

trivial_adv_xp_effect = {
	if = {
		limit = {
			trait = barbarian
		}
		hidden_tooltip = {
			change_variable = { which = barbarian_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_barbarian
		}
		hidden_tooltip = {
			change_variable = { which = barbarian_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = bard
		}
		hidden_tooltip = {
			change_variable = { which = bard_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_bard
		}
		hidden_tooltip = {
			change_variable = { which = bard_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = cleric
		}
		hidden_tooltip = {
			change_variable = { which = cleric_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_cleric
		}
		hidden_tooltip = {
			change_variable = { which = cleric_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = druid
		}
		hidden_tooltip = {
			change_variable = { which = druid_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_druid
		}
		hidden_tooltip = {
			change_variable = { which = druid_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = fighter
		}
		hidden_tooltip = {
			change_variable = { which = fighter_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_fighter
		}
		hidden_tooltip = {
			change_variable = { which = fighter_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = class_monk
		}
		hidden_tooltip = {
			change_variable = { which = monk_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_monk
		}
		hidden_tooltip = {
			change_variable = { which = monk_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = paladin
		}
		hidden_tooltip = {
			change_variable = { which = paladin_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_paladin
		}
		hidden_tooltip = {
			change_variable = { which = paladin_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = ranger
		}
		hidden_tooltip = {
			change_variable = { which = ranger_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_ranger
		}
		hidden_tooltip = {
			change_variable = { which = ranger_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = rogue
		}
		hidden_tooltip = {
			change_variable = { which = rogue_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_rogue
		}
		hidden_tooltip = {
			change_variable = { which = rogue_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = shadow
		}
		hidden_tooltip = {
			change_variable = { which = shadow_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_shadow
		}
		hidden_tooltip = {
			change_variable = { which = shadow_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = sorcerer
		}
		hidden_tooltip = {
			change_variable = { which = sorcerer_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_sorcerer
		}
		hidden_tooltip = {
			change_variable = { which = sorcerer_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = warlock
		}
		hidden_tooltip = {
			change_variable = { which = warlock_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_warlock
		}
		hidden_tooltip = {
			change_variable = { which = warlock_xp value = 30 }
		}
	}
	if = {
		limit = {
			trait = wizard
		}
		hidden_tooltip = {
			change_variable = { which = wizard_xp value = 50 }
		}
	}
	else_if = {
		limit = {
			trait = trained_wizard
		}
		hidden_tooltip = {
			change_variable = { which = wizard_xp value = 30 }
		}
	}
}
easy_adv_xp_effect = {
	if = {
		limit = {
			z_barbarian = yes
			NOT = { trait = legendary_barbarian }
		}
		hidden_tooltip = {
			change_variable = { which = barbarian_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_bard = yes
			NOT = { trait = legendary_bard }
		}
		hidden_tooltip = {
			change_variable = { which = bard_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_cleric = yes
			NOT = { trait = legendary_cleric }
		}
		hidden_tooltip = {
			change_variable = { which = cleric_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_druid = yes
			NOT = { trait = legendary_druid }
		}
		hidden_tooltip = {
			change_variable = { which = druid_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_fighter = yes
			NOT = { trait = legendary_fighter }
		}
		hidden_tooltip = {
			change_variable = { which = fighter_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_monk = yes
			NOT = { trait = legendary_monk }
		}
		hidden_tooltip = {
			change_variable = { which = monk_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_paladin = yes
			NOT = { trait = legendary_paladin }
		}
		hidden_tooltip = {
			change_variable = { which = paladin_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_ranger = yes
			NOT = { trait = legendary_ranger }
		}
		hidden_tooltip = {
			change_variable = { which = ranger_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_rogue = yes
			NOT = { trait = legendary_rogue }
		}
		hidden_tooltip = {
			change_variable = { which = rogue_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_shadow = yes
			NOT = { trait = legendary_shadow }
		}
		hidden_tooltip = {
			change_variable = { which = shadow_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_sorcerer = yes
			NOT = { trait = legendary_sorcerer }
		}
		hidden_tooltip = {
			change_variable = { which = sorcerer_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_warlock = yes
			NOT = { trait = legendary_warlock }
		}
		hidden_tooltip = {
			change_variable = { which = warlock_xp value = 100 }
		}
	}
	if = {
		limit = {
			z_wizard = yes
			NOT = { trait = legendary_wizard }
		}
		hidden_tooltip = {
			change_variable = { which = wizard_xp value = 100 }
		}
	}
}
mod_adv_xp_effect = {
	if = {
		limit = {
			z_barbarian = yes
			NOT = { trait = legendary_barbarian }
		}
		hidden_tooltip = {
			change_variable = { which = barbarian_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_bard = yes
			NOT = { trait = legendary_bard }
		}
		hidden_tooltip = {
			change_variable = { which = bard_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_cleric = yes
			NOT = { trait = legendary_cleric }
		}
		hidden_tooltip = {
			change_variable = { which = cleric_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_druid = yes
			NOT = { trait = legendary_druid }
		}
		hidden_tooltip = {
			change_variable = { which = druid_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_fighter = yes
			NOT = { trait = legendary_fighter }
		}
		hidden_tooltip = {
			change_variable = { which = fighter_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_monk = yes
			NOT = { trait = legendary_monk }
		}
		hidden_tooltip = {
			change_variable = { which = monk_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_paladin = yes
			NOT = { trait = legendary_paladin }
		}
		hidden_tooltip = {
			change_variable = { which = paladin_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_ranger = yes
			NOT = { trait = legendary_ranger }
		}
		hidden_tooltip = {
			change_variable = { which = ranger_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_rogue = yes
			NOT = { trait = legendary_rogue }
		}
		hidden_tooltip = {
			change_variable = { which = rogue_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_shadow = yes
			NOT = { trait = legendary_shadow }
		}
		hidden_tooltip = {
			change_variable = { which = shadow_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_sorcerer = yes
			NOT = { trait = legendary_sorcerer }
		}
		hidden_tooltip = {
			change_variable = { which = sorcerer_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_warlock = yes
			NOT = { trait = legendary_warlock }
		}
		hidden_tooltip = {
			change_variable = { which = warlock_xp value = 200 }
		}
	}
	if = {
		limit = {
			z_wizard = yes
			NOT = { trait = legendary_wizard }
		}
		hidden_tooltip = {
			change_variable = { which = wizard_xp value = 200 }
		}
	}
}

adventure_cleanup_effect = {
	remove_character_modifier = sent_adventurers
	clr_character_flag = adv_mod_difficulty
	clr_character_flag = adv_vs_host
	clr_character_flag = adv_researched_loc
	clr_character_flag = adv_negotiated_locals
	clr_character_flag = adv_bad_weather
	clr_character_flag = adv_did_forage
	clr_character_flag = adv_got_lost
	clr_character_flag = adv_did_pinpoint
	clr_character_flag = adv_its_a_trap
	clr_character_flag = adv_strange_magic
	clr_character_flag = adv_met_mercs
	clr_character_flag = adv_cave_in
	clr_character_flag = adv_passive_monster
	clr_character_flag = adv_talked_mercs
	clr_character_flag = adv_drugged_supplies
	clr_character_flag = adv_diversion
	clr_character_flag = adv_blend_in
	clr_character_flag = adv_nosy_priests
	event_target:party_member_1 = {
		clr_character_flag = party_member_1
		clr_character_flag = party_member_1_ai_pick
		clr_character_flag = party_member_2_ai_pick
		clr_character_flag = party_member_3_ai_pick
		clr_character_flag = party_member_4_ai_pick
		remove_trait = travelling
		remove_trait = wounded
		remove_trait = mangled
		remove_trait = severely_injured
	}
	event_target:party_member_2 = {
		clr_character_flag = party_member_2
		clr_character_flag = party_member_1_ai_pick
		clr_character_flag = party_member_2_ai_pick
		clr_character_flag = party_member_3_ai_pick
		clr_character_flag = party_member_4_ai_pick
		remove_trait = travelling
		remove_trait = wounded
		remove_trait = mangled
		remove_trait = severely_injured
	}
	event_target:party_member_3 = {
		clr_character_flag = party_member_3
		clr_character_flag = party_member_1_ai_pick
		clr_character_flag = party_member_2_ai_pick
		clr_character_flag = party_member_3_ai_pick
		clr_character_flag = party_member_4_ai_pick
		remove_trait = travelling
		remove_trait = wounded
		remove_trait = mangled
		remove_trait = severely_injured
	}
	event_target:party_member_4 = {
		clr_character_flag = party_member_4
		clr_character_flag = party_member_1_ai_pick
		clr_character_flag = party_member_2_ai_pick
		clr_character_flag = party_member_3_ai_pick
		clr_character_flag = party_member_4_ai_pick
		remove_trait = travelling
		remove_trait = wounded
		remove_trait = mangled
		remove_trait = severely_injured
	}
}
