barb_legend_raise_tier = {
	if = {
		limit = {
			has_character_modifier = barbarian_legend_0
		}
		add_character_modifier = {
			name = barbarian_legend_1
			duration = -1
		}
		remove_character_modifier = barbarian_legend_0
	}
	else_if = {
		limit = {
			has_character_modifier = barbarian_legend_1
		}
		add_character_modifier = {
			name = barbarian_legend_2
			duration = -1
		}
		remove_character_modifier = barbarian_legend_1
	}
	else_if = {
		limit = {
			has_character_modifier = barbarian_legend_2
		}
		add_character_modifier = {
			name = barbarian_legend_3
			duration = -1
		}
		remove_character_modifier = barbarian_legend_2
	}
	else_if = {
		limit = {
			has_character_modifier = barbarian_legend_3
		}
		add_character_modifier = {
			name = barbarian_legend_4
			duration = -1
		}
		remove_character_modifier = barbarian_legend_3
	}
	else_if = {
		limit = {
			has_character_modifier = barbarian_legend_4
		}
		add_character_modifier = {
			name = barbarian_legend_5
			duration = -1
		}
		remove_character_modifier = barbarian_legend_4
	}
}

barb_legend_lower_tier = {
	if = {
		limit = {
			has_character_modifier = barbarian_legend_0
		}
		set_character_flag = barb_legend_fail
	}
	else_if = {
		limit = {
			has_character_modifier = barbarian_legend_1
		}
		add_character_modifier = {
			name = barbarian_legend_0
			duration = -1
		}
		remove_character_modifier = barbarian_legend_1
	}
	else_if = {
		limit = {
			has_character_modifier = barbarian_legend_2
		}
		add_character_modifier = {
			name = barbarian_legend_1
			duration = -1
		}
		remove_character_modifier = barbarian_legend_2
	}
	else_if = {
		limit = {
			has_character_modifier = barbarian_legend_3
		}
		add_character_modifier = {
			name = barbarian_legend_2
			duration = -1
		}
		remove_character_modifier = barbarian_legend_3
	}
	else_if = {
		limit = {
			has_character_modifier = barbarian_legend_4
		}
		add_character_modifier = {
			name = barbarian_legend_3
			duration = -1
		}
		remove_character_modifier = barbarian_legend_4
	}
}

small_psi_stress = {
	if = {
		limit = {
			has_character_flag = recentpsi
			NOT = { # this means that block fires if the flag has been on for less than the determined time
				had_character_flag = {
					flag = recentpsi
					months = 2 # might bump to 3
				}
			}
		}
		clr_character_flag = recentpsi
		set_character_flag = recentpsi
		random_list = {
			1 = {
				set_character_flag = psiupgrade
				med_psi_stress = yes
			}
			3 = {
				if = {
					limit = {
						NOR = {
							has_character_modifier = small_psi_stress
							has_character_modifier = medium_psi_stress
							has_character_modifier = big_psi_stress
						}
					}
					add_character_modifier = {
						name = small_psi_stress
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_character_modifier = big_psi_stress
					}
					random = {
						chance = 20
						modifier = {
							factor = 0.8
							trait = journeyman_psion
						}
						modifier = {
							factor = 0.75
							trait = expert_psion
						}
						modifier = {
							factor = 0.7
							trait = master_psion
						}
						modifier = {
							factor = 0.6
							trait = renowned_psion
						}
						modifier = {
							factor = 0.5
							trait = legendary_psion
						}
						remove_character_modifier = big_psi_stress
						add_trait = stressed
					}
				}
				else_if = {
					limit = {
						has_character_modifier = medium_psi_stress
					}
					random = {
						chance = 35
						modifier = {
							factor = 0.8
							trait = journeyman_psion
						}
						modifier = {
							factor = 0.75
							trait = expert_psion
						}
						modifier = {
							factor = 0.7
							trait = master_psion
						}
						modifier = {
							factor = 0.6
							trait = renowned_psion
						}
						modifier = {
							factor = 0.5
							trait = legendary_psion
						}
						remove_character_modifier = medium_psi_stress
						add_character_modifier = {
							name = big_psi_stress
							duration = -1
						}
					}
				}
				else_if = {
					limit = {
						has_character_modifier = small_psi_stress
					}
					random = {
						chance = 50
						modifier = {
							factor = 0.8
							trait = journeyman_psion
						}
						modifier = {
							factor = 0.75
							trait = expert_psion
						}
						modifier = {
							factor = 0.7
							trait = master_psion
						}
						modifier = {
							factor = 0.6
							trait = renowned_psion
						}
						modifier = {
							factor = 0.5
							trait = legendary_psion
						}
						remove_character_modifier = small_psi_stress
						add_character_modifier = {
							name = medium_psi_stress
							duration = -1
						}
					}
				}
			}
		}
	}
	else = {
		clr_character_flag = recentpsi
		set_character_flag = recentpsi
		if = {
			limit = {
				NOR = {
					has_character_modifier = small_psi_stress
					has_character_modifier = medium_psi_stress
					has_character_modifier = big_psi_stress
				}
			}
			add_character_modifier = {
				name = small_psi_stress
				duration = -1
			}
		}
		else_if = {
			limit = {
				has_character_modifier = big_psi_stress
			}
			random = {
				chance = 20
				modifier = {
					factor = 0.8
					trait = journeyman_psion
				}
				modifier = {
					factor = 0.75
					trait = expert_psion
				}
				modifier = {
					factor = 0.7
					trait = master_psion
				}
				modifier = {
					factor = 0.6
					trait = renowned_psion
				}
				modifier = {
					factor = 0.5
					trait = legendary_psion
				}
				remove_character_modifier = big_psi_stress
				add_trait = stressed
			}
		}
		else_if = {
			limit = {
				has_character_modifier = medium_psi_stress
			}
			random = {
				chance = 35
				modifier = {
					factor = 0.8
					trait = journeyman_psion
				}
				modifier = {
					factor = 0.75
					trait = expert_psion
				}
				modifier = {
					factor = 0.7
					trait = master_psion
				}
				modifier = {
					factor = 0.6
					trait = renowned_psion
				}
				modifier = {
					factor = 0.5
					trait = legendary_psion
				}
				remove_character_modifier = medium_psi_stress
				add_character_modifier = {
					name = big_psi_stress
					duration = -1
				}
			}
		}
		else_if = {
			limit = {
				has_character_modifier = small_psi_stress
			}
			random = {
				chance = 50
				modifier = {
					factor = 0.8
					trait = journeyman_psion
				}
				modifier = {
					factor = 0.75
					trait = expert_psion
				}
				modifier = {
					factor = 0.7
					trait = master_psion
				}
				modifier = {
					factor = 0.6
					trait = renowned_psion
				}
				modifier = {
					factor = 0.5
					trait = legendary_psion
				}
				remove_character_modifier = small_psi_stress
				add_character_modifier = {
					name = medium_psi_stress
					duration = -1
				}
			}
		}
	}
}

med_psi_stress = {
	if = {
		limit = {
			NOT = { has_character_flag = psiupgrade }
			has_character_flag = recentpsi
			NOT = { # this means that block fires if the flag has been on for less than the determined time
				had_character_flag = {
					flag = recentpsi
					months = 2 # might bump to 3
				}
			}
		}
		clr_character_flag = recentpsi
		set_character_flag = recentpsi
		random_list = {
			1 = {
				big_psi_stress = yes
			}
			3 = {
				if = {
					limit = {
						NOR = {
							has_character_modifier = small_psi_stress
							has_character_modifier = medium_psi_stress
							has_character_modifier = big_psi_stress
						}
					}
					add_character_modifier = {
						name = medium_psi_stress
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_character_modifier = big_psi_stress
					}
					random = {
						chance = 70
						modifier = {
							factor = 0.8
							trait = journeyman_psion
						}
						modifier = {
							factor = 0.75
							trait = expert_psion
						}
						modifier = {
							factor = 0.7
							trait = master_psion
						}
						modifier = {
							factor = 0.6
							trait = renowned_psion
						}
						modifier = {
							factor = 0.5
							trait = legendary_psion
						}
						remove_character_modifier = big_psi_stress
						add_trait = stressed
					}
				}
				else_if = {
					limit = {
						has_character_modifier = medium_psi_stress
					}
					random_list = {
						1 = {
							modifier = {
								factor = 0.8
								trait = journeyman_psion
							}
							modifier = {
								factor = 0.75
								trait = expert_psion
							}
							modifier = {
								factor = 0.7
								trait = master_psion
							}
							modifier = {
								factor = 0.6
								trait = renowned_psion
							}
							modifier = {
								factor = 0.5
								trait = legendary_psion
							}
							remove_character_modifier = medium_psi_stress
						add_character_modifier = {
							name = big_psi_stress
							duration = -1
						}
						}
						2 = {
							
						}
					}
				}
				else_if = {
					limit = {
						has_character_modifier = small_psi_stress
					}
					random_list = {
						1 = {
							modifier = {
								factor = 0.8
								trait = journeyman_psion
							}
							modifier = {
								factor = 0.75
								trait = expert_psion
							}
							modifier = {
								factor = 0.7
								trait = master_psion
							}
							modifier = {
								factor = 0.6
								trait = renowned_psion
							}
							modifier = {
								factor = 0.5
								trait = legendary_psion
							}
							remove_character_modifier = small_psi_stress
							add_character_modifier = {
								name = big_psi_stress
								duration = -1
							}
						}
						10 = {
							remove_character_modifier = small_psi_stress
							add_character_modifier = {
								name = medium_psi_stress
								duration = -1
							}
						}
					}
				}
			}
		}
	}
	else = {
		clr_character_flag = psiupgrade
		clr_character_flag = recentpsi
		set_character_flag = recentpsi
		if = {
			limit = {
				NOR = {
					has_character_modifier = small_psi_stress
					has_character_modifier = medium_psi_stress
					has_character_modifier = big_psi_stress
				}
			}
			add_character_modifier = {
				name = medium_psi_stress
				duration = -1
			}
		}
		else_if = {
			limit = {
				has_character_modifier = big_psi_stress
			}
			random = {
				chance = 70
				modifier = {
					factor = 0.8
					trait = journeyman_psion
				}
				modifier = {
					factor = 0.75
					trait = expert_psion
				}
				modifier = {
					factor = 0.7
					trait = master_psion
				}
				modifier = {
					factor = 0.6
					trait = renowned_psion
				}
				modifier = {
					factor = 0.5
					trait = legendary_psion
				}
				remove_character_modifier = big_psi_stress
				add_trait = stressed
			}
		}
		else_if = {
			limit = {
				has_character_modifier = medium_psi_stress
			}
			random_list = {
				1 = {
					modifier = {
						factor = 0.8
						trait = journeyman_psion
					}
					modifier = {
						factor = 0.75
						trait = expert_psion
					}
					modifier = {
						factor = 0.7
						trait = master_psion
					}
					modifier = {
						factor = 0.6
						trait = renowned_psion
					}
					modifier = {
						factor = 0.5
						trait = legendary_psion
					}
					remove_character_modifier = medium_psi_stress
				add_character_modifier = {
					name = big_psi_stress
					duration = -1
				}
				}
				2 = {
					
				}
			}
		}
		else_if = {
			limit = {
				has_character_modifier = small_psi_stress
			}
			random_list = {
				1 = {
					modifier = {
						factor = 0.8
						trait = journeyman_psion
					}
					modifier = {
						factor = 0.75
						trait = expert_psion
					}
					modifier = {
						factor = 0.7
						trait = master_psion
					}
					modifier = {
						factor = 0.6
						trait = renowned_psion
					}
					modifier = {
						factor = 0.5
						trait = legendary_psion
					}
					remove_character_modifier = small_psi_stress
					add_character_modifier = {
						name = big_psi_stress
						duration = -1
					}
				}
				10 = {
					remove_character_modifier = small_psi_stress
					add_character_modifier = {
						name = medium_psi_stress
						duration = -1
					}
				}
			}
		}
	}
}

big_psi_stress = {
	if = {
		limit = {
			NOT = { has_character_flag = psiupgrade }
			has_character_flag = recentpsi
			NOT = { # this means that block fires if the flag has been on for less than the determined time
				had_character_flag = {
					flag = recentpsi
					months = 2 # might bump to 3
				}
			}
		}
		clr_character_flag = recentpsi
		set_character_flag = recentpsi
		random_list = {
			1 = {
				remove_character_modifier = big_psi_stress
				add_trait = stressed
			}
			3 = {
				if = {
					limit = {
						NOR = {
							has_character_modifier = small_psi_stress
							has_character_modifier = medium_psi_stress
							has_character_modifier = big_psi_stress
						}
					}
					add_character_modifier = {
						name = big_psi_stress
						duration = -1
					}
				}
				else_if = {
					limit = {
						has_character_modifier = big_psi_stress
					}
					remove_character_modifier = big_psi_stress
					add_trait = stressed
				}
				else_if = {
					limit = {
						has_character_modifier = medium_psi_stress
					}
					random_list = {
						1 = {
							modifier = {
								factor = 0.8
								trait = journeyman_psion
							}
							modifier = {
								factor = 0.75
								trait = expert_psion
							}
							modifier = {
								factor = 0.7
								trait = master_psion
							}
							modifier = {
								factor = 0.6
								trait = renowned_psion
							}
							modifier = {
								factor = 0.5
								trait = legendary_psion
							}
							remove_character_modifier = medium_psi_stress
							add_trait = stressed
						}
						2 = {
							remove_character_modifier = medium_psi_stress
							add_character_modifier = {
								name = big_psi_stress
								duration = -1
							}
						}
					}
				}
				else_if = {
					limit = {
						has_character_modifier = small_psi_stress
					}
					random_list = {
						33 = {
							modifier = {
								factor = 0.8
								trait = journeyman_psion
							}
							modifier = {
								factor = 0.75
								trait = expert_psion
							}
							modifier = {
								factor = 0.7
								trait = master_psion
							}
							modifier = {
								factor = 0.6
								trait = renowned_psion
							}
							modifier = {
								factor = 0.5
								trait = legendary_psion
							}
							remove_character_modifier = small_psi_stress
							add_trait = stressed
						}
						100 = {
							remove_character_modifier = small_psi_stress
							add_character_modifier = {
								name = big_psi_stress
								duration = -1
							}
						}
					}
				}
			}
		}
	}
	else = {
		clr_character_flag = psiupgrade
		clr_character_flag = recentpsi
		set_character_flag = recentpsi
		if = {
			limit = {
				NOR = {
					has_character_modifier = small_psi_stress
					has_character_modifier = medium_psi_stress
					has_character_modifier = big_psi_stress
				}
			}
			add_character_modifier = {
				name = big_psi_stress
				duration = -1
			}
		}
		else_if = {
			limit = {
				has_character_modifier = big_psi_stress
			}
			remove_character_modifier = big_psi_stress
			add_trait = stressed
		}
		else_if = {
			limit = {
				has_character_modifier = medium_psi_stress
			}
			random_list = {
				1 = {
					modifier = {
						factor = 0.8
						trait = journeyman_psion
					}
					modifier = {
						factor = 0.75
						trait = expert_psion
					}
					modifier = {
						factor = 0.7
						trait = master_psion
					}
					modifier = {
						factor = 0.6
						trait = renowned_psion
					}
					modifier = {
						factor = 0.5
						trait = legendary_psion
					}
					remove_character_modifier = medium_psi_stress
					add_trait = stressed
				}
				2 = {
					remove_character_modifier = medium_psi_stress
					add_character_modifier = {
						name = big_psi_stress
						duration = -1
					}
				}
			}
		}
		else_if = {
			limit = {
				has_character_modifier = small_psi_stress
			}
			random_list = {
				33 = {
					modifier = {
						factor = 0.8
						trait = journeyman_psion
					}
					modifier = {
						factor = 0.75
						trait = expert_psion
					}
					modifier = {
						factor = 0.7
						trait = master_psion
					}
					modifier = {
						factor = 0.6
						trait = renowned_psion
					}
					modifier = {
						factor = 0.5
						trait = legendary_psion
					}
					remove_character_modifier = small_psi_stress
					add_trait = stressed
				}
				100 = {
					remove_character_modifier = small_psi_stress
					add_character_modifier = {
						name = big_psi_stress
						duration = -1
					}
				}
			}
		}
	}
}


remove_all_classes = {
	remove_trait = wizard
	remove_trait = trained_wizard
	remove_trait = journeyman_wizard
	remove_trait = expert_wizard
	remove_trait = master_wizard
	remove_trait = renowned_wizard
	remove_trait = legendary_wizard
	remove_trait = sorcerer
	remove_trait = trained_sorcerer
	remove_trait = journeyman_sorcerer
	remove_trait = expert_sorcerer
	remove_trait = master_sorcerer
	remove_trait = renowned_sorcerer
	remove_trait = legendary_sorcerer
	remove_trait = warlock
	remove_trait = trained_warlock
	remove_trait = journeyman_warlock
	remove_trait = expert_warlock
	remove_trait = master_warlock
	remove_trait = renowned_warlock
	remove_trait = legendary_warlock
	remove_trait = bard
	remove_trait = trained_bard
	remove_trait = journeyman_bard
	remove_trait = expert_bard
	remove_trait = master_bard
	remove_trait = renowned_bard
	remove_trait = legendary_bard
	remove_trait = class_monk
	remove_trait = trained_monk
	remove_trait = journeyman_monk
	remove_trait = expert_monk
	remove_trait = master_monk
	remove_trait = renowned_monk
	remove_trait = legendary_monk
	remove_trait = psion
	remove_trait = trained_psion
	remove_trait = journeyman_psion
	remove_trait = expert_psion
	remove_trait = master_psion
	remove_trait = renowned_psion
	remove_trait = legendary_psion
	remove_trait = fighter
	remove_trait = trained_fighter
	remove_trait = journeyman_fighter
	remove_trait = expert_fighter
	remove_trait = master_fighter
	remove_trait = renowned_fighter
	remove_trait = legendary_fighter
	remove_trait = barbarian
	remove_trait = trained_barbarian
	remove_trait = journeyman_barbarian
	remove_trait = expert_barbarian
	remove_trait = master_barbarian
	remove_trait = renowned_barbarian
	remove_trait = legendary_barbarian
	remove_trait = ranger
	remove_trait = trained_ranger
	remove_trait = journeyman_ranger
	remove_trait = expert_ranger
	remove_trait = master_ranger
	remove_trait = renowned_ranger
	remove_trait = legendary_ranger
	remove_trait = paladin
	remove_trait = trained_paladin
	remove_trait = journeyman_paladin
	remove_trait = expert_paladin
	remove_trait = master_paladin
	remove_trait = renowned_paladin
	remove_trait = legendary_paladin
	remove_trait = druid
	remove_trait = trained_druid
	remove_trait = journeyman_druid
	remove_trait = expert_druid
	remove_trait = master_druid
	remove_trait = renowned_druid
	remove_trait = legendary_druid
	remove_trait = cleric
	remove_trait = trained_cleric
	remove_trait = journeyman_cleric
	remove_trait = expert_cleric
	remove_trait = master_cleric
	remove_trait = renowned_cleric
	remove_trait = legendary_cleric
	remove_trait = rogue
	remove_trait = trained_rogue
	remove_trait = journeyman_rogue
	remove_trait = expert_rogue
	remove_trait = master_rogue
	remove_trait = renowned_rogue
	remove_trait = legendary_rogue
	remove_trait = shadow
	remove_trait = trained_shadow
	remove_trait = journeyman_shadow
	remove_trait = expert_shadow
	remove_trait = master_shadow
	remove_trait = renowned_shadow
	remove_trait = legendary_shadow
}

pick_random_class_effect = {
	random_list = {
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_wizard
				}
				is_wizard_class_allowed = yes
				z_wizard = no
			}
			modifier = {
				factor = 0.5
				trait = slothful
			}
			modifier = {
				factor = 0.5
				trait = content
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = diligent
					trait = ambitious
				}
			}
			modifier = {
				factor = 2.0
				trait = erudite
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = brilliant
					trait = genius
					trait = quick
					trait = smart
					trait = bright
					trait = shrewd
				}
			}
			modifier = {
				factor = 2.0
				trait = patient
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
			modifier = {
				factor = 3.0
				trait = scholar
			}
			modifier = {
				factor = 3.0
				#government = magocratic_feudal_government
				realm = {
					OR = {
						has_law = succ_magic_elective
						has_law = succ_magic_dynastic
						has_law = succ_magic_wizard
						#has_law = succ_magic_zulkir
					}
				}
			}
			modifier = {
				factor = 3.0
				is_member_of_any_arcane_society_trigger = yes
			}
			add_character_modifier = { name = class_cd years = 3 }
			become_wizard_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_warlock
				}
				is_warlock_class_allowed = yes
				z_warlock = no
			}
			modifier = {
				factor = 2.0
				trait = cynical
			}
			modifier = {
				factor = 0.5
				trait = humble
			}
			modifier = {
				factor = 3.0
				trait = ambitious
			}
			modifier = {
				factor = 0.3
				trait = content
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = brilliant
					trait = genius
					trait = quick
					trait = smart
					trait = bright
					trait = shrewd
				}
			}
			modifier = {
				factor = 2.0
				trait = proud
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
			modifier = {
				factor = 2.0
				trait = mystic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 3.0
				#government = magocratic_feudal_government
				realm = {
					OR = {
						has_law = succ_magic_elective
						has_law = succ_magic_dynastic
						has_law = succ_magic_warlock
					}
				}
			}
			modifier = {
				factor = 3.0
				OR = {
					is_member_of_any_zhent_like_society_trigger = yes
					society_member_of = the_satanists
				}
			}
			add_character_modifier = { name = class_cd years = 3 }
			become_warlock_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_sorcerer
				}
				is_sorcerer_class_allowed = yes
				z_sorcerer = no
			}
			modifier = {
				factor = 0.5
				trait = slothful
			}
			modifier = {
				factor = 0.5
				trait = humble
			}
			modifier = {
				factor = 2.0
				trait = diligent
			}
			modifier = {
				factor = 3.0
				trait = ambitious
			}
			modifier = {
				factor = 0.3
				trait = content
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = brilliant
					trait = genius
					trait = quick
					trait = smart
					trait = bright
					trait = shrewd
				}
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
			modifier = {
				factor = 2.0
				trait = mystic
			}
			modifier = {
				factor = 1.5
				trait = patient
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = creature_kobold
					trait = creature_dragonborn
				}
			}
			modifier = {
				factor = 3.0
				#government = magocratic_feudal_government
				realm = {
					OR = {
						has_law = succ_magic_elective
						has_law = succ_magic_dynastic
					}
				}
			}
			modifier = {
				factor = 3.0
				is_member_of_any_arcane_society_trigger = yes
			}
			add_character_modifier = { name = class_cd years = 3 }
			become_sorcerer_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_monk
				}
				is_monk_class_allowed = yes
				z_monk = no
			}
			modifier = {
				factor = 3.0
				culture = githzerai
			}
			modifier = {
				factor = 2.0
				trait = diligent
			}
			modifier = {
				factor = 0.2
				trait = slothful
			}
			modifier = {
				factor = 3.0
				trait = patient
			}
			modifier = {
				factor = 2.0
				trait = humble
			}
			modifier = {
				factor = 2.0
				trait = temperate
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = sturdy
					is_strong_trigger = yes
				}
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 0.1
				trait = cynical
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
			modifier = {
				factor = 2.0
				trait = theologian
			}
			modifier = {
				factor = 2.0
				trait = mystic
			}
			modifier = {
				factor = 0.5
				trait = hedonist
			}
			modifier = {
				factor = 0.5
				trait = gluttonous
			}
			modifier = {
				factor = 0.2
				trait = drunkard
			}
			modifier = {
				factor = 0.1
				OR = {
					trait = one_handed
					trait = one_legged
					trait = mangled
					trait = maimed
				}
			}
			modifier = {
				factor = 2.0
				OR = {
					government = divine_feudal_government
					government = theocratic_feudal_government
					government = theocracy_government
					realm = {
						OR = {
							has_law = succ_divine_elective
							has_law = succ_divine_dynastic
						}
					}
				}
			}
			modifier = {
				factor = 3.0
				government = nomadic_tribal_government
			}
			modifier = {
				factor = 3.0
				realm = {
					has_law = succ_divine_monk
				}
			}
			modifier = {
				factor = 3.0
				is_member_of_any_monastic_order_trigger = yes
			}		
			modifier = {
				factor = 1.5
				OR = {
					culture_group = taan_group
					culture_group = shou_group
					culture_group = celestial_sea_group
					culture_group = malatran_group
					culture_group = old_zakharan_group
				}
			}
			add_character_modifier = { name = class_cd years = 3 }
			become_monk_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_psion
				}
				is_psion_class_allowed = yes
				z_psion = no
			}
			modifier = {
				factor = 0.5
				trait = slothful
			}
			modifier = {
				factor = 0.5
				trait = humble
			}
			modifier = {
				factor = 2.0
				trait = diligent
			}
			modifier = {
				factor = 3.0
				trait = ambitious
			}
			modifier = {
				factor = 0.3
				trait = content
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = brilliant
					trait = genius
					trait = quick
					trait = smart
					trait = bright
					trait = shrewd
				}
			}
			modifier = {
				factor = 2.0
				trait = proud
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
			modifier = {
				factor = 2.0
				trait = mystic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				culture_group = chondathan_group
			}
			add_character_modifier = { name = class_cd years = 3 }
			become_psion_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_paladin
				}
				is_paladin_class_allowed = yes
				z_paladin = no
			}
			modifier = {
				factor = 2.0
				trait = diligent
			}
			modifier = {
				factor = 0.2
				trait = slothful
			}
			modifier = {
				factor = 3.0
				trait = patient
			}
			modifier = {
				factor = 2.0
				trait = wroth
			}
			modifier = {
				factor = 2.0
				trait = duelist
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = sturdy
					is_strong_trigger = yes
				}
			}
			modifier = {
				factor = 2.5
				trait = zealous
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = misguided_warrior
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
			modifier = {
				factor = 2.0
				trait = theologian
			}
			modifier = {
				factor = 0.5
				trait = gluttonous
			}
			modifier = {
				factor = 0.2
				trait = drunkard
			}
			modifier = {
				factor = 0.1
				OR = {
					trait = one_handed
					trait = one_legged
					trait = mangled
					trait = maimed
				}
			}
			modifier = {
				factor = 2.0
				OR = {
					government = divine_feudal_government
					government = theocracy_government
				}
			}
			modifier = {
				factor = 3.0
				is_member_of_any_knight_order_trigger = yes
			}
			modifier = {
				factor = 1.5
				OR = {
					trait = creature_angel
					trait = creature_aasimar
				}
			}
			add_character_modifier = { name = class_cd years = 3 }
			become_paladin_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_cleric
				}
				is_cleric_class_allowed = yes
				z_cleric = no
			}
			modifier = {
				factor = 4.0
				trait = zealous
			}
			modifier = {
				factor = 3.0
				OR = {
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
			modifier = {
				factor = 3.0
				trait = theologian
			}
			modifier = {
				factor = 2.0
				trait = mystic
			}
			modifier = {
				factor = 2.0
				OR = {
					government = divine_feudal_government
					government = theocratic_feudal_government
					government = theocracy_government
				}
			}
			modifier = {
				factor = 2.0
				realm = {
					OR = {
						has_law = succ_divine_elective
						has_law = succ_divine_dynastic
					}
				}
			}
			modifier = {
				factor = 3.0
				realm = {
					has_law = succ_divine_cleric
				}
			}
			modifier = {
				factor = 1.5
				OR = {
					is_member_of_any_knight_order_trigger = yes
					is_member_of_any_monastic_order_trigger = yes
				}
			}		
			add_character_modifier = { name = class_cd years = 3 }
			become_cleric_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_druid
				}
				is_druid_class_allowed = yes
				z_druid = no
			}
			modifier = {
				factor = 4.0
				trait = zealous
			}
			modifier = {
				factor = 3.0
				OR = {
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
			modifier = {
				factor = 2.0
				trait = gardener
			}
			modifier = {
				factor = 2.0
				trait = theologian
			}
			modifier = {
				factor = 2.0
				trait = mystic
			}
			modifier = {
				factor = 2.0
				OR = {
					government = divine_feudal_government
					government = theocratic_feudal_government
					government = theocracy_government
				}
			}
			modifier = {
				factor = 2.0
				realm = {
					OR = {
						has_law = succ_divine_elective
						has_law = succ_divine_dynastic
					}
				}
			}
			modifier = {
				factor = 3.0
				realm = {
					has_law = succ_divine_druid
				}
			}
			modifier = {
				factor = 3.0
				is_member_of_any_druid_society_trigger = yes
			}
			modifier = {
				factor = 1.5
				OR = {
					culture_group = gnome_group
					culture_group = sylvan_elf_group
				}
			}
			add_character_modifier = { name = class_cd years = 3 }
			become_druid_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_fighter
				}
				is_fighter_class_allowed = yes
				z_fighter = no
			}
			modifier = {
				factor = 2.0
				trait = diligent
			}
			modifier = {
				factor = 0.2
				trait = slothful
			}
			modifier = {
				factor = 3.0
				trait = brave
			}
			modifier = {
				factor = 2.0
				trait = wroth
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = sturdy
					is_strong_trigger = yes
				}
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = misguided_warrior
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
				}
			}
			modifier = {
				factor = 2.0
				trait = duelist
			}
			modifier = {
				factor = 2.0
				trait = strategist
			}
			modifier = {
				factor = 0.1
				OR = {
					trait = one_handed
					trait = one_legged
					trait = mangled
					trait = maimed
				}
			}
			modifier = {
				factor = 4.0
				government = nomadic_tribal_government
			}
			modifier = {
				factor = 1.5
				is_member_of_any_knight_order_trigger = yes
			}
			modifier = {
				factor = 3.0
				is_member_of_any_warrior_lodge_trigger = yes
			}	
			add_character_modifier = { name = class_cd years = 3 }
			become_fighter_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_barbarian
				}
				is_barbarian_class_allowed = yes
				z_barbarian = no
			}
			modifier = {
				factor = 2.0
				trait = diligent
			}
			modifier = {
				factor = 0.2
				trait = slothful
			}
			modifier = {
				factor = 3.0
				trait = brave
			}
			modifier = {
				factor = 3.0
				trait = wroth
			}
			modifier = {
				factor = 3.0
				trait = berserker
			}
			modifier = {
				factor = 2.0
				trait = stubborn
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = sturdy
					is_strong_trigger = yes
				}
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = misguided_warrior
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
				}
			}
			modifier = {
				factor = 2.0
				trait = duelist
			}
			modifier = {
				factor = 2.0
				trait = hunter
			}
			modifier = {
				factor = 0.1
				OR = {
					trait = one_handed
					trait = one_legged
					trait = mangled
					trait = maimed
				}
			}
			modifier = {
				factor = 4.0
				government = nomadic_tribal_government
			}
			modifier = {
				factor = 0.25
				is_tribal = no
			}
			modifier = {
				factor = 2.0
				is_member_of_any_warrior_lodge_trigger = yes
			}
			add_character_modifier = { name = class_cd years = 3 }
			become_barbarian_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_ranger
				}
				is_ranger_class_allowed = yes
				z_ranger = no
			}
			modifier = {
				factor = 2.0
				trait = diligent
			}
			modifier = {
				factor = 0.2
				trait = slothful
			}
			modifier = {
				factor = 3.0
				trait = brave
			}
			modifier = {
				factor = 2.0
				trait = temperate
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = sturdy
					is_strong_trigger = yes
				}
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = misguided_warrior
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
				}
			}
			modifier = {
				factor = 2.0
				trait = duelist
			}
			modifier = {
				factor = 2.0
				trait = hunter
			}
			modifier = {
				factor = 2.0
				trait = gardener
			}
			modifier = {
				factor = 3.0
				realm = {
					has_law = succ_divine_druid
				}
			}
			modifier = {
				factor = 0.1
				OR = {
					trait = one_handed
					trait = one_legged
					trait = mangled
					trait = maimed
				}
			}
			modifier = {
				factor = 4.0
				government = nomadic_tribal_government
			}
			modifier = {
				factor = 1.5
				is_member_of_any_warrior_lodge_trigger = yes
			}		
			add_character_modifier = { name = class_cd years = 3 }
			become_ranger_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_bard
				}
				is_bard_class_allowed = yes
				z_bard = no
			}
			modifier = {
				factor = 0.5
				trait = slothful
			}
			modifier = {
				factor = 2.0
				trait = diligent
			}
			modifier = {
				factor = 0.25
				trait = shy
			}
			modifier = {
				factor = 0.2
				trait = disfigured
			}
			modifier = {
				factor = 2.0
				trait = shrewd
			}
			modifier = {
				factor = 3.0
				trait = socializer
			}
			modifier = {
				factor = 3.0
				trait = gregarious
			}
			modifier = {
				factor = 2.5
				OR = {
					trait = naive_appeaser
					trait = underhanded_rogue
					trait = charismatic_negotiator
					trait = grey_eminence
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
			}
			modifier = {
				factor = 0.1
				trait = possessed
			}
			modifier = {
				factor = 3.0
				society_member_of = harpers
			}
			add_character_modifier = { name = class_cd years = 3 }
			become_bard_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_rogue
				}
				is_rogue_class_allowed = yes
				z_rogue = no
			}
			modifier = {
				factor = 2.0
				trait = diligent
			}
			modifier = {
				factor = 0.2
				trait = trusting
			}
			modifier = {
				factor = 0.8
				trait = content
			}
			modifier = {
				factor = 0.6
				trait = just
			}
			modifier = {
				factor = 2.0
				trait = ambitious
			}
			modifier = {
				factor = 2.0
				trait = paranoid
			}
			modifier = {
				factor = 3.0
				trait = deceitful
			}
			modifier = {
				factor = 2.0
				trait = arbitrary
			}
			modifier = {
				factor = 3.0
				OR = {
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
			}
			modifier = {
				factor = 3.0
				trait = schemer
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
			modifier = {
				factor = 1.5
				trait = impaler
			}
			modifier = {
				factor = 2.0
				trait = shrewd
			}
			modifier = {
				factor = 3.0
				OR = {
					is_member_of_any_thieves_guild_trigger = yes
					is_member_of_any_zhent_like_society_trigger = yes
				}
			}
			add_character_modifier = { name = class_cd years = 3 }
			become_rogue_effect = yes
		}
		50 = {
			trigger = {
				trigger_if = {
					limit = { picking_from_class_selection = yes }
					has_character_flag = class_selection_includes_shadow
				}
				is_shadow_class_allowed = yes
				z_shadow = no
			}
			modifier = {
				factor = 2.0
				trait = diligent
			}
			modifier = {
				factor = 0.2
				trait = trusting
			}
			modifier = {
				factor = 0.8
				trait = content
			}
			modifier = {
				factor = 0.6
				trait = just
			}
			modifier = {
				factor = 2.0
				trait = ambitious
			}
			modifier = {
				factor = 2.0
				trait = paranoid
			}
			modifier = {
				factor = 3.0
				trait = deceitful
			}
			modifier = {
				factor = 2.0
				trait = arbitrary
			}
			modifier = {
				factor = 3.0
				OR = {
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
			}
			modifier = {
				factor = 3.0
				trait = schemer
			}
			modifier = {
				factor = 2.0
				OR = {
					trait = seducer
					trait = seductress
				}
			}
			modifier = {
				factor = 1.5
				trait = impaler
			}
			modifier = {
				factor = 2.0
				trait = shrewd
			}
			modifier = {
				factor = 2.0
				OR = {
					is_member_of_any_zhent_like_society_trigger = yes
					is_member_of_any_thieves_guild_trigger = yes
					is_member_of_any_alliance_society_trigger = yes
					is_member_of_any_harper_like_society_trigger = yes
				}
			}	
			add_character_modifier = { name = class_cd years = 3 }
			become_shadow_effect = yes
		}
		fallback = {
			
		}
	}
	clear_class_selection_effect = yes
}

pick_martial_class_effect = {
	set_character_flag = class_selection_includes_fighter
	set_character_flag = class_selection_includes_barbarian
	set_character_flag = class_selection_includes_ranger
	pick_random_class_effect = yes
}

pick_arcane_magic_class_effect = {
	set_character_flag = class_selection_includes_wizard
	set_character_flag = class_selection_includes_warlock
	set_character_flag = class_selection_includes_sorcerer
	pick_random_class_effect = yes
}

pick_divine_magic_class_effect = {
	set_character_flag = class_selection_includes_druid
	set_character_flag = class_selection_includes_cleric
	set_character_flag = class_selection_includes_paladin
	pick_random_class_effect = yes
}

pick_stealth_class_effect = {
	set_character_flag = class_selection_includes_bard
	set_character_flag = class_selection_includes_rogue
	set_character_flag = class_selection_includes_shadow
	pick_random_class_effect = yes
}

become_wizard_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_wizard
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_wizard
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_wizard
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_wizard
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_wizard
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_wizard
	}
	else = { add_trait = wizard }

	character_event = { id = frxp.1 }
}

become_warlock_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_warlock
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_warlock
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_warlock
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_warlock
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_warlock
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_warlock
	}
	else = { add_trait = warlock }

	character_event = { id = frxp.1 }
}

become_sorcerer_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_sorcerer
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_sorcerer
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_sorcerer
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_sorcerer
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_sorcerer
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_sorcerer
	}
	else = { add_trait = sorcerer }

	character_event = { id = frxp.1 }
}

become_monk_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_monk
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_monk
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_monk
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_monk
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_monk
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_monk
	}
	else = { add_trait = class_monk }

	character_event = { id = frxp.1 }
}

become_psion_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_psion
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_psion
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_psion
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_psion
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_psion
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_psion
	}
	else = { add_trait = psion }

	character_event = { id = frxp.1 }
}

become_druid_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_druid
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_druid
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_druid
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_druid
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_druid
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_druid
	}
	else = { add_trait = druid }

	character_event = { id = frxp.1 }
}

become_cleric_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_cleric
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_cleric
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_cleric
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_cleric
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_cleric
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_cleric
	}
	else = { add_trait = cleric }

	character_event = { id = frxp.1 }
}

become_paladin_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_paladin
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_paladin
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_paladin
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_paladin
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_paladin
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_paladin
	}
	else = { add_trait = paladin }

	character_event = { id = frxp.1 }
}

become_fighter_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_fighter
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_fighter
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_fighter
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_fighter
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_fighter
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_fighter
	}
	else = { add_trait = fighter }

	character_event = { id = frxp.1 }
}

become_barbarian_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_barbarian
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_barbarian
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_barbarian
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_barbarian
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_barbarian
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_barbarian
	}
	else = { add_trait = barbarian }

	character_event = { id = frxp.1 }
}

become_ranger_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_ranger
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_ranger
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_ranger
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_ranger
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_ranger
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_ranger
	}
	else = { add_trait = ranger }

	character_event = { id = frxp.1 }
}

become_bard_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_bard
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_bard
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_bard
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_bard
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_bard
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_bard
	}
	else = { add_trait = bard }

	character_event = { id = frxp.1 }
}

become_rogue_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_rogue
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_rogue
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_rogue
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_rogue
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_rogue
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_rogue
	}
	else = { add_trait = rogue }

	character_event = { id = frxp.1 }
}

become_shadow_effect = {
	if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 6 } }
		add_trait = legendary_shadow
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 5 } }
		add_trait = renowned_shadow
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 4 } }
		add_trait = master_shadow
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 3 } }
		add_trait = expert_shadow
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 2 } }
		add_trait = journeyman_shadow
	}
	else_if = {
		limit = { check_variable = { which = local_class_selection_lvl value = 1 } }
		add_trait = trained_shadow
	}
	else = { add_trait = shadow }

	character_event = { id = frxp.1 }
}

clear_class_selection_effect = {
	set_variable = { which = local_class_selection_lvl value = 0 }
	clr_character_flag = class_selection_includes_wizard
	clr_character_flag = class_selection_includes_warlock
	clr_character_flag = class_selection_includes_sorcerer
	clr_character_flag = class_selection_includes_monk
	clr_character_flag = class_selection_includes_psion
	clr_character_flag = class_selection_includes_paladin
	clr_character_flag = class_selection_includes_cleric
	clr_character_flag = class_selection_includes_druid
	clr_character_flag = class_selection_includes_fighter
	clr_character_flag = class_selection_includes_barbarian
	clr_character_flag = class_selection_includes_ranger
	clr_character_flag = class_selection_includes_bard
	clr_character_flag = class_selection_includes_rogue
	clr_character_flag = class_selection_includes_shadow
}