namespace = ARTF

# Removing some artifacts on death
character_event = {
	id = ARTF.1
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			has_artifact = homunculus_artf
			has_artifact = wiz_familiar_artf
			has_artifact = lich_phylactery_artf
			has_artifact = gazer_familiar
			has_artifact = imp_familiar
			has_artifact = pseudodragon_familiar
			has_artifact = quasit_familiar
			has_artifact = sprite_familiar
			has_artifact = warlock_pact_weapon
			has_artifact = warlock_book_shadows
		}
	}

	immediate = {
		if = {
				limit = { has_artifact = homunculus_artf }
				destroy_artifact = homunculus_artf
		}
		if = {
				limit = { has_artifact = wiz_familiar_artf }
				destroy_artifact = wiz_familiar_artf
		}
		if = {
				limit = { has_artifact = lich_phylactery_artf }
				destroy_artifact = lich_phylactery_artf
		}
		if = {
				limit = { has_artifact = gazer_familiar }
				destroy_artifact = gazer_familiar
		}
		if = {
				limit = { has_artifact = imp_familiar }
				destroy_artifact = imp_familiar
		}
		if = {
				limit = { has_artifact = pseudodragon_familiar }
				destroy_artifact = pseudodragon_familiar
		}
		if = {
				limit = { has_artifact = quasit_familiar }
				destroy_artifact = quasit_familiar
		}
		if = {
				limit = { has_artifact = sprite_familiar }
				destroy_artifact = sprite_familiar
		}
		if = {
				limit = { has_artifact = warlock_pact_weapon }
				destroy_artifact = warlock_pact_weapon
		}
		if = {
				limit = { has_artifact = warlock_book_shadows }
				destroy_artifact = warlock_book_shadows
		}
	}
}
