namespace = faegods

#In the order of religions in the religion file.

#Triadic block

character_event = {
	id = faegods.1
	desc = FAEGODS.1
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = { # AI picks via here
		set_character_flag = patron_chosen # might as well get this out of the way
		if = {
			limit = {
				ai = yes
			}
			random_list = {
				20 = {
					modifier = {
						factor = 0.2
						has_global_flag = tyr_dead
					}
					modifier = {
						factor = 10
						OR = {
							trait = paladin
							trait = trained_paladin
							trait = journeyman_paladin
							trait = expert_paladin
							trait = master_paladin
							trait = renowned_paladin
							trait = legendary_paladin
						}
					}
					modifier = {
						factor = 10
						OR = {
							trait = one_handed
							trait = blinded
							trait = one_eyed
						}
					}
					modifier = {
						factor = 10
						trait = just
					}
					modifier = {
						factor = 25
						dynasty = 2002 # Paladinstar
					}
					add_trait = patron_tyr
				}
				20 = {
					modifier = {
						factor = 10
						OR = {
							trait = paladin
							trait = trained_paladin
							trait = journeyman_paladin
							trait = expert_paladin
							trait = master_paladin
							trait = renowned_paladin
							trait = legendary_paladin
							trait = unyielding_leader
						}
					}
					modifier = {
						factor = 10
						trait = brave
					}
					add_trait = patron_torm
				}
				20 = {
					modifier = {
						factor = 10
						OR = {
							has_any_symptom = yes
							is_ill = yes
							has_epidemic = yes
						}
					}
					modifier = {
						factor = 10
						OR = {
							has_any_symptom = yes
							is_ill = yes
							has_epidemic = yes
						}
					}
					modifier = {
						factor = 10
						OR = {
							trait = wounded
							trait = maimed
							trait = severely_injured
							trait = mangled
						}
					}
					modifier = {
						factor = 10
						prisoner = yes
					}
					add_trait = patron_ilmater
				}
				3 = {
					modifier = {
						factor = 10
						trait = half_dragon
					}
					modifier = {
						factor = 2
						trait = temperate
					}
					modifier = {
						factor = 5
						trait = just
					}
					modifier = {
						factor = 100
						culture = dragonborn
					}
					modifier = {
						factor = 10
						trait = creature_dragon
					}
					modifier = {
						factor = 10
						trait = creature_kobold
					}
					modifier = {
						factor = 0.2
						OR = {
							culture = vayemniri
							culture = thymari
						}
					}
					add_trait = patron_bahamut
				}
				5 = {
					modifier = {
						factor = 10
						OR = {
							culture = highcoaster
							culture = tethyrian
							primary_title = { higher_tier_than = BARON }
						}
					}
					modifier = {
						factor = 5
						primary_title = { higher_tier_than = DUKE }
					}
					add_trait = patron_siamorphe
				}
				15 = {
					modifier = {
						factor = 0.2
						has_global_flag = helm_dead
					}
					modifier = {
						factor = 10
						trait = paranoid
					}
					modifier = {
						factor = 20
						NOT = {
							trait = kind
						}
					}
					modifier = {
						factor = 10
						trait = brave
					}
					add_trait = patron_helm
				}
				5 = {
					modifier = {
						factor = 10
						trait = arbitrary
					}
					modifier = {
						factor = 20
						trait = wroth
					}
					modifier = {
						factor = 10
						NOT = { trait = kind }
					}
					modifier = {
						factor = 5
						OR = {
							culture = untheric
							culture = chessentan
						}
					}
					modifier = {
						factor = 10
						trait = diligent
					}
					add_trait = patron_hoar
				}
			}
			break = yes
		}
	}
	
	option = {
		name = PATRONS_FAE_GHP.4.a
		add_trait = patron_tyr
	}
	
	option = {
		name = PATRONS_FAE_GHP.5.a
		add_trait = patron_torm
	}
	
	option = {
		name = PATRONS_FAE_GHP.4.c
		add_trait = patron_ilmater
	}
	
	option = {
		name = PATRONS_FAE_OTHERS
		hidden_tooltip = { character_event = { id = FAEGODS.2 } }
	}
}

character_event = {
	id = faegods.1
	desc = FAEGODS.1
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = PATRONS_FAE_GHP.5.c
		add_trait = patron_bahamut
	}
	option = {
		name = PATRONS_FAE_GHP.5.b
		add_trait = patron_siamorphe
	}
	option = {
		name = PATRONS_FAE_GHP.4.b
		add_trait = patron_helm
	}
	option = {
		name = PATRONS_FAE_OTHERS
		hidden_tooltip = { character_event = { id = FAEGODS.3 } }
	}
}

character_event = {
	id = FAEGODS.3
	desc = FAEGODS.1
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	option = {
		name = PATRONS_FAE_GHP.19.a
		add_trait = patron_hoar
	}
	option = {
		name = PATRONS_FAE_OTHERS
		hidden_tooltip = { character_event = { id = FAEGODS.1 } }
	}
}

#Arcane block

character_event = {
	id = faegods.4
	desc = FAEGODS.1
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	immediate = { # AI picks via here
		set_character_flag = patron_chosen # might as well get this out of the way
		if = {
			limit = {
				ai = yes
			}
			random_list = {
				30 = {
					modifier = {
						factor = 0.05
						has_global_flag = mystra_dead
					}
					modifier = {
						factor = 10
						OR = {
							trait = bard
							trait = trained_bard
							trait = journeyman_bard
							trait = expert_bard
							trait = master_bard
							trait = renowned_bard
							trait = legendary_bard
							trait = sorcerer
							trait = trained_sorcerer
							trait = journeyman_sorcerer
							trait = expert_sorcerer
							trait = master_sorcerer
							trait = renowned_sorcerer
							trait = legendary_sorcerer
							trait = warlock
							trait = trained_warlock
							trait = journeyman_warlock
							trait = expert_warlock
							trait = master_warlock
							trait = renowned_warlock
							trait = legendary_warlock
							trait = wizard
							trait = trained_wizard
							trait = journeyman_wizard
							trait = expert_wizard
							trait = master_wizard
							trait = renowned_wizard
							trait = legendary_wizard
						}
					}
					modifier = {
						factor = 1000
						trait = chosen_mystra
					}
					add_trait = patron_mystra
				}
				10 = {
					modifier = {
						factor = 10
						OR = {
							trait = wizard
							trait = trained_wizard
							trait = journeyman_wizard
							trait = expert_wizard
							trait = master_wizard
							trait = renowned_wizard
							trait = legendary_wizard
						}
					}
					modifier = {
						factor = 2
						trait = scholar
					}
					modifier = {
						factor = 15
						OR = {
							culture = halruaan
							culture = calishite
							culture = shoon
						}
					}
					add_trait = patron_azuth
				}
				5 = {
					modifier = {
						factor = 0.05
						OR = {
							NOT = { has_global_flag = tot_ended }
							has_global_flag = savras_dead
						}
					}
					modifier = {
						factor = 30
						trait = wiz_divination
					}
					modifier = {
						factor = 10
						trait = mystic
					}
					modifier = {
						factor = 4
						OR = {
							trait = wizard
							trait = trained_wizard
							trait = journeyman_wizard
							trait = expert_wizard
							trait = master_wizard
							trait = renowned_wizard
							trait = legendary_wizard
						}
					}
					add_trait = patron_savras
				}
				5 = {
					modifier = {
						factor = 10
						trait = deceitful
					}
					modifier = {
						factor = 4
						OR = {
							trait = wizard
							trait = trained_wizard
							trait = journeyman_wizard
							trait = expert_wizard
							trait = master_wizard
							trait = renowned_wizard
							trait = legendary_wizard
						}
					}
					modifier = {
						factor = 30
						trait = wiz_illusion
					}
					modifier = {
						factor = 0
						trait = honest
					}
					modifier = {
						factor = 0.05
						has_global_flag = leira_dead
					}
					add_trait = patron_leira
				}
				5 = {
					modifier = {
						factor = 0
						NOT = { has_global_flag = velsharoon_god }
					}
					modifier = {
						factor = 0.05
						has_global_flag = velsharoon_dead
					}	
					modifier = {
						factor = 10
						trait = wiz_necromancy
					}
					modifier = {
						factor = 15
						OR = {
							trait = undead
							trait = vampire
							trait = vampire_spawn
							trait = lich
						}
					}
					modifier = {
						factor = 2
						trait = scholar
					}
					modifier = {
						factor = 20
						trait = cruel
					}
					add_trait = patron_velsharoon
				}
				1 = {
					modifier = {
						factor = 5
						is_smart_trigger = yes
					}
					modifier = {
						factor = 5
						trait = scholar
					}
					modifier = {
						factor = 2
						trait = temperate
					}
					modifier = {
						factor = 30
						z_psion = yes
					}
					add_trait = patron_auppenser
				}
				10 = {
					modifier = {
						factor = 10
						OR = {
							trait = kind
							trait = content
							trait = charitable
						}
					}
					modifier = {
						factor = 10
						trait = natural_lycanthrope
					}
					modifier = {
						factor = 10
						culture = thymari
					}
					add_trait = patron_selune
				}
			}
		}
	}
	
	option = {
		name = PATRONS_FAE_GHP.12.a
		add_trait = patron_mystra
	}
	option = {
		name = PATRONS_FAE_GHP.12.b
		add_trait = patron_azuth
	}
	option = {
		name = PATRONS_FAE_GHP.13.a
		add_trait = patron_savras
	}
	option = {
		name = PATRONS_FAE_OTHERS
		hidden_tooltip = { character_event = { id = FAEGODS.5 } }
	}
}

character_event = {
	id = faegods.5
	desc = FAEGODS.1
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	option = {
		name = PATRONS_FAE_GHP.12.c
		add_trait = patron_leira
	}
	
	option = {
		name = PATRONS_FAE_NETH.4.c
		add_trait = patron_auppenser
	}
	
	option = {
		name = PATRONS_FAE_GHP.17.a
		add_trait = patron_selune
	}
	
	option = {
		name = PATRONS_FAE_OTHERS
		trigger = { has_global_flag = velsharoon_god }
		hidden_tooltip = { character_event = { id = FAEGODS.6 } }
	}
	
	option = {
		name = PATRONS_FAE_OTHERS
		trigger = { NOT = { has_global_flag = velsharoon_god } }
		hidden_tooltip = { character_event = { id = FAEGODS.4 } }
	}
}

character_event = {
	id = faegods.5
	desc = FAEGODS.1
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = PATRONS_FAE_EHP.12.b
		add_trait = patron_velsharoon
	}
	
	option = {
		name = PATRONS_FAE_OTHERS
		hidden_tooltip = { character_event = { id = FAEGODS.4 } }
	}
}

#