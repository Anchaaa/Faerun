namespace = character_trait

character_event = {
	id = character_trait.1
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		NOR = {
			trait = avatar
			trait = adopted
			trait = is_clone
			faerun_any_race = yes
			has_character_flag = faerun_generated
		}
	}

	immediate = {
		# Fix noculture generated characters.
		if = {
			limit= {
				NOT = { gfx_culture_scope = { always = yes } }
				culture_scope = { always = yes }
			}
			set_graphical_culture = ROOT
		}

		if = {
			limit = {
				OR = {
					is_ruler = no
					lower_tier_than = count
				}
				liege = {
					OR = {
						has_character_flag = local_court
						trait = creature_dragon
						trait = creature_sarrukh
						trait = creature_elder_brain
						AND = {
							trait = creature_construct
							NOT = {
								gfx_culture_scope = { culture = modron }
							}
						}
						culture_group = outworlder_group
						trait = avatar
					}
				}
				NOR = {
					has_character_flag = religious_revolter
					has_character_flag = heretic_revolter
					has_character_flag = nationalist_rebel
				}
			}
			if = {
				limit = { is_ruler = no }

				location = {
					ROOT = {
						culture = PREV
						religion = PREV
						set_graphical_culture = PREV
					}
				}
			}
			else = {
				location = {
					ROOT = {
						culture = PREV
						set_graphical_culture = PREV
					}
				}
			}
		}

		if = { # correcting autogenerated temple barons for religions that don't allow female temple holders
			limit = {
				tier = baron
			}
			if = {
				limit = {
					capital_holding = { holding_type = TEMPLE }
					religion_allows_female_temple_holders = no
					is_female = yes
				}
				set_gender = male
				set_government_type = baron_theocracy_government
				set_character_flag = gender_changed_for_temple
			}
		}

		trigger_switch = {
			on_trigger = graphical_culture
			# arranged in alphabetical order of culture file, and then in the order they occur in those files, except humans which are the fallback
			
			# demihuman block

			# orc group

			highorcgfx 		= { # Mountain Orcs, Oscray
				random_list = {
					98 = {
						add_trait = creature_orc
					}
					1 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = tanarukk
						add_trait = creature_tanarukk
					}
					1 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = ogre
						add_trait = creature_ogrillon
					}
				}
			}
			grayorcgfx 		= { # Gray Orcs, Orogs
				random_list = {
					98 = {
						add_trait = creature_orc
					}
					1 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = tanarukk
						add_trait = creature_tanarukk
					}
					1 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = ogre
						add_trait = creature_ogrillon
					}
				}
			}
			ondontigfx 		= { # Ondonti
				add_trait = creature_orc # No tanarukks or ogrillons
			}
			tanarukkgfx 	= { # Tanarukks
				add_trait = creature_tanarukk
			}
			scrogfx 		= { # Scro
				add_trait = creature_orc # No tanarukks or ogrillons
			}
			halforcgfx 	= { # Half-Orc
				add_trait = creature_half_orc
			}
			
			# goblinoid group
			
			bugbeargfx 		= { # Bugbears
				random_list = {
					95 = {
						add_trait = creature_bugbear
					}
					3 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = goblin
						add_trait = creature_goblin
					}
					2 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = hobgoblin
						add_trait = creature_hobgoblin
					}
				}	
			}			
			goblingfx 		= { # Goblins, Dekanter Goblins
				random_list = {
					95 = {
						add_trait = creature_goblin
					}
					3 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = bugbear
						add_trait = creature_bugbear
					}
					2 = {
						trigger = { allow_changing_race = yes }
						set_graphical_culture = hobgoblin
						add_trait = creature_hobgoblin
					}
				}
			}
			forestgoblingfx = { # Tasloi, Batiri
				add_trait = creature_goblin
			}
			nightgoblingfx 	= { # Bakemono
				random_list = {
					99 = {
						add_trait = creature_goblin
					}
					1 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_ogre
						spawn_random_oni = yes
						if = {
							limit = { allow_changing_culture = yes }
							culture = ogre_magi
						}
					}
				}
			}
			humanoidgfx 	= { # Hobgoblins
				add_trait = creature_hobgoblin # typically no others
			}
			
			# dragon block
			
			# draconic culture group
			
			dragongfx		= {
				add_trait = creature_dragon # That's it - if they get this far, they're always dragons
			}
			
			# dragonkin group
			
			dragonspawngfx	= { # Dragonspawn of Tiamat
				add_trait = creature_dragonborn
			}			
			dragonborngfx	= { # Dragonborn of Bahamut, Vayemniri, Thymari
				add_trait = creature_dragonborn
			}
			strixikigfx		= { # Strixiki
				add_trait = creature_dragonborn
			}
			koboldgfx		= { # Kobold
				random_list = {
					98 = {
						add_trait = creature_kobold
					}
					2 = {
						trigger = { 
							has_global_flag = spellplague_happened 
							allow_changing_race = yes
						}
						set_graphical_culture = strixiki
						culture = strixiki
						add_trait = creature_dragonborn
					}
				}
			}
			
			# dwarves block, dwarf group
			
			norsedwarfgfx  = { # Arctic Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}			
			derrogfx		= { # Derro
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			duergargfx		= { # Duergar
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			golddwarfgfx	= { # Gold Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			korpokkurgfx	= { # Korpokkur
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			dwarfgfx 		= { # Shield Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			wilddwarfgfx	= { # Wild Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			chultdwarfgfx	= { # Chultan Dwarves
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_dwarf
				}
				else = {
					add_trait = creature_dwarf
				}
			}
			
			# elves block
			
			# Dark Elf group
			
			darkelfgfx		= { # Dark Elves
				add_trait = creature_elf
			}			
			drowgfx 		= { # Udadrow
				add_trait = creature_drow
			}
			lorendrowgfx	= { # Lorendrow
				add_trait = creature_drow
			}
			aevendrowgfx	= { # Aevendrow
				add_trait = creature_drow
			}
			druchiigfx		= { # Crinti
				add_trait = creature_half_elf
			}
			draeglothgfx	= { # Draegloths
				add_trait = creature_draegloth
			}
			
			# High Elf group
			
			moonelfgfx		= { # Moon Elves, Avariel
				add_trait = creature_elf
			}			
			asurgfx 		= { # Sun Elves, Llewyrr
				add_trait = creature_elf
			}
			snowelfgfx		= { # Astral Elves, Snow Elves, Lythari (Sylvan Elf group)
				add_trait = creature_elf
				if = {
					limit = { gfx_culture_scope = { culture = lythari } }
					add_trait = natural_lycanthrope
					add_trait = werewolf
				}
			}
			feyrigfx	    = { # Fey'ri
				add_trait = creature_feyri
			}
			seaelfgfx		= { # Sea Elves, Malenti (monster block, fish group)
				add_trait = creature_elf
			}
			halfsunelfgfx	= { # Half Sun Elves
				add_trait = creature_half_elf
			}
			halfmoonelfgfx	= { # Half Moon Elves
				add_trait = creature_half_elf
			}
			halfseaelfgfx	= { # Half Sea Elves
				add_trait = creature_half_elf
			}
			
			# Sylvan Elf group
			
			greenelfgfx		= { # Green Elves, Yuir Elves
				add_trait = creature_elf
				if = {
					limit = { culture = yuir_elf }
					random = {
						chance = 1
						add_trait = feytouched
						set_graphical_culture = star_elf
						if = {
							limit = { allow_changing_culture = yes }
							culture = star_elf
							religion = yuir
						}
					}
				}
			}			
			asraigfx		= { # Wood Elves
				add_trait = creature_elf
			}
			poscadargfx		= { # Poscadar Elves
				add_trait = creature_elf
			}
			halfwoodelfgfx	= { # Half Wood Elves
				add_trait = creature_half_elf
			}
			halfgreenelfgfx	= { # Half Green Elves
				add_trait = creature_half_elf
			}
			
			# Eladrin group
			
			eladringfx		= { # Fey Eladrin
				add_trait = creature_elf
				add_trait = feytouched
			}
			maraloigfx		= { # Star Elves, Maraloi
				add_trait = creature_elf
				add_trait = feytouched
			}
			shadarkaigfx	= { # Shadar-Kai
				add_trait = creature_elf
				add_trait = feytouched
			}
			halfeladringfx	= { # Half Eladrin
				add_trait = creature_half_elf
				add_trait = feytouched
			}
			halfshadarkaigfx = { # Half Shadar-Kai
				add_trait = creature_half_elf
				add_trait = feytouched
			}
			
			# giants block
			
			# giant group
			
			cloudgiantgfx	= { # Cloud Giants, Fog Giants
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			firegiantgfx	= { # Fire Giants
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			frostgiantgfx	= { # Frost Giants
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			giantgfx 		= { # Hill Giants, Mountain Giants
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			stonegiantgfx	= { # Stone Giants
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			ashgiantgfx	= { # Ash Giants
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			stormgiantgfx	= { # Storm Giants
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			
			# giantkin group
			
			fomoriangfx		= { # Fomorians
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			ogresgfx 		= { # Ogres
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_ogre
				}
				else = {
					add_trait = creature_ogre
					if = {
						limit = { allow_changing_race = yes }
						random = {
							chance = 2
							set_graphical_culture = ogre_magi
						}
					}
				}
			}
			ogrimagfx		= { # Ogrima
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_ogre
				}
				else = {
					add_trait = creature_ogre
				}
			}
			merrowgfx		= { # Merrow
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_ogre
				}
				else = {
					add_trait = creature_ogre
				}
			}
			onigfx			= { # Oni (Ogre Magi)
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_ogre
				}
				else = {
					add_trait = creature_ogre
					if = {
						limit = { allow_changing_race = yes }
						spawn_random_oni = yes
					}
				}
			}
			redonigfx		= { # Red Oni (used in Oni for variation)
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_ogre
				}
				else = {
					add_trait = creature_ogre
					if = {
						limit = { allow_changing_race = yes }
						random_list = {
							80 = {
							
							}
							40 = {
								set_graphical_culture = ogre_magi
							}
							15 = { # go-zu-oni
								set_graphical_culture = minotaur
								add_trait = strong
							}
							5 = { # me-zu-oni
								set_graphical_culture = equinal
								add_trait = strong
								add_trait = robust
								add_trait = duelist
							}
						}
					}
				}
			}
			woodgiantgfx 	= { # Voadkyn, Verbeeg, Firbolg
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			
			# Nafili group (Zakharan giants)

			desertgiantgfx = { # Desert Giants, Sand Giants (Mordrin group)
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			junglegiantgfx = { # Jungle Giants
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			reefgiantgfx = { # Reef Giants
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			cyclopsgfx 	= { # Island Giants
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			
			# Mordrin group (titans and others)
			
			earthtitangfx = { # Earth Titans
				if = {
					limit = { evilcat_is_human_cultured = yes }
					add_trait = creature_half_giant
				}
				else = {
					add_trait = creature_giant
				}
			}
			trollgfx	= { # Trolls
				add_trait = creature_troll
			}
			goliathgfx	= { # Gol-Kaa (goliaths)
				add_trait = creature_goliath
			}			
			
			# human block - most humans are in the fallback section below

			# Imaskari group
			
			deepimaskarigfx	= { # Deep Imaskari and Diaman
				add_trait = creature_deep_imaskari
			}

			# Katakoro group

			maviddigfx		= {
				add_trait = creature_half_elf
			}

			# Netherese group

			shadovargfx		=  { # Shadovar
				random_list = {
					95 = {
						add_trait = creature_human
					}
					5 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_elf
						add_trait = feytouched
						set_graphical_culture = shadar_kai
						if = {
							limit = { allow_changing_culture = yes }
							culture = shadar_kai
						}
					}
				}
			}
			dtariggfx		= {
				add_trait = creature_half_dwarf
			}

			
			# littlefolk block
			
			# gnome group
			
			gnomesgfx		= { # Rock Gnomes
				add_trait = creature_gnome
			}
			forestgnomesgfx	= { # Forest Gnomes
				add_trait = creature_gnome
			}
			svirfneblingfx	= { # Svirfneblin (Deep Gnomes)
				add_trait = creature_gnome
			}			
			# Lantanna skipped here and handled under humans
			
			# halfling (Hin) group
			
			hobbitsgfx 		= { # Lightfoot, Strongheart
				add_trait = creature_halfling
			}
			ghostwisegfx	= { # Ghostwise
				add_trait = creature_halfling
			}
			shugfx			= { # Shu
				add_trait = creature_halfling
			}
			
			# monster block
			
			# undead group - entirely graphics only

			necrarchgfx		= { # Liches
				add_trait = creature_human
				random_list = {
					70 = { add_trait = undead }
					30 = {
						add_trait = lich
						add_artifact = lich_phylactery_artf
					}
				}
			}
			strigoigfx		= { # assorted undead non-humans
				add_trait = undead
				if = {
					limit = {
						culture_group = goblinoid_group
					}
					if = {
						limit = {
							culture = hobgoblin
						}
						add_trait = creature_hobgoblin
					}
					else_if = {
						limit = {
							culture = bugbear
						}
						add_trait = creature_bugbear
					}
					else = { add_trait = creature_goblin }
				}
				else_if = {
					limit = {
						culture = gnoll
					}
					add_trait = creature_gnoll
				}
				else_if = {
					limit = {
						culture = sahuagin
					}
					add_trait = creature_sahuagin
				}
				else_if = {
					limit = {
						culture = malenti
					}
					add_trait = creature_malenti
				}
				else_if = {
					limit = {
						culture = saurial
					}
					add_trait = creature_saurial
				}
				else_if = {
					limit = {
						culture_group = scaly_group
					}
					add_trait = creature_lizardfolk
				}
				else_if = {
					limit = {
						culture = kobold
					}
					add_trait = creature_kobold
				}
				else_if = {
					limit = {
						culture_group = dragonkin_group
					}
					add_trait = creature_dragonborn
				}
				else = { add_trait = creature_orc }
			}
			nehekharangfx		= { # undead humans other than liches and vampires
				add_trait = creature_human
				add_trait = undead
			}
			carsteingfx 		= { # human vampires
				add_trait = creature_human
				add_trait = vampire
			}
			chaosdwarfgfx 		= { # dwarf vampires
				add_trait = creature_dwarf
				add_trait = vampire
			}
			undeadelfgfx		= { # undead elves other than liches
				add_trait = creature_elf
				add_trait = undead
			}
			lichelfgfx		= { # elven liches
				add_trait = creature_elf
				add_trait = lich
				add_artifact = lich_phylactery_artf
			}
			undeadogregfx		= { # undead ogres
				add_trait = creature_ogre
				add_trait = undead
			}
			wraithgfx			= { # incorporeal undead
				add_trait = creature_human
				add_trait = undead
			}
			dracolichgfx		= { # undead dragons
				add_trait = creature_dragon
				random_list = {
					70 = { add_trait = undead }
					30 = {
						add_trait = lich
						add_artifact = lich_phylactery_artf
					}
				}
			}
			
			# minotaur group
			
			beastmangfx 	= { # Minotaurs, Baphitaurs
				if = {
					limit = { culture = ogre_magi }
					add_trait = creature_ogre
				}
				else = {
					add_trait = creature_minotaur
					if = {
						limit = { gfx_culture_scope = { culture = baphitaur } }
						add_trait = planetouched
						add_character_modifier = {
							name = baphitaur
							duration = -1
						}
					}
				}
			}
			yikariangfx		= { # Yikarians (yakfolk)
				add_trait = creature_yikarian
			}
			
			# beastfolk group
			
			gnollgfx		= { # Gnolls, Flind
				add_trait = creature_gnoll
			}
			halfgnollgfx	= { # Half-gnolls
				add_trait = creature_half_gnoll
			}			
			tabaxigfx		= { # Tabaxi
				add_trait = creature_tabaxi
			}
			
			# fish group
			
			sahuagingfx		= { # Sahuagin
				add_trait = creature_sahuagin
			}
			slanngfx 		= { # Kuo-Toa
				add_trait = creature_kuotoa
			}
			
			# centaur group
			
			centaurgfx		= { # Centaurs (hippocentaurs)
				add_trait = creature_centaur
			}			
			wemicgfx		= { # Wemics (leocentaurs)
				add_trait = creature_wemic
			}
			lamiagfx		= { # Lamia nobles (ophidiocentaurs)
				add_trait = creature_lamia
			}

			# avian group

			tengugfx		= { # Tengu (eastern tengu/kenku)
				add_trait = creature_tengu
			}
			kenkugfx		= { # Kenku (western tengu/kenku)
				add_trait = creature_tengu
			}
			aarakocragfx	= { # Aarakocra
				add_trait = creature_aarakocra
			}
			
			# aberration culture group
			
			mindflayergfx	= { # Illithids (mind flayers) including Thoon
				add_trait = creature_illithid
			}
			elderbraingfx	= { # Illthid Elder Brains
				add_trait = creature_elder_brain
				if = {
					limit = {
						employer = {
							culture = thoon
						}
					}
					culture = thoon
				}
				else = {
					employer = {
						PREV = {
							culture = PREV
						}
					}
				}
			}			
			beholdergfx 	= { # Beholders, Spectators
				add_trait = creature_beholder
				random = {
					chance = 5
					add_trait = elder_orb
					add_trait = giant
				}
			}
			abolethgfx		= { # Aboleths
				add_trait = creature_aboleth
			}

			# construct group

			warforgedgfx	= { # Warforged
				add_trait = creature_construct
			}
			modrongfx		= { # Modrons
				add_trait = creature_construct
			}
			inevitablegfx	= { # Inevitables - Maruts, Kolyaruts, Quaruts, Varakhuts, and Zelekhuts
				add_trait = creature_construct
			}
			golemgfx		= { # not used for any culture
				add_trait = creature_construct
			}

			# outsiders block
			
			# celestial group
			
			angelgfx 		= { # Angels (solars, devas)
				add_trait = creature_angel
			}
			houndgfx 		= { # Archons (hound archons)
				add_trait = creature_angel
				if = {
					limit = { allow_changing_race = yes }
					random_list = {
						75 = {}
						20 = { set_graphical_culture = angel } # Trumpet and Sword archons
						5 = { set_graphical_culture = warden_archon } #Warden archons
					}
				}
			}
			asuragfx 		= { # Asuras
				add_trait = creature_angel
			}
			celestialeladringfx = { # Celestial Eladrin
				add_trait = creature_angel
			}
			einheriargfx 	= { # Einheriar
				if = {
					limit = { culture_group = celestial_group }
					add_trait = creature_angel
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = einheriar_aasimar
						duration = -1
					}
				}
			}
			moonmaidengfx 	= { # Moonmaidens
				if = {
					limit = { culture_group = celestial_group }
					add_trait = creature_angel
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = moonmaiden_aasimar
						duration = -1
					}
				}
			}
			arvoralgfx 		= { # Avorals (guardinals)
				if = {
					limit = { culture_group = celestial_group }
					add_trait = creature_angel
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = guardinal_aasimar
						duration = -1
					}
					#spawn_random_ardling = yes
				}
			}
			equinalgfx 		= { # Equinals (guardinals); also used for me-zu-oni
				if = {
					limit = { culture = ogre_magi }
					add_trait = creature_ogre
				}
				else_if = {
					limit = { culture_group = celestial_group }
					add_trait = creature_angel
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = guardinal_aasimar
						duration = -1
					}
					#spawn_random_ardling = yes
				}
			}
			cervidalgfx 	= { # Cervidals (guardinals)
				if = {
					limit = { culture_group = celestial_group }
					add_trait = creature_angel
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = guardinal_aasimar
						duration = -1
					}
					#spawn_random_ardling = yes
				}
			}
			beargfx = { # Ursinals (guardinals) - this is the default guardinal
				if = {
					limit = { culture_group = celestial_group }
					add_trait = creature_angel
					if = {
						limit = { allow_changing_race = yes }
						spawn_random_guardinal = yes
					}
				}
				else_if = {
					limit = {
						gfx_culture_scope = { culture = guardinal }
					}
					add_trait = creature_aasimar
					add_character_modifier = {
						name = guardinal_aasimar
						duration = -1
					}
					#spawn_random_ardling = yes
				}
			}
			skavenwhitegfx 	= { # Mustevals (guardinals)
				if = {
					limit = { culture_group = celestial_group }
					add_trait = creature_angel
				}
				else = {
					add_trait = creature_aasimar
					add_character_modifier = {
						name = guardinal_aasimar
						duration = -1
					}
					#spawn_random_ardling = yes
				}
			}
			planetargfx 	= { # Planetars (historically a type of aasimon)
				add_trait = creature_angel
			}
			wardengfx	 	= { # Warden archons
				add_trait = creature_angel
			}

			# fiendish group

			khorneprincegfx = { # Pit fiends (baatezu) - this is the default baatezu
				add_trait = creature_fiend
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_baatezu = yes
				}
				else = {
					add_trait = greater_fiend
				}
			}
			bloodlettergfx 	= { # Cornugons (baatezu)
				add_trait = creature_fiend
				if = {
					limit = {
						culture = cornugon
					}
					culture = baatezu
				}
			}
			gelugongfx 		= { # Gelugons (baatezu)
				add_trait = creature_fiend
				add_trait = greater_fiend
				if = {
					limit = {
						culture = gelugon
					}
					culture = baatezu
				}
			}
			nurgleprincegfx	= { # Gehreleths (demodands)
				add_trait = creature_fiend
			}
			tzeentchprincegfx = { # Vrocks (tanar'ri)- this is the default tanar'ri 
				add_trait = creature_fiend
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_tanarri = yes
				}
			}
			daemonettegfx 	= { # Succubi and incubi (tanar'ri)
				add_trait = creature_fiend
				if = {
					limit = {
						culture = succubus
					}
					culture = tanarri
				}
			}			
			slaaneshprincegfx = { # Cambions and alu-fiends (usually but not always tanar'ri)
				spawn_random_tiefling = yes
			}
			nalfeshneegfx	= { # Nalfeshnee (tanar'ri)
				add_trait = creature_fiend
				if = {
					limit = {
						culture = nalfeshnee
					}
					culture = tanarri
				}
			}
			nycalothgfx		= { # Nycaloths (yugoloths) - this is the default yugoloth
				add_trait = creature_fiend
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_yugoloth = yes
				}
			}
			ultrolothgfx	= { # Ultroloths (yugoloths)
				add_trait = creature_fiend
			}
			mezzolothgfx	= { # Mezzoloths (yugoloths)
				add_trait = creature_fiend
			}
			rakshasagfx		= { # Rakshasas
				add_trait = creature_fiend
			}
			marrashgfx	 	= { # Marrashi
				add_trait = creature_fiend
			}
			
			# gith group
			
			githyankigfx	= { # Githyanki, githvyrik
				add_trait = creature_gith
			}
			kurgangfx 		= { # Githzerai
				add_trait = creature_gith
			}
			
			# fey group

			treemangfx 		= { # Treants
				add_trait = creature_treant
			}
			satyrgfx		= { # Satyrs
				add_trait = creature_satyr
			}
			lahmiangfx		= { # Hags
				if = {
					limit = { is_female = yes }
					add_trait = creature_hag
				}
				else = {
					add_trait = creature_hagspawn
				}
			}
			hengeyokaigfx	= { # Hengeyokai including katanga - this is the default hengeyokai, with static portraits of kitsune/fox, mujina/badger, and usagi/rabbit variants
				add_trait = creature_hengeyokai
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_hengeyokai = yes
				}
			}
			cathayangfx		= { # Spirit folk
				add_trait = creature_spirit_folk
			}
			tamhigfx		= { # Tamhi - Malatran spirit folk
				add_trait = creature_spirit_folk
			}
			horsegfx = {}
			catgfx = {
				add_trait = creature_hengeyokai
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_hengeyokai = yes
				}
			}
			blackbeargfx = {} # To check
			polarbeargfx = {} # To check
			hedgehoggfx = { # used for hengeyokai
				add_trait = creature_hengeyokai
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_hengeyokai = yes
				}
			}
			duckgfx = { # used for hengeyokai
				add_trait = creature_hengeyokai
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_hengeyokai = yes
				}
			}
			doggfx = { # used for ardlings
				add_trait = creature_aasimar
				add_character_modifier = {
					name = guardinal_aasimar
					duration = -1
				}
				#spawn_random_ardling = yes
			}
			elephantgfx = {} # To check
			redpandagfx = { # used for hengeyokai
				add_trait = creature_hengeyokai
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_hengeyokai = yes
				}
			}			
			# planetouched group
			
			tieflinggfx		= { # Tieflings - default appearance / Asmodean taint
				if = {
					limit = {
						culture = tiefling
					}
					location = {
						ROOT = { culture = PREV }
					}
				}
				spawn_random_tiefling = yes
			}
			aasimargfx		= { # Aasimar - default appearance, including starting point for ardlings
				add_trait = creature_aasimar
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_aasimar = yes
				}
				if = {
					limit = {
						culture_group = planetouched_group
					}
					location = {
						ROOT = { culture = PREV }
					}
				}
			}
			greenaasimargfx = { # Aasimar - planetar variant
				add_trait = creature_aasimar
				add_character_modifier = {
					name = angel_aasimar
					duration = -1
				}
			}
			devaasimargfx = { # Aasimar - deva and asura variant
				add_trait = creature_aasimar
				add_character_modifier = {
					name = asura_aasimar
					duration = -1
				}
			}
			caledoriangfx = { # Aasimar - celestial eladrin variant
				add_trait = creature_aasimar
				add_character_modifier = {
					name = eladrin_aasimar
					duration = -1
				}
			}
			airgenasigfx 	= { # Genasi - air variant
				add_trait = creature_genasi
			}
			earthgenasigfx 	= { # Genasi - earth variant
				add_trait = creature_genasi
			}
			firegenasigfx 	= { # Genasi - fire variant, also used as default
				if = {
					limit = {
						allow_changing_race = yes
						gfx_culture_scope = {
							#OR = {
							#	culture = genasi
								culture = shyran
							#}
						}
					}
					spawn_random_genasi = yes
				}
				add_trait = creature_genasi
			}
			watergenasigfx 	= { # Genasi - water variant
				add_trait = creature_genasi
			}

			# genie group

			nomadgfx 		= { # Jann
				add_trait = creature_genie
			}
			earthgeniegfx	= { # Dao
				add_trait = creature_genie
			}
			airgeniegfx		= { # Djinn
				add_trait = creature_genie
			}
			firegeniegfx	= { # Efreet
				add_trait = creature_genie
			}
			watergeniegfx	= { # Marid
				add_trait = creature_genie
			}

			# outworlder group all use vanilla human portraits
			
			# province monster culture block
			
			# monster group

			monstergfx		= { # Static portraits for generic monsters
				add_trait = creature_monster
			}
			# dragons are already covered in their own group
			flamergfx		= { # Gibbering mouthers
				add_trait = creature_monster
			}
			
			# scalykind block
			
			# scaly group
			
			sarrukhgfx 		= { # Sarrukh
				add_trait = creature_sarrukh
			}			
			yuantigfx 		= { # Yuan-ti purebloods - default yuan-ti
				if = {
					limit = { allow_changing_race = yes }
					spawn_random_yuanti = yes
				}
				else = {
					add_trait = creature_pureblood
				}
			}
			hybridgfx 		= { # Yuan-ti malison, first variant
				add_trait = creature_malison
				if = {
					limit = {
						culture = halfblood
					}
					culture = yuanti
				}
			}
			malisongfx 		= { # Yuan-ti malison, second variant
				add_trait = creature_malison
				if = {
					limit = {
						culture = malison
					}
					culture = yuanti
				}
			}
			abominationgfx	= { # Yuan-ti abomination
				add_trait = creature_abomination
				if = {
					limit = {
						culture = abomination
					}
					culture = yuanti
				}
			}
			nagagfx 		= { # Nagas, especially guardian nagas, spirit nagas, ha-naga, and the similar serpent lords
				add_trait = creature_naga
			}
			jadegfx 		= { # Bone nagas and undead sarrukh
				add_trait = creature_naga
				add_trait = undead
			}
			lizardmangfx	= { # Lizardfolk
				random_list = {
					95 = {
						add_trait = creature_lizardfolk
					}
					5 = {
						trigger = { allow_changing_race = yes }
						add_trait = creature_goblin
						set_graphical_culture = tasloi
						if = {
							limit = { allow_changing_culture = yes }
							culture = tasloi
							random_list = {
								3 = {

								}
								1 = {
									trigger = {
										is_ruler = no
										holy_order = no
									}
									religion = goblin_pantheon
								}
							}
						}
					}
				}
			}			
			asabigfx	 	= { # Asabi
				add_trait = creature_lizardfolk
			}
			firenewtgfx 	= { # Firenewts
				add_trait = creature_lizardfolk
			}
			troglodytegfx	= { # Troglodytes
				add_trait = creature_lizardfolk
			}
			saurialgfx		= { # Saurials/lacertals, all types
				add_trait = creature_saurial
			}
			pterafolkgfx 	= { # Pterafolk
				add_trait = creature_pterafolk
			}

			# bottom of main section

			# Human cultures

			fallback			= {
				if = {
					limit = {
						OR = {
							dynasty = 8011 # Silver of Aglarond
							religion = yuir
							religion = yuir_reformed
						}
					}
					add_trait = creature_half_elf
				}
				else_if = {
					limit = {
						allow_changing_race = no
					}
					add_trait = creature_human
				}
				else = {
					trigger_switch = {
						on_trigger = culture

						# alphabetical
						aglarondan = {
							random_list = {
								64 = {
									add_trait = creature_human
									random_list = {
										80 = {
										}
										5 = {
											set_graphical_culture = thayan
										}
										5 = {
											set_graphical_culture = rashemi
										}
										5 = {
											set_graphical_culture = reacher
										}
										5 = {
											set_graphical_culture = turmic
										}
									}
								}
								30 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_green_elf
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = yuir_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = yuir_elf
										random_list = {
											1 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
												# switch here for Yuir revival
											}
											1 = {

											}
										}
									}
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										55 = {
											add_trait = creature_halfling
											set_graphical_culture = lightfoot
											if = {
												limit = { allow_changing_culture = yes }
												culture = lightfoot
											}
										}
										40 = {
											set_graphical_culture = tiefling
											spawn_random_tiefling = yes
										}
										5 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_song_dragon
										}
									}
								}
							}
						}
						amnian = {
							random_list = {
								83 = {
									add_trait = creature_human
									random_list = {
										75 = {
										}
										5 = {
											set_graphical_culture = calishite
										}
										5 = {
											set_graphical_culture = tethyrian
										}
										5 = {
											set_graphical_culture = highcoaster
										}
										5 = {
											set_graphical_culture = turmic
										}
										5 = {
											set_graphical_culture = ffolk
										}
									}
								}
								15 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = { #  specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										50 = {
											add_trait = creature_half_elf
											set_graphical_culture = half_green_elf
										}
										10 = {
											add_trait = creature_elf
											set_graphical_culture = green_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = green_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
										10 = {
											add_trait = creature_half_ogre
											set_graphical_culture = ogre # I know this is going to be fixed - many thanks Nendur
										}
										10 = {
											add_trait = creature_human
											set_graphical_culture = chultan
											if = {
												limit = { allow_changing_culture = yes }
												culture = chultan
											}
										}
										10 = {
											add_trait = creature_dwarf
											set_graphical_culture = shield_dwarf
											if = {
												limit = { allow_changing_culture = yes }
												culture = shield_dwarf
											}
										}
										5 = {
											trigger = {
												has_global_flag = maztica_opened
											}
											add_trait = creature_human
											set_graphical_culture = payit
											if = {
												limit = { allow_changing_culture = yes }
												culture = payit
											}
											if = {
												limit = {
													is_ruler = no
													holy_order = no
												}
												religion = qotal
											}
										}
										3 = {
											trigger = {
												allow_changing_race = yes
											}
											add_trait = creature_ogre
											set_graphical_culture = ogre
											if = {
												limit = { allow_changing_culture = yes }
												culture = ogre
											}
										}
										1 = {
											set_character_flag = secret_dragon
											set_character_flag = is_red_dragon
										}
										1 = {
											set_character_flag = secret_dragon
											set_character_flag = is_amethyst_dragon
										}
									}
								}
							}
						}
						amran = {
							random_list = { # not reviewed
								10 = {
									add_trait = creature_human
								}
								6 = {
									spawn_random_genasi = yes
								}
								3 = {
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
								}
							}
						}
						arkaiun = {
							random_list = {
								95 = {
									add_trait = creature_human
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = crinti
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										50 = {
											add_trait = creature_lizardfolk
											set_graphical_culture = lizardfolk
											if = {
												limit = { allow_changing_culture = yes }
												culture = lizardfolk
											}
										}
										40 = {
											add_trait = creature_halfling
											set_graphical_culture = strongheart
											if = {
												limit = { allow_changing_culture = yes }
												culture = strongheart
											}
										}
										9 = {
											add_trait = creature_human
											set_graphical_culture = halruaan
											if = {
												limit = { allow_changing_culture = yes }
												culture = halruaan
											}
										}
										1 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_black_dragon
										}
									}
								}
							}
						}
						azuposi = { # not sure what specials to include here
							random_list = {
								96 = {
									add_trait = creature_human
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = poscadar
									if = {
										limit = { allow_changing_culture = yes }
										culture = poscadar
									}
								}
							}
						}
						borderer = {
							random_list = {
								75 = {
									add_trait = creature_human
									random_list = {
										65 = {
										}
										5 = {
											set_graphical_culture = calishite
										}
										5 = {
											set_graphical_culture = nelanthern
										}
										5 = {
											set_graphical_culture = arnadar
										}
										5 = {
											set_graphical_culture = tashalan
										}
										5 = {
											set_graphical_culture = chondathan
										}
										5 = {
											set_graphical_culture = shaaran
										}
										5 = {
											set_graphical_culture = thinguth
										}
									}
								}
								5 = {
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
									}
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_tiefling = yes
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									20 = {
										add_trait = creature_half_elf
										set_graphical_culture = half_sea_elf
									}
									20 = {
										add_trait = creature_tengu
										set_graphical_culture = kenku
										if = {
											limit = { allow_changing_culture = yes }
											culture = kenku
										}
									}
									20 = {
										add_trait = creature_dwarf
										set_graphical_culture = gold_dwarf
										if = {
											limit = { allow_changing_culture = yes }
											culture = gold_dwarf
										}
									}
									20 = {
										add_trait = creature_pureblood
									}
									10 = {
										add_trait = creature_lizardfolk
										set_graphical_culture = lizardfolk
										if = {
											limit = { allow_changing_culture = yes }
											culture = lizardfolk
										}
									}
									9 = {
										spawn_random_aasimar = yes
									}
									1 = {
										add_trait = creature_human
										set_character_flag = secret_dragon # steel dragon
									}
								}
							}
						}
						calishite = {
							random_list = {
								94 = {
									add_trait = creature_human
									random_list = {
										60 = {
										}
										10 = {
											set_graphical_culture = lapal
										}
										10 = {
											set_graphical_culture = tethyrian
										}
										10 = {
											set_graphical_culture = tashalan
										}
										10 = {
											modifier = {
												factor = 5
												liege = {
													OR = {
														trait = creature_genie
														AND = {
															trait = creature_genasi
															religion = primordial
														}
													}
												}
											}
											remove_trait = creature_human
											spawn_random_genasi = yes
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								1 = { # specials
									trigger = {
										is_patrician = no
									}
									random_list = {
										20 = {
											add_trait = creature_orc
											set_graphical_culture = orc
										}
										20 = {
											add_trait = creature_half_ogre
											set_graphical_culture = ogre
										}
										20 = {
											add_trait = creature_drow
											set_graphical_culture = drow
											if = {
												limit = { allow_changing_culture = yes }
												culture = drow
											}
										}
										20 = {
											set_graphical_culture = tiefling
											spawn_random_tiefling = yes
										}
										14 = {
											add_trait = creature_halfling
											set_graphical_culture = lightfoot
											if = {
												limit = { allow_changing_culture = yes }
												culture = lightfoot
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = halfling_pantheon
													}
													1 = {

													}
												}
											}
										}
										5 = {
											trigger = {
												has_global_flag = maztica_opened
											}
											add_trait = creature_human
											set_graphical_culture = payit
											if = {
												limit = { allow_changing_culture = yes }
												culture = payit
											}
											if = {
												limit = {
													is_ruler = no
													holy_order = no
												}
												religion = qotal
											}
										}
										1 = {
											add_trait = creature_human
											set_character_flag = secret_dragon
											set_character_flag = is_blue_dragon
										}
									}	
								}
							}
						}
						chessentan = {
							random_list = {
								82 = {
									add_trait = creature_human
								}
								6 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									set_graphical_culture = tiefling
									spawn_random_tiefling = yes
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
							}
						}
						chondathan = {
							random_list = {
								96 = {
									add_trait = creature_human
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = green_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = green_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						chultan = {
							random_list = {
								90 = {
									add_trait = creature_human
								}
								1 = {
									add_trait = creature_tabaxi
									set_graphical_culture = tabaxi
								}
								5 = {
									add_trait = creature_pureblood
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											2 = {
											}
											3 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = scale_cult
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = wild_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											1 = {
											}
											2 = {
												culture = wild_dwarf
											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_lizardfolk
									set_graphical_culture = lizardfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_pterafolk
									set_graphical_culture = pterafolk
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = kenku
									if = {
										limit = { allow_changing_culture = yes }
										culture = kenku
									}
								}
							}
						}
						cormyrean = {
							random_list = {
								85 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_moon_elf
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = moon_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = moon_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						dalesman = {
							random_list = {
								86 = {
									add_trait = creature_human
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									random_list = {
										10 = {
											set_graphical_culture = half_sun_elf
										}
										10 = {
											set_graphical_culture = half_moon_elf
										}
										10 = {
											set_graphical_culture = half_wood_elf
										}
										10 = {
											set_graphical_culture = half_green_elf
										}
										1 = {
											set_graphical_culture = crinti
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									random_list = {
										1 = {
											set_graphical_culture = wood_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = wood_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
										1 = {
											set_graphical_culture = moon_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = moon_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
										1 = {
											set_graphical_culture = sun_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = sun_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
										1 = {
											set_graphical_culture = green_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = green_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = gnome_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						damaran = {
							random_list = {
								87 = {
									add_trait = creature_human
								}
								6 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 0
										e_yaimunnahar = {
											OR = {
												holder_scope = {
													OR = {
														government = tribal_government
														government = nomadic_tribal_government
													}
												}
												has_holder = yes
											}
										}
										k_thesk = {
											holder_scope = {
												NOT = { same_realm = ROOT }
											}
										}
									}
									add_trait = creature_orc
									set_graphical_culture = orc
									random_list = {
										1 = {
										
										}
										2 = {
											culture = orc
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 10
										e_yaimunnahar = {
											OR = {
												holder_scope = {
													NOR = {
														government = tribal_government
														government = nomadic_tribal_government
													}
												}
												has_holder = no
											}
										}
										k_thesk = {
											holder_scope = {
												same_realm = ROOT
											}
										}
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
							}
						}
						draeven = {
							random_list = {
								78 = {
									add_trait = creature_human
								}
								7 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									random_list = {
										2 = {
											set_graphical_culture = wood_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = wood_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
										1 = {
											set_graphical_culture = moon_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = moon_elf
												random_list = {
													10 = {
														trigger = {
															is_ruler = no
															holy_order = no
														}
														religion = elven_pantheon
													}
													1 = {

													}
												}
											}
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									random_list = {
										2 = {
											set_graphical_culture = half_wood_elf
										}
										1 = {
											set_graphical_culture = half_moon_elf
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = gnome_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						durpari = {
							random_list = {
								70 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											2 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								8 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
									random_list = {
										2 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = elven_pantheon
										}
										1 = {

										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_aasimar = yes
								}
							}
						}
						dusker = {
							random_list = {
								5 = {
									add_trait = creature_human
								}
								3 = {
									set_graphical_culture = strixiki
									add_trait = creature_dragonborn
								}
								2 = {
									spawn_random_genasi = yes
								}
								2 = {
									add_trait = creature_orc
									set_graphical_culture = gray_orc
								}
								3 = {
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = {
									add_trait = creature_half_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
								1 = {
									add_trait = creature_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
							}
						}
						ffolk = {
							random_list = {
								89 = {
									add_trait = creature_human
									random_list = {
										75 = {}
										10 = { set_graphical_culture = northlander }
										5 = { set_graphical_culture = tethyrian }
										5 = { set_graphical_culture = nelanthern }
										5 = { set_graphical_culture = mari }
									}
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = sun_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
							}
						}
						gontese = {
							random_list = {
								6 = {
									add_trait = creature_human
								}
								4 = {
									spawn_random_genasi = yes
								}
								4 = {
									add_trait = creature_dragonborn
									set_graphical_culture = strixiki
								}
								3 = {
									add_trait = creature_half_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
								3 = {
									add_trait = creature_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
							}
						}
						gugari = {
							random_list = {
								50 = {
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								50 = {
									add_trait = creature_human
								}
							}
						}
						hadhar = {
							random_list = {
								80 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									random_list ={
										1 = {
											set_graphical_culture = shield_dwarf
										}
										1 = {
											set_graphical_culture = gold_dwarf
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
								}
								8 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_orc
									set_graphical_culture = orc
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_ogre
									set_graphical_culture = ogre
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_giant
									random_list = {
										5 = {
											set_graphical_culture = hill_giant
											add_trait = lifespan_giant_hill
										}
										5 = {
											set_graphical_culture = fire_giant
											add_trait = lifespan_giant_fire
										}
										1 = {
											set_graphical_culture = storm_giant
											add_trait = lifespan_giant_storm
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_genie
									set_graphical_culture = jann
									if = {
										limit = { allow_changing_culture = yes }
										culture = jann
									}
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_goblin
									set_graphical_culture = goblin
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_hobgoblin
									set_graphical_culture = hobgoblin
								}
							}
						}
						halruaan = {
							random_list = {
								90 = {
									add_trait = creature_human
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 0
										location = {
											de_jure_liege_or_above = k_nimbral
										}
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 0
										location = {
											de_jure_liege_or_above = k_nimbral
										}
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = moon_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = moon_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 10
										location = {
											de_jure_liege_or_above = k_nimbral
										}
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_moon_elf
								}
							}
						}
						highcoaster = {
							random_list = {
								65 = {
									add_trait = creature_human
									random_list = {
										80 = {
										}
										40 = {
											set_graphical_culture = illuskan
										}
										40 = {
											set_graphical_culture = tethyrian
										}
										40 = {
											set_graphical_culture = draeven
										}
										10 = {
											set_graphical_culture = calishite
										}
										10 = {
											set_graphical_culture = turmic
										}
										4 = {
											set_graphical_culture = chultan
										}
									}
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								6 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									random_list = {
										5 = {
											set_graphical_culture = wood_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = wood_elf
											}
										}
										3 = {
											set_graphical_culture = moon_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = moon_elf
											}
										}
										1 = {
											set_graphical_culture = sun_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = sun_elf
											}
										}
									}
									random_list = {
										10 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = elven_pantheon
										}
										1 = {

										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = gnome_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									random_list = {
										5 = {
											set_graphical_culture = half_wood_elf
										}
										3 = {
											set_graphical_culture = half_moon_elf
										}
										1 = {
											set_graphical_culture = half_sun_elf
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									set_graphical_culture = tiefling
									spawn_random_tiefling = yes
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_aasimar = yes
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
							}
						}
						illuskan = {
							random_list = {
								91 = {
									add_trait = creature_human
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									random_list = {
										1 = {
											set_graphical_culture = half_sun_elf
										}
										1 = {
											set_graphical_culture = half_moon_elf
										}
										1 = {
											set_graphical_culture = half_wood_elf
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 15
										OR = {
											has_landed_title = c_hartsvale
											location = {
												title = c_hartsvale
											}
										}
									}
									add_trait = creature_half_giant
								}
							}
						}
						impilturan = {
							random_list = {
								90 = {
									add_trait = creature_human
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 0
										e_yaimunnahar = {
											OR = {
												holder_scope = {
													OR = {
														government = tribal_government
														government = nomadic_tribal_government
													}
												}
												has_holder = yes
											}
										}
										k_thesk = {
											holder_scope = {
												NOT = { same_realm = ROOT }
											}
										}
									}
									add_trait = creature_orc
									set_graphical_culture = orc
									random_list = {
										1 = {
										
										}
										2 = {
											culture = orc
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 10
										e_yaimunnahar = {
											OR = {
												holder_scope = {
													NOR = {
														government = tribal_government
														government = nomadic_tribal_government
													}
												}
												has_holder = no
											}
										}
										k_thesk = {
											holder_scope = {
												same_realm = ROOT
											}
										}
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
							}
						}
						kozakuran = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = wanese
											}
											5 = {
												culture = koryoan
												set_graphical_culture = koryoan
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						wanese = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = waka
												set_graphical_culture = waka
											}
											5 = {
												culture = kozakuran
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						koryoan = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = kozakuran
												set_graphical_culture = kozakuran
											}
											5 = {
												culture = wuhaltai
												set_graphical_culture = wuhaltai
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}	
							}
						}
						bawani = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = kozakuran
												set_graphical_culture = kozakuran
											}
											5 = {
												culture = bawani
											}
											5 = {
												culture = jaziran
												set_graphical_culture = jaziran
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
							}
						}
						seng = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = purang
											}
											5 = {
												culture = kuong
											}
											80 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = tamhi
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = katanga
									}
								}
							}
						}
						kuong = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = purang
											}
											5 = {
												culture = seng
											}
											5 = {
												culture = bawani
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = tamhi
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = katanga
									}
								}
							}
						}
						purang = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = seng
											}
											5 = {
												culture = kuong
											}
											80 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = tamhi
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = katanga
									}
								}
							}
						}
						nubari = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											1 = {
												culture = kuong
												set_graphical_culture = kuong
											}
											1 = {
												culture = seng
												set_graphical_culture = seng
											}
											1 = {
												culture = kuong
												set_graphical_culture = kuong
											}
											1 = {
												culture = purang
												set_graphical_culture = purang
											}
											1 = {
												culture = mahasiswa
												set_graphical_culture = mahasiswa
											}
											5 = {
												culture = shu
												set_graphical_culture = shu
												remove_trait = creature_human
												add_trait = creature_halfling
											}
											5 = {
												culture = korpokkur
												set_graphical_culture = korpokkur
												remove_trait = creature_human
												add_trait = creature_dwarf
											}			
											95 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = tamhi
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_saurial
									set_graphical_culture = saurial
									if = {
										limit = { allow_changing_culture = yes }
										culture = saurial
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = shu
									if = {
										limit = { allow_changing_culture = yes }
										culture = shu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = katanga
									}
								}
							}
						}
						mahasiswa = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = tabotan
												set_graphical_culture = tabotan
											}
											5 = {
												culture = kuong
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = kao
												set_graphical_culture = kao
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = tamhi
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = shu
									if = {
										limit = { allow_changing_culture = yes }
										culture = shu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_human
									set_graphical_culture = nubari
									if = {
										limit = { allow_changing_culture = yes }
										culture = nubari
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_saurial
									set_graphical_culture = saurial
									if = {
										limit = { allow_changing_culture = yes }
										culture = saurial
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = katanga
									}
								}
							}
						}
						lantanna = {
							random_list = {
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
								}
								1 = {
									add_trait = creature_human
								}
							}
						}
						mulhorandi = {
							random_list = {
								96 = {
									add_trait = creature_human
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									set_graphical_culture = tiefling
									spawn_random_tiefling = yes
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_aasimar = yes
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
							}
						}
						murghomi = {
							random_list = {
								98 = {
									add_trait = creature_human
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_aasimar = yes
								}
							}
						}
						nar = {
							random_list = {
								96 = {
									add_trait = creature_human
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									set_graphical_culture = tiefling
									spawn_random_tiefling = yes
								}
							}
						}
						nelanthern = {
							random_list = {
								30 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_orc
									set_graphical_culture = orc
									random_list = {
										10 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = orc_pantheon
										}
										1 = {

										}
									}
								}
								20 = {
									add_trait = creature_human
								}
								15 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
									random_list = {
										1 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = orc_pantheon
										}
										1 = {

										}
									}
								}
								15 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_lizardfolk
									set_graphical_culture = lizardfolk
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_ogre
									set_graphical_culture = ogre
									random_list = {
										10 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = giant_pantheon
										}
										1 = {

										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_minotaur
									set_graphical_culture = minotaur
									random_list = {
										10 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = abyssal_cult
										}
										1 = {

										}
									}
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = kenku
									if = {
										limit = { allow_changing_culture = yes }
										culture = kenku
									}
								}
							}
						}
						northlander = {
							random_list = {
								100 = {
									add_trait = creature_human
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_ogre
									set_graphical_culture = ogre
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = kenku
									if = {
										limit = { allow_changing_culture = yes }
										culture = kenku
									}
								}
							}
						}
						qarsan = {
							random_list = {
								80 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									random_list ={
										1 = {
											set_graphical_culture = shield_dwarf
										}
										1 = {
											set_graphical_culture = gold_dwarf
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
								}
								8 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_orc
									set_graphical_culture = orc
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_ogre
									set_graphical_culture = ogre
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_giant
									random_list = {
										5 = {
											set_graphical_culture = hill_giant
											add_trait = lifespan_giant_hill
										}
										5 = {
											set_graphical_culture = fire_giant
											add_trait = lifespan_giant_fire
										}
										1 = {
											set_graphical_culture = storm_giant
											add_trait = lifespan_giant_storm
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_genie
									set_graphical_culture = jann
									if = {
										limit = { allow_changing_culture = yes }
										culture = jann
									}
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_goblin
									set_graphical_culture = goblin
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_hobgoblin
									set_graphical_culture = hobgoblin
								}
							}
						}
						rashemi = {
							random_list = {
								99 = {
									add_trait = creature_human
									random_list = {
										80 = {
										
										}
										20 = {
											set_graphical_culture = calishite # since dynaheir had darker skin
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
										is_female = no
									}
									add_trait = creature_hagspawn
									set_graphical_culture = hag
								}
							}
						}
						raumviran = {
							random_list = {
								98 = {
									add_trait = creature_human
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									set_graphical_culture = tiefling
									spawn_random_tiefling = yes
								}
							}
						}
						reacher = {
							random_list = {
								96 = {
									add_trait = creature_human
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									set_graphical_culture = tiefling
									spawn_random_tiefling = yes
								}
							}
						}
						sembite = {
							random_list = {
								96 = {
									add_trait = creature_human
								}
								4 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						shoon = {
							random_list = {
								94 = {
									add_trait = creature_human
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
							}
						}
						chukien = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = koryoan
												set_graphical_culture = koryoan
											}
											5 = {
												culture = wuhaltai
												set_graphical_culture = wuhaltai
											}
											5 = {
												culture = mai
												set_graphical_culture = mai
											}
											80 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						mai = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = tuigan
											}
											5 = {
												culture = chukien
												set_graphical_culture = chukien
											}
											5 = {
												culture = sheng
												set_graphical_culture = sheng
											}
											5 = {
												culture = waka
												set_graphical_culture = waka
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						ching = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = khatin
												set_graphical_culture = khatin
											}
											5 = {
												culture = chukien
												set_graphical_culture = chukien
											}
											5 = {
												culture = sheng
												set_graphical_culture = sheng
											}
											5 = {
												culture = waka
												set_graphical_culture = waka
											}
											5 = {
												culture = ti
												set_graphical_culture = ti
											}
											5 = {
												culture = hungtse
											}
											65 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = maviddi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maviddi
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						sheng = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = mai
												set_graphical_culture = mai
											}
											5 = {
												culture = ching
												set_graphical_culture = ching
											}
											5 = {
												culture = ti
												set_graphical_culture = ti
											}
											5 = {
												culture = waka
												set_graphical_culture = waka
											}
											75 = {
											}
										}
									}
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_moon_elf
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								5 = { # Hengeyokai live openly among the Sheng
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						waka = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = mai
												set_graphical_culture = mai
											}
											5 = {
												culture = wanese
												set_graphical_culture = wanese
											}
											5 = {
												culture = sheng
												set_graphical_culture = sheng
											}
											5 = {
												culture = ti
												set_graphical_culture = ti
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_moon_elf
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						ti = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = waka
												set_graphical_culture = waka
											}
											5 = {
												culture = sheng
												set_graphical_culture = sheng
											}
											5 = {
												culture = hungtse
												set_graphical_culture = hungtse
											}
											5 = {
												culture = ching
												set_graphical_culture = ching
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						hungtse = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = ti
												set_graphical_culture = ti
											}
											5 = {
												culture = sheng
												set_graphical_culture = sheng
											}
											5 = {
												culture = ching
												set_graphical_culture = ching
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = hai
												set_graphical_culture = hai
											}
											70 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						wang = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = hungtse
												set_graphical_culture = hungtse
											}
											5 = {
												culture = kao
												set_graphical_culture = kao
											}
											5 = {
												culture = hai
												set_graphical_culture = hai
											}
											5 = {
												culture = chu
												set_graphical_culture = chu
											}
											5 = {
												culture = kuong
												set_graphical_culture = kuong
											}
											5 = {
												culture = tabotan
												set_graphical_culture = tabotan
											}
											5 = {
												culture = mahasiswa
												set_graphical_culture = mahasiswa
											}
											60 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_green_elf
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						hai = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = hungtse
												set_graphical_culture = hungtse
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = kuong
												set_graphical_culture = kuong
											}
											80 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_wood_elf
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						kao = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = ching
												set_graphical_culture = ching
											}
											5 = {
												culture = hungtse
												set_graphical_culture = hungtse
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = chu
												set_graphical_culture = chu
											}
											5 = {
												culture = tabotan
												set_graphical_culture = tabotan
											}
											5 = {
												culture = khatin
												set_graphical_culture = khatin
											}
											65 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = maviddi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maviddi
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_hengeyokai = yes
									if = {
										limit = { allow_changing_culture = yes }
										culture = hengeyokai
									}
								}
							}
						}
						tabotan = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = kao
												set_graphical_culture = kao
											}
											5 = {
												culture = chu
												set_graphical_culture = chu
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = mahasiswa
												set_graphical_culture = mahasiswa
											}
											5 = {
												culture = tabotan
												set_graphical_culture = tabotan
											}
											70 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = maviddi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maviddi
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
							}
						}
						tashalan = {
							random_list = {
								90 = {
									add_trait = creature_human
									random_list = {
										83 = {
											
										}
										12 = {
											set_graphical_culture = calishite
										}
										3 = {
											set_graphical_culture = chultan
										}
										1 = {
											set_graphical_culture = shaaran
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 0
										NOT = {
											any_liege = {
												has_landed_title = k_lapaliiya
											}
										}
									}
									add_trait = creature_dwarf
									set_graphical_culture = wild_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											1 = {
											}
											2 = {
												culture = wild_dwarf
												religion = ubtao_worship
											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 0
										NOT = {
											any_liege = {
												has_landed_title = k_lapaliiya
											}
										}
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											1 = {
											}
											2 = {
												culture = gnome
											}
										}
									}
								}
								1 = {
									add_trait = creature_pureblood
									modifier = {
										factor = 10
										k_thindol = {
											any_de_jure_vassal_title = {
												tier = COUNT
												location = {
													culture = yuanti
												}
											}
										}
									}
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											2 = {
											}
											3 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = scale_cult
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
							}
						}
						thinguth = {
							random_list = {
								90 = {
									add_trait = creature_human
									random_list = {
										75 = {
										
										}
										25 = {
											set_graphical_culture = chultan
										}
									}
								}
								1 = {
									add_trait = creature_pureblood
									modifier = {
										factor = 10
										k_thindol = {
											any_de_jure_vassal_title = {
												tier = COUNT
												location = {
													culture = yuanti
												}
											}
										}
									}
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											2 = {
											}
											3 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = scale_cult
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
							}
						}
						chu = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = kao
												set_graphical_culture = kao
											}
											5 = {
												culture = wang
												set_graphical_culture = wang
											}
											5 = {
												culture = tabotan
												set_graphical_culture = tabotan
											}
											80 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_green_elf
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
							}
						}
						wuhaltai = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = issacortae
											}
											5 = {
												culture = pazruki
											}
											5 = {
												culture = koryoan
												set_graphical_culture = koryoan
											}
											5 = {
												culture = chukien
												set_graphical_culture = chukien
											}
											75 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									add_trait = feytouched
									set_graphical_culture = maraloi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maraloi
									}
								}
							}
						}
						issacortae = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = wuhaltai
											}
											5 = {
												culture = pazruki
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = maraloi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maraloi
									}
								}
							}
						}
						tayanulchi = {
							random_list = {
								100 = {
									add_trait = creature_human
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = maraloi
									if = {
										limit = { allow_changing_culture = yes }
										culture = maraloi
									}
								}
							}
						}
						pazruki = {
							random_list = {
								100 = {
									add_trait = creature_human
									if = {
										limit = { allow_changing_culture = yes }
										random_list = {
											5 = {
												culture = issacortae
											}
											5 = {
												culture = wuhaltai
											}
											85 = {
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_spirit_folk
									set_graphical_culture = spiritfolk
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = korpokkur
									if = {
										limit = { allow_changing_culture = yes }
										culture = korpokkur
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_tengu
									set_graphical_culture = tengu
									if = {
										limit = { allow_changing_culture = yes }
										culture = tengu
									}
								}
							}
						}
						tethyrian = {
							random_list = {
								76 = {
									add_trait = creature_human
								}
								20 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									random_list = {
										4 = {
											set_graphical_culture = wood_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = wood_elf
											}
										}
										1 = {
											set_graphical_culture = green_elf
											if = {
												limit = { allow_changing_culture = yes }
												culture = green_elf
											}
										}
									}
									random_list = {
										10 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = elven_pantheon
										}
										1 = {

										}
									}
								}
							}
						}
						tharian = {
							random_list = {
								69 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
										any_liege = {
											has_landed_title = k_zhentarim
										}
									}
									add_trait = creature_orc
									set_graphical_culture = orc
									if = {
										limit = { allow_changing_culture = yes }
										culture = orc
										random_list = {
											3 = {

											}
											1 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = orc_pantheon
											}
										}
									}
								}
								6 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										NOT = {
											any_liege = {
												has_landed_title = k_zhentarim
											}
										}
										factor = 1.6
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
									}
								}
								2 = {
									trigger = {
										is_patrician = no
										any_liege = {
											has_landed_title = k_zhentarim
										}
									}
									add_trait = creature_ogre
									set_graphical_culture = ogre
									if = {
										limit = { allow_changing_culture = yes }
										culture = ogre
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = gnome_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						thayan = {
							random_list = {
								62 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_gnoll
									set_graphical_culture = gnoll
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnoll
										random_list = {
											3 = {

											}
											1 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = abyssal_cult
											}
										}
									}
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_orc
									set_graphical_culture = orc
									if = {
										limit = { allow_changing_culture = yes }
										culture = orc
										random_list = {
											3 = {

											}
											1 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = orc_pantheon
											}
										}
									}
								}
								8 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_goblin
									set_graphical_culture = goblin
									if = {
										limit = { allow_changing_culture = yes }
										culture = goblin
										random_list = {
											3 = {

											}
											1 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = goblin_pantheon
											}
										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									set_graphical_culture = tiefling
									spawn_random_tiefling = yes
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_genasi
									spawn_random_genasi = yes
								}
							}
						}
						turmic = {
							random_list = {
								93 = {
									add_trait = creature_human
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_gnome
									set_graphical_culture = gnome
									if = {
										limit = { allow_changing_culture = yes }
										culture = gnome
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = gnome_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_wood_elf
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								1 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = wood_elf
									if = {
										limit = { allow_changing_culture = yes }
										culture = wood_elf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = elven_pantheon
											}
											1 = {

											}
										}
									}
								}
							}
						}
						ulgarian = {
							random_list = {
								70 = {
									add_trait = creature_human
								}
								10 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											2 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								8 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_elf
									set_graphical_culture = sun_elf
									random_list = {
										2 = {
											trigger = {
												allow_changing_culture = yes
												is_ruler = no
												holy_order = no
											}
											religion = elven_pantheon
										}
										1 = {

										}
									}
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_elf
									set_graphical_culture = half_sun_elf
								}
								5 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_aasimar = yes
								}
							}
						}
						untheric = {
							random_list = {
								94 = {
									add_trait = creature_human
								}
								3 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_dwarf
									set_graphical_culture = gold_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = gold_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									add_trait = creature_halfling
									set_graphical_culture = lightfoot
									if = {
										limit = { allow_changing_culture = yes }
										culture = lightfoot
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = halfling_pantheon
											}
											1 = {

											}
										}
									}
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_aasimar = yes
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									set_graphical_culture = tiefling
									spawn_random_tiefling = yes
								}
								2 = {
									trigger = {
										is_patrician = no
									}
									spawn_random_genasi = yes
								}
							}
						}
						uthgardt = {
							if = {
								limit = {
									any_liege = {
										has_landed_title = d_tree_ghost
									}
								}
								random_list = {
									92 = {
										add_trait = creature_human
									}
									8 = {
										trigger = {
											is_patrician = no
										}
										add_trait = creature_half_elf
										set_graphical_culture = half_wood_elf
									}
								}
							}
							else_if = {
								limit = {
									any_liege = {
										has_landed_title = d_blue_bear
										religion = abyssal_cult
									}
								}
								random_list = {
									92 = {
										add_trait = creature_human
									}
									8 = {
										trigger = {
											is_patrician = no
										}
										set_graphical_culture = tiefling
										spawn_random_tiefling = yes
									}
								}
							}
							else = {
								add_trait = creature_human
							}
						}
						vaasan = {
							random_list = {
								60 = {
									modifier = {
										factor = 0.1
										liege = {
											trait = creature_half_orc
										}
									}
									add_trait = creature_human
								}
								30 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 0.05
										liege = {
											trait = creature_half_orc
										}
									}
									add_trait = creature_dwarf
									set_graphical_culture = shield_dwarf
									if = {
										limit = { allow_changing_culture = yes }
										culture = shield_dwarf
										random_list = {
											10 = {
												trigger = {
													is_ruler = no
													holy_order = no
												}
												religion = dwarven_pantheon
											}
											1 = {

											}
										}
									}
								}
								9 = {
									trigger = {
										is_patrician = no
									}
									modifier = {
										factor = 5
										liege = {
											trait = creature_half_orc
										}
									}
									add_trait = creature_half_orc
									set_graphical_culture = half_orc
								}
							}
						}
						windriser = {
							random_list = {
								12 = {
									add_trait = creature_human
								}
								8 = {
									add_trait = creature_genasi
									spawn_random_genasi = yes
								}
								8 = {
									add_trait = creature_dragonborn
									set_graphical_culture = strixiki
								}
								6 = {
									add_trait = creature_half_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
								6 = {
									add_trait = creature_dwarf
									random_list = {
										1 = {
											set_graphical_culture = gold_dwarf
										}
										1 = {
											set_graphical_culture = shield_dwarf
										}
									}
								}
								1 = {
									add_trait = creature_elf
									add_trait = feytouched
									set_graphical_culture = eladrin
								}
							}
						}
						fallback = {
							add_trait = creature_human
						}
					}
				}
			}
		}
		if = {
			limit = {
				liege = {
					has_character_flag = vampire_court
				}
				NOR = {
					trait = creature_hag
					trait = creature_treant
					trait = creature_fiend
					trait = creature_genie
					trait = creature_angel
				}
			}
			random_list = {
				33 = {
					add_trait = vampire_spawn
					turn_vampire_effect = yes
				}
				33 = {
					turn_undead_effect = yes
				}
				33 = {

				}
			}
		}
		if = {
			limit = {
				liege = {
					has_character_flag = undead_court
				}
				undead_incompatible_race = no
			}
			if = {
				limit = {
					OR = {
						trait = master_wizard
						trait = renowned_wizard
						trait = legendary_wizard
						trait = master_sorcerer
						trait = renowned_sorcerer
						trait = legendary_sorcerer
					}
				}
				turn_lich_effect = yes
			}
			else = {
				turn_undead_effect = yes
			}
		}
		if = {
			limit = {
				liege = {
					has_character_flag = lycan_court
				}
				is_lycanthrope_compatible = yes
			}
			if = {
				limit = {
					liege = { trait = werewolf }
				}
				add_trait = werewolf
				add_trait = natural_lycanthrope
			}
			else_if = {
				limit = {
					liege = { trait = wererat }
				}
				add_trait = wererat
				add_trait = natural_lycanthrope
			}
			else_if = {
				limit = {
					liege = { trait = weretiger }
				}
				add_trait = weretiger
				add_trait = natural_lycanthrope
			}
			else_if = {
				limit = {
					liege = { trait = werecrocodile }
				}
				add_trait = werecrocodile
				add_trait = natural_lycanthrope
			}
		}
		if = {
			limit = {
				liege = {
					has_character_flag = yuanti_court
				}
			}
			random_list = {
				40 = {
					modifier = {
						factor = 0
						NOT = { trait = creature_human }
					}
					remove_trait = creature_human
					add_trait = creature_pureblood
					set_graphical_culture = yuanti
				}
				20 = {
					modifier = {
						factor = 0
						NOT = { trait = creature_human }
					}
					remove_trait = creature_human
					add_trait = creature_pureblood
				}
				40 = {
					# kept intentionally empty
				}
			}
		}

		if = {
			limit = {
				trait = undead
			}
			turn_undead_effect = yes
		}
		else_if = {
			limit = {
				OR = {
					trait = vampire
					trait = vampire_spawn
				}
			}
			turn_vampire_effect = yes
		}
		else_if = {
			limit = {
				OR = {
					trait = lich
					trait = archlich
					trait = lich_baelnorn
				}
			}
			turn_lich_effect = yes
		}

		if = {
			limit = {
				trait = creature_giant
			}
			character_event = { id = character_trait.3 }
		}

		set_freckles_effect = yes

		set_character_flag = character_trait_1_triggered #flag for bug tracking purposes
	}
}

#character_event = { # Experimental species trait distribution on startup
	#id = character_trait.2
	#hide_window = yes
	#is_triggered_only = yes # Only on startup, because this is so system-intensive
	##has_global_flag = creature_traits_assigned # pre-trigger
	#immediate = {
		#any_character = {
			#limit = {
				#NOR = {
					#trait = creature_monster
					#trait = creature_human
					#trait = creature_drow
					#trait = creature_elf
					#trait = creature_dwarf
					#trait = creature_goblin
					#trait = creature_orc
					#trait = creature_halfling
					#trait = creature_giant
					#trait = creature_treant
					#trait = creature_ogre
					#trait = creature_half_orc
					#trait = creature_half_elf
					#trait = creature_half_ogre
					#trait = creature_half_dwarf
					#trait = creature_ogrillon
					#trait = creature_yikarian
					#trait = creature_pureblood
					#trait = creature_malison
					#trait = creature_abomination
					#trait = creature_centaur
					#trait = creature_wemic
					#trait = creature_lizardfolk
					#trait = creature_naga
					#trait = creature_gith
					#trait = creature_hobgoblin
					#trait = creature_bugbear
					#trait = creature_gnoll
					#trait = creature_tengu
					#trait = creature_tiefling
					#trait = creature_fiend
					#trait = creature_genasi
					#trait = creature_genie
					#trait = creature_dragonborn
					#trait = creature_gnome
					#trait = creature_aasimar
					#trait = creature_tanarukk
					#trait = creature_dragon
					#trait = creature_saurial
					#trait = creature_pterafolk
					#trait = creature_minotaur
					#trait = creature_illithid
					#trait = creature_beholder
					#trait = creature_kobold
					#trait = creature_half_giant
					#trait = creature_sarrukh
					#trait = creature_troll
					#trait = creature_hag
					#trait = creature_feyri
					#trait = creature_angel
					#trait = creature_goliath
					#trait = creature_aarakocra
					#trait = creature_sahuagin
					#trait = creature_lamia
					#trait = creature_kuotoa
					#trait = creature_hagspawn
					#trait = creature_construct
					#trait = creature_tabaxi
					#trait = creature_satyr
					#trait = creature_aboleth
					#trait = creature_hengeyokai
					#trait = creature_deep_imaskari
					#trait = creature_spirit_folk
					#trait = creature_draegloth
					#trait = creature_malenti
					#trait = adopted
				#}
			#}
			#character_event = { id = character_trait.1 }
		#}
	#}
	#after = {
		#set_global_flag = creature_traits_assigned
	#}
#}

character_event = {
	id = character_trait.3
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		trait = creature_giant
		NOR = {
			trait = lifespan_giant_stone
			trait = lifespan_giant_storm
			trait = lifespan_giant_cloud
			trait = lifespan_giant_fire
			trait = lifespan_giant_frost
			trait = lifespan_giant_hill
			trait = lifespan_earth_titan
		}
		OR = {
			graphical_culture = stonegiantgfx
			graphical_culture = stormgiantgfx
			graphical_culture = cloudgiantgfx
			graphical_culture = firegiantgfx
			graphical_culture = frostgiantgfx
			graphical_culture = giantgfx
			graphical_culture = earthtitangfx
			graphical_culture = fomoriangfx
			graphical_culture = ashgiantgfx
			graphical_culture = desertgiantgfx
			graphical_culture = junglegiantgfx
			graphical_culture = reefgiantgfx
			graphical_culture = woodgiantgfx
			graphical_culture = cyclopsgfx
		}
		NOT = { gfx_culture_scope = { culture = mountain_giant } }
		NOT = { gfx_culture_scope = { culture = verbeeg } }
	}

	immediate = {
		if = {
			limit = {
				is_adult = yes
			}
			if = {
				limit = {
					OR = {
						gfx_culture_scope = { culture = stone_giant }
						gfx_culture_scope = { culture = ash_giant }
					}
				}
				add_trait = lifespan_giant_stone
			}
			else_if = {
				limit = {
					OR = {
						gfx_culture_scope = { culture = storm_giant }
						gfx_culture_scope = { culture = reef_giant }
						gfx_culture_scope = { culture = desert_giant }
						gfx_culture_scope = { culture = firbolg }
					}
				}
				add_trait = lifespan_giant_storm
			}
			else_if = {
				limit = {
					OR = {
						gfx_culture_scope = { culture = cloud_giant }
						gfx_culture_scope = { culture = fog_giant }
						gfx_culture_scope = { culture = desert_giant }
					}
				}
				add_trait = lifespan_giant_cloud
			}
			else_if = {
				limit = {
					gfx_culture_scope = { culture = fire_giant }
				}
				add_trait = lifespan_giant_fire
			}
			else_if = {
				limit = {
					OR = {
						gfx_culture_scope = { culture = frost_giant }
						gfx_culture_scope = { culture = sand_giant }
					}
				}
				add_trait = lifespan_giant_frost
			}
			else_if = {
				limit = {
					OR = {
						gfx_culture_scope = { culture = earth_titan }
						gfx_culture_scope = { culture = island_giant }
					}
				}
				add_trait = lifespan_earth_titan
			}
			else = {
				add_trait = lifespan_giant_hill
			}
		}
		else = {
			repeat_event = { id = character_trait.3 months = 120 }
		}
	}
}
