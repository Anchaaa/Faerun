namespace = ADVN

#Difficulty Selection Screen & Starting Adventure Tombola
character_event = {
	id = ADVN.1
	desc = EVTDESC_ADVN_1
	picture = GFX_evt_adventurers

	is_triggered_only = yes

	immediate = {
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
			}
			set_character_flag = party_member_1
			save_event_target_as = party_member_1
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOT = { has_character_flag = party_member_1 }
			}
			set_character_flag = party_member_2
			save_event_target_as = party_member_2
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOR = {
					has_character_flag = party_member_1
					has_character_flag = party_member_2
				}
			}
			set_character_flag = party_member_3
			save_event_target_as = party_member_3
		}
		random_courtier_or_vassal = {
			limit = {
				has_minor_title = title_party_member
				NOR = {
					has_character_flag = party_member_1
					has_character_flag = party_member_2
					has_character_flag = party_member_3
				}
			}
			set_character_flag = party_member_4
			save_event_target_as = party_member_4
		}
	}

	option = { #Easy Difficulty
		name = EVTOPTA_ADVN_1
		hidden_tooltip = {
			random_list = { #first wilderness event
				5 = { #bad weather
					character_event = { id = ADVN.3 days = 10 }
					set_character_flag = adv_bad_weather
				}
				35 = { #negotiate with locals
					character_event = { id = ADVN.4 days = 10 }
				}
				35 = { #research location
					character_event = { id = ADVN.5 days = 10 }
				}
				10 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 10 }
				}
				10 = { #lost in the wilderness
					character_event = { id = ADVN.8 days = 10 }
					set_character_flag = adv_got_lost
				}
				5 = { #mercenary thugs
					character_event = { id = ADVN.40 days = 10 }
					set_character_flag = adv_met_mercs
				}
			}
			random_list = { #second wilderness event
				20 = { #random monster
					character_event = { id = ADVN.2 days = 20 }
				}
				15 = { #bad weather
					modifier = { has_character_flag = adv_bad_weather factor = 0 }
					character_event = { id = ADVN.3 days = 20 }
					set_character_flag = adv_bad_weather
				}
				15 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 20 }
				}
				15 = { #forage
					character_event = { id = ADVN.7 days = 20 }
					set_character_flag = adv_did_forage
				}
				15 = { #lost in the wilderness
					modifier = { has_character_flag = adv_got_lost factor = 0 }
					character_event = { id = ADVN.8 days = 20 }
					set_character_flag = adv_got_lost
				}
				15 = { #Pinpoint Dungeon
					character_event = { id = ADVN.9 days = 20 }
					set_character_flag = adv_did_pinpoint
				}
				5 = { #mercenary thugs
					modifier = { has_character_flag = adv_met_mercs factor = 0 }
					character_event = { id = ADVN.40 days = 20 }
					set_character_flag = adv_met_mercs
				}
			}
			random_list = { #third wilderness event
				20 = { #random monster
					character_event = { id = ADVN.2 days = 30 }
				}
				10 = { #bad weather
					modifier = { has_character_flag = adv_bad_weather factor = 0 }
					character_event = { id = ADVN.3 days = 30 }
					set_character_flag = adv_bad_weather
				}
				15 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 30 }
				}
				20 = { #forage
					modifier = { has_character_flag = adv_did_forage factor = 0 }
					character_event = { id = ADVN.7 days = 30 }
					set_character_flag = adv_did_forage
				}
				10 = { #lost in the wilderness
					modifier = { has_character_flag = adv_got_lost factor = 0 }
					character_event = { id = ADVN.8 days = 30 }
					set_character_flag = adv_got_lost
				}
				20 = { #Pinpoint Dungeon
					modifier = { has_character_flag = adv_did_pinpoint factor = 0 }
					character_event = { id = ADVN.9 days = 30 }
					set_character_flag = adv_did_pinpoint
				}
				5 = { #mercenary thugs
					modifier = { has_character_flag = adv_met_mercs factor = 0 }
					character_event = { id = ADVN.40 days = 30 }
					set_character_flag = adv_met_mercs
				}
			}
			character_event = { #dungeon found
				id = ADVN.10
				days = 40
				random = 2
			}
		}
		scaled_wealth = { value = -1 min = -50 max = -200 }
	}

	option = { #Moderate Difficulty
		name = EVTOPTB_ADVN_1
		trigger = {
			scaled_wealth = {
				value = 2
				min = 100
				max = 400
			}
			prestige >= 500
		}
		hidden_tooltip = {
			random_list = { #first wilderness event
				5 = { #bad weather
					character_event = { id = ADVN.3 days = 10 }
					set_character_flag = adv_bad_weather
				}
				35 = { #negotiate with locals
					character_event = { id = ADVN.4 days = 10 }
				}
				35 = { #research location
					character_event = { id = ADVN.5 days = 10 }
				}
				10 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 10 }
				}
				10 = { #lost in the wilderness
					character_event = { id = ADVN.8 days = 10 }
					set_character_flag = adv_got_lost
				}
				5 = { #mercenary thugs
					character_event = { id = ADVN.40 days = 10 }
					set_character_flag = adv_met_mercs
				}
			}
			random_list = { #second wilderness event
				20 = { #random monster
					character_event = { id = ADVN.2 days = 20 }
				}
				15 = { #bad weather
					modifier = { has_character_flag = adv_bad_weather factor = 0 }
					character_event = { id = ADVN.3 days = 20 }
					set_character_flag = adv_bad_weather
				}
				15 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 20 }
				}
				15 = { #forage
					character_event = { id = ADVN.7 days = 20 }
					set_character_flag = adv_did_forage
				}
				15 = { #lost in the wilderness
					modifier = { has_character_flag = adv_got_lost factor = 0 }
					character_event = { id = ADVN.8 days = 20 }
					set_character_flag = adv_got_lost
				}
				15 = { #Pinpoint Dungeon
					character_event = { id = ADVN.9 days = 20 }
					set_character_flag = adv_did_pinpoint
				}
				5 = { #mercenary thugs
					modifier = { has_character_flag = adv_met_mercs factor = 0 }
					character_event = { id = ADVN.40 days = 20 }
					set_character_flag = adv_met_mercs
				}
			}
			random_list = { #third wilderness event
				20 = { #random monster
					character_event = { id = ADVN.2 days = 30 }
				}
				10 = { #bad weather
					modifier = { has_character_flag = adv_bad_weather factor = 0 }
					character_event = { id = ADVN.3 days = 30 }
					set_character_flag = adv_bad_weather
				}
				15 = { #sneak past a threat
					character_event = { id = ADVN.6 days = 30 }
				}
				20 = { #forage
					modifier = { has_character_flag = adv_did_forage factor = 0 }
					character_event = { id = ADVN.7 days = 30 }
					set_character_flag = adv_did_forage
				}
				10 = { #lost in the wilderness
					modifier = { has_character_flag = adv_got_lost factor = 0 }
					character_event = { id = ADVN.8 days = 30 }
					set_character_flag = adv_got_lost
				}
				20 = { #Pinpoint Dungeon
					modifier = { has_character_flag = adv_did_pinpoint factor = 0 }
					character_event = { id = ADVN.9 days = 30 }
					set_character_flag = adv_did_pinpoint
				}
				5 = { #mercenary thugs
					modifier = { has_character_flag = adv_met_mercs factor = 0 }
					character_event = { id = ADVN.40 days = 30 }
					set_character_flag = adv_met_mercs
				}
			}
			character_event = { #dungeon found
				id = ADVN.10
				days = 40
				random = 2
			}
		}
		set_character_flag = adv_mod_difficulty
		scaled_wealth = { value = -2 min = -100 max = -400 }
	}
}

### Random Monster ###
character_event = {
	id = ADVN.2
	desc = EVTDESC_ADVN_2
	picture = GFX_evt_carnage_1
	show_portrait = event_target:combatant_2

	only_playable = yes

	is_triggered_only = yes


	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		create_random_soldier = {
			random_traits = yes
			culture = monster
			religion = monster_pantheon
			trait = creature_monster
			employer = d_red_spears
		}
		new_character = {
			save_event_target_as = combatant_2
			character_event = { id = ADVN.101 days = 5 }
			remove_trait = weak
			remove_trait = delicate
			remove_trait = soft
			remove_trait = imbecile
			remove_trait = idiot
			remove_trait = slow
			if = {
				limit = {
					ROOT = { has_character_flag = adv_mod_difficulty }
				}
				add_trait = robust
				add_trait = strong
			}
		}
	}

	option = {
		name = EVTOPTA_ADVN_2
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		event_target:party_member_1 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_1 = {
			#increase_adv_fatigue_effect = yes
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTB_ADVN_2
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		event_target:party_member_2 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_2 = {
			#increase_adv_fatigue_effect = yes
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTC_ADVN_2
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		event_target:party_member_3 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_3 = {
			#increase_adv_fatigue_effect = yes
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}
	option = {
		name = EVTOPTD_ADVN_2
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		event_target:party_member_4 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_4 = {
			#increase_adv_fatigue_effect = yes
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Bad Weather ###
character_event = {
	id = ADVN.3
	desc = EVTDESC_ADVN_3
	picture = GFX_evt_norse_tempest

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
		NOT = { has_character_flag = adv_negotiated_locals }
	}

	option = {
		name = EVTOPTA_ADVN_3
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_shelter_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_shelter_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_3
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_shelter_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_shelter_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_3
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_shelter_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_shelter_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_3
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_shelter_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_shelter_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Negotiate With Locals ###
character_event = {
	id = ADVN.4
	desc = EVTDESC_ADVN_4
	picture = GFX_evt_adventurers_2

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_4
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_shadow = yes
							z_paladin = yes
							z_bard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				set_character_flag = adv_negotiated_locals
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_4
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_shadow = yes
							z_paladin = yes
							z_bard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				set_character_flag = adv_negotiated_locals
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_4
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_shadow = yes
							z_paladin = yes
							z_bard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				set_character_flag = adv_negotiated_locals
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_4
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_shadow = yes
							z_paladin = yes
							z_bard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				set_character_flag = adv_negotiated_locals
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Research Location ###
character_event = {
	id = ADVN.5
	desc = EVTDESC_ADVN_5
	picture = GFX_evt_adventurers_4

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_5
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_warlock = yes
							z_bard = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				set_character_flag = adv_researched_loc
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = new_insights
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning < 2 } factor = 1.4 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_5
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_warlock = yes
							z_bard = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				set_character_flag = adv_researched_loc
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = new_insights
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning < 2 } factor = 1.4 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_5
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_warlock = yes
							z_bard = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				set_character_flag = adv_researched_loc
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = new_insights
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning < 2 } factor = 1.4 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_5
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_warlock = yes
							z_bard = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				set_character_flag = adv_researched_loc
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = new_insights
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning < 2 } factor = 1.4 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Sneak Past Enemy ###
character_event = {
	id = ADVN.6
	desc = EVTDESC_ADVN_6
	picture = GFX_evt_sneak_attack

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_6
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_sneaks_past_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_6
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_sneaks_past_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_6
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_sneaks_past_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_6
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
							z_monk = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_sneaks_past_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Forage ###
character_event = {
	id = ADVN.7
	desc = EVTDESC_ADVN_7
	picture = GFX_evt_camp_fire

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
		NOT = { has_character_flag = adv_negotiated_locals }
	}

	option = {
		name = EVTOPTA_ADVN_7
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_forage_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_forage_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_7
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_forage_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_forage_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_7
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_forage_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_forage_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_7
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_ranger = yes
							z_druid = yes
							z_barbarian = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_success_forage_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_forage_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Lost in the Wilderness ###
character_event = {
	id = ADVN.8
	desc = EVTDESC_ADVN_8
	picture = GFX_evt_high_forest

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
		NOT = { has_character_flag = adv_researched_loc }
	}

	option = {
		name = EVTOPTA_ADVN_8
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_ranger = yes
							z_druid = yes
						}
					}
					factor = 5
				}
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_8
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_ranger = yes
							z_druid = yes
						}
					}
					factor = 5
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_8
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_ranger = yes
							z_druid = yes
						}
					}
					factor = 5
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_8
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_ranger = yes
							z_druid = yes
						}
					}
					factor = 5
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_ranger
							trait = master_ranger
							trait = renowned_ranger
							trait = legendary_ranger
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Pinpoint Dungeon ###
character_event = {
	id = ADVN.9
	desc = EVTDESC_ADVN_9
	picture = GFX_evt_ruins_1

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
		NOT = { has_character_flag = adv_researched_loc }
	}

	option = {
		name = EVTOPTA_ADVN_9
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_9
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_9
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_9
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						is_smart_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_researched_loc_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						is_dumb_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

#Healing Opportunity & Dungeon Adventure Tombola
character_event = {
	id = ADVN.10
	desc = EVTDESC_ADVN_10
	picture = GFX_evt_dungeons_1

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		random_list = { #first dungeon event
			10 = { #trap
				character_event = { id = ADVN.12 days = 10 }
				set_character_flag = adv_its_a_trap
			}
			10 = { #strange magic
				character_event = { id = ADVN.13 days = 10 }
				set_character_flag = adv_strange_magic
			}
			10 = { #sneak past a threat
				character_event = { id = ADVN.6 days = 10 }
			}
			10 = { #blocked passage
				character_event = { id = ADVN.41 days = 10 }
				set_character_flag = adv_cave_in
			}
			10 = { #non-hostile monsters
				character_event = { id = ADVN.42 days = 10 }
				set_character_flag = adv_passive_monster
			}
		}
		random_list = { #second dungeon event
			40 = { #random monster
				character_event = { id = ADVN.2 days = 20 }
			}
			12 = { #trap
				modifier = { has_character_flag = adv_its_a_trap factor = 0 }
				character_event = { id = ADVN.12 days = 20 }
				set_character_flag = adv_its_a_trap
			}
			12 = { #strange magic
				modifier = { has_character_flag = adv_strange_magic factor = 0 }
				character_event = { id = ADVN.13 days = 20 }
				set_character_flag = adv_strange_magic
			}
			12 = { #sneak past a threat
				character_event = { id = ADVN.6 days = 20 }
			}
			12 = { #blocked passage
				modifier = { has_character_flag = adv_cave_in factor = 0 }
				character_event = { id = ADVN.41 days = 20 }
				set_character_flag = adv_cave_in
			}
			12 = { #non-hostile monsters
				modifier = { has_character_flag = adv_passive_monster factor = 0 }
				character_event = { id = ADVN.42 days = 20 }
				set_character_flag = adv_passive_monster
			}
		}
		character_event = { id = ADVN.2 days = 30 } #third dungeon event, always a monster

		character_event = { #final boss
			id = ADVN.20
			days = 40
			random = 2
		}
	}

	option = {
		name = EVTOPTA_ADVN_10
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_1 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_2 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}
				event_target:party_member_3 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}
				event_target:party_member_4 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_10
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_2 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_1 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}
				event_target:party_member_3 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}
				event_target:party_member_4 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}

			}
			40 = {
				modifier = { event_target:party_member_2 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_10
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_3 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_1 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}
				event_target:party_member_2 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}
				event_target:party_member_4 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}

			}
			40 = {
				modifier = { event_target:party_member_3 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_10
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { learning = 50 } factor = 3 }
				modifier = { event_target:party_member_4 = { trait = physician } factor = 5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_cleric = yes
							z_druid = yes
							z_bard = yes
							AND = {
								z_warlock = yes
								trait = warlock_celestial
							}
						}
					}
					factor = 10
				}

				event_target:party_member_1 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}
				event_target:party_member_2 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}
				event_target:party_member_3 = {
					if = {
						limit = {
							OR = {
								has_character_modifier = adv_fatigue_1
								has_character_modifier = adv_fatigue_2
								has_character_modifier = adv_fatigue_3
								has_character_modifier = adv_fatigue_4
								has_character_modifier = adv_fatigue_5
								has_character_modifier = adv_fatigue_6
							}
						}
						custom_tooltip = { text = less_adventuring_fatigue_tt }
						hidden_effect = {
							trigger_switch = {
								on_trigger = has_character_modifier
								adv_fatigue_1 = {
									remove_character_modifier = adv_fatigue_1
								}
								adv_fatigue_2 = {
									remove_character_modifier = adv_fatigue_2
									add_character_modifier = {
										name = adv_fatigue_1
										duration = 60
									}
								}
								adv_fatigue_3 = {
									remove_character_modifier = adv_fatigue_3
									add_character_modifier = {
										name = adv_fatigue_2
										duration = 60
									}
								}
								adv_fatigue_4 = {
									remove_character_modifier = adv_fatigue_4
									add_character_modifier = {
										name = adv_fatigue_3
										duration = 60
									}
								}
								adv_fatigue_5 = {
									remove_character_modifier = adv_fatigue_5
									add_character_modifier = {
										name = adv_fatigue_4
										duration = 60
									}
								}
							}
						}
					}
				}

			}
			40 = {
				modifier = { event_target:party_member_4 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_druid
							trait = expert_cleric
							AND = {
								trait = warlock_celestial
								trait = expert_warlock
							}
							trait = expert_bard
							trait = master_druid
							trait = master_cleric
							AND = {
								trait = warlock_celestial
								trait = master_warlock
							}
							trait = master_bard
							trait = renowned_druid
							trait = renowned_cleric
							AND = {
								trait = warlock_celestial
								trait = renowned_warlock
							}
							trait = renowned_bard
							trait = renowned_ranger
							trait = renowned_paladin
							trait = legendary_druid
							trait = legendary_cleric
							AND = {
								trait = warlock_celestial
								trait = legendary_warlock
							}
							trait = legendary_bard
							trait = legendary_ranger
							trait = legendary_paladin
						}
					}
					factor = 0.5
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Trap ###
character_event = {
	id = ADVN.12
	desc = EVTDESC_ADVN_12
	picture = GFX_evt_traps_1

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_12
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_disarm_trap_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_disarm_trap_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_12
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_disarm_trap_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_disarm_trap_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_12
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_disarm_trap_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_disarm_trap_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_12
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { intrigue = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { intrigue = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { intrigue = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { intrigue = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_rogue = yes
							z_shadow = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_disarm_trap_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { intrigue < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { intrigue < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { intrigue < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_rogue
							trait = master_rogue
							trait = renowned_rogue
							trait = legendary_rogue
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_fail_disarm_trap_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Strange Magic ###
character_event = {
	id = ADVN.13
	desc = EVTDESC_ADVN_13
	picture = GFX_evt_magic_cave

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_13
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_warlock = yes
							z_sorcerer = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_avoided_magic_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							trait = expert_sorcerer
							trait = master_sorcerer
							trait = renowned_sorcerer
							trait = legendary_sorcerer
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_hurt_magic_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_13
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_warlock = yes
							z_sorcerer = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_avoided_magic_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							trait = expert_sorcerer
							trait = master_sorcerer
							trait = renowned_sorcerer
							trait = legendary_sorcerer
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_hurt_magic_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_13
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_warlock = yes
							z_sorcerer = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_avoided_magic_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							trait = expert_sorcerer
							trait = master_sorcerer
							trait = renowned_sorcerer
							trait = legendary_sorcerer
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_hurt_magic_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_13
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { learning = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { learning = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { learning = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_warlock = yes
							z_sorcerer = yes
							z_wizard = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_avoided_magic_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { learning < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { learning < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { learning < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							trait = expert_sorcerer
							trait = master_sorcerer
							trait = renowned_sorcerer
							trait = legendary_sorcerer
						}
					}
					factor = 0.5
				}
				custom_tooltip = { text = adv_hurt_magic_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_trait = severely_injured
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

#Final Boss
character_event = {
	id = ADVN.20
	desc = EVTDESC_ADVN_20
	show_portrait = event_target:final_boss

	picture = {
		trigger = { event_target:final_boss = { culture = orc } }
		picture = GFX_evt_orcs
	}
	picture = {
		trigger = { event_target:final_boss = { culture = goblin } }
		picture = GFX_evt_goblin_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = hobgoblin } }
		picture = GFX_evt_hobgoblin_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = bugbear } }
		picture = GFX_evt_bugbear_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = gnoll } }
		picture = GFX_evt_gnoll_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = ogre } }
		picture = GFX_evt_ogre_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = kobold } }
		picture = GFX_evt_kobold_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = drow } }
		picture = GFX_evt_drow_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = sahuagin } }
		picture = GFX_evt_sahuagin_1
	}
	picture = {
		trigger = { event_target:final_boss = { trait = undead } }
		picture = GFX_evt_undead_3
	}
	picture = {
		trigger = { event_target:final_boss = { culture = ogre_magi } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = troll } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = minotaur } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { trait = creature_giant } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = illithid } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = beholder } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = aboleth } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { trait = creature_dragon } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { trait = vampire } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { trait = natural_lycanthrope } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = naga } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = baatezu } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = tanarri } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		random_list = {
			24 = { #orc
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					female = no
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_orc
					culture = orc
					religion = orc_pantheon
					trait = journeyman_barbarian
				}
			}
			8 = { #goblin
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_goblin
					culture = goblin
					religion = goblin_pantheon
					trait = journeyman_rogue
				}
			}
			8 = { #hobgoblin
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_hobgoblin
					culture = hobgoblin
					religion = goblin_pantheon
					trait = journeyman_fighter
				}
			}
			8 = { #bugbear
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_bugbear
					culture = bugbear
					religion = goblin_pantheon
					trait = journeyman_ranger
				}
			}
			8 = { #gnoll
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_gnoll
					culture = gnoll
					religion = abyssal_cult
					trait = journeyman_barbarian
				}
			}
			8 = { #ogre
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_ogre
					culture = ogre
					religion = vaprak
					trait = journeyman_barbarian
				}
			}
			8 = { #kobold
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_kobold
					culture = kobold
					religion = tiamat
					trait = journeyman_sorcerer
				}
			}
			8 = { #drow
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					female = yes
					attributes = {
						diplomacy = 8
						martial = 8
						stewardship = 6
						intrigue = 8
						learning = 8
					}
					trait = creature_drow
					culture = drow
					religion = lolth_cult
					trait = journeyman_cleric
				}
			}
			8 = { #sahuagin
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				modifier = {
					ROOT = {
						capital_scope = {
							port = no
						}
					}
					factor = 0
				}
				modifier = {
					ROOT = {
						capital_scope = {
							is_island = yes
						}
					}
					factor = 5
				}
				create_random_soldier = {
					random_traits = yes
					female = no
					attributes = {
						diplomacy = 8
						martial = 8
						stewardship = 6
						intrigue = 8
						learning = 8
					}
					trait = creature_sahuagin
					culture = sahuagin
					religion = infernal
					trait = journeyman_fighter
					add_trait = sahuagin_warrior
				}
			}
			12 = { #undead
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 8
					}
					trait = undead
					culture = ROOT
				}
			}

			7 = { #oni
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_ogre
					culture = ogre_magi
					religion = vaprak
					trait = expert_fighter
					trait = journeyman_sorcerer
				}
			}
			7 = { #troll
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_troll
					culture = troll
					religion = vaprak
					trait = master_barbarian
				}
			}
			7 = { #minotaur
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_minotaur
					culture = minotaur
					religion = abyssal_cult
					trait = master_barbarian
					trait = patron_baphomet
				}
			}
			7 = { #giant
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_giant
					culture = hill_giant
					religion = giant_pantheon
				}
			}
			7 = { #illithid
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_illithid
					culture = illithid
					religion = illithid_pantheon
					trait = master_sorcerer
					trait = genius
				}
			}
			7 = { #beholder
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_beholder
					culture = beholder
					religion = beholder_pantheon
					trait = master_sorcerer
				}
			}
			7 = { #aboleth
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_aboleth
					culture = aboleth
					religion = faithless
					trait = master_wizard
					trait = wiz_abjuration
					trait = genius
				}
			}
			7 = { #young dragon
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_dragon
					culture = draconic
					religion = tiamat
					trait = dragon_young
					trait = journeyman_sorcerer
				}
			}
			10 = { #vampire
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 8
					}
					trait = vampire
					trait = robust
					trait = shrewd
					culture = ROOT
				}
			}
			10 = { #lycan
				modifier = { has_character_flag = adv_mod_difficulty factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 6
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 8
					}
					trait = creature_human
					trait = natural_lycanthrope
					culture = ROOT
					religion = deities_of_fury
					trait = patron_malar
				}
			}
			10 = { #naga
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_naga
					culture = naga
					religion = scale_cult
					trait = master_wizard
					trait = wiz_abjuration
				}
			}
			7 = { #baatezu
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_fiend
					culture = baatezu
					religion = infernal
					trait = master_warlock
					trait = warlock_fiend
				}
			}
			7 = { #tanarri
				modifier = { NOT = { has_character_flag = adv_mod_difficulty } factor = 0 }
				create_random_soldier = {
					random_traits = yes
					attributes = {
						diplomacy = 8
						martial = 10
						stewardship = 6
						intrigue = 8
						learning = 6
					}
					trait = creature_fiend
					culture = tanarri
					religion = abyssal_cult
					trait = master_warlock
					trait = warlock_fiend
				}
			}
		}
		new_character = {
			save_event_target_as = final_boss
			save_event_target_as = combatant_2
			remove_trait = weak
			remove_trait = delicate
			remove_trait = soft
			remove_trait = imbecile
			remove_trait = idiot
			remove_trait = slow
			remove_trait = craven
			remove_trait = kind
			remove_trait = charitable
			character_event = { id = frxp.1 }
			character_event = { id = ADVN.102 }
			trigger_switch = {
				on_trigger = trait
				undead = {
					random_list = {
						1 = {
							religion = dead_three
						}
						1 = {
							religion = shadow_gods
						}
						1 = {
							religion = church_of_cyric
						}
						1 = {
							religion = abyssal_cult
						}
						1 = {
							religion = infernal
						}
					}
					random_list = {
						1 = {
							add_trait = journeyman_cleric
						}
						1 = {
							add_trait = journeyman_paladin
						}
						1 = {
							add_trait = journeyman_fighter
						}
						1 = {
							add_trait = journeyman_monk
						}
						1 = {
							add_trait = journeyman_rogue
						}
						1 = {
							add_trait = journeyman_wizard
							add_trait = wiz_necromancy
						}
					}
				}
				creature_illithid = {
					random_list = {
						2 = {
						}
						1 = {
							add_trait = creature_ulitharid
						}
					}
				}
				creature_dragon = {
					random_list = {
						1 = {
							culture = red_dragon
							set_graphical_culture = red_dragon
						}
						1 = {
							culture = blue_dragon
							set_graphical_culture = blue_dragon
						}
						1 = {
							culture = black_dragon
							set_graphical_culture = black_dragon
						}
						1 = {
							culture = green_dragon
							set_graphical_culture = green_dragon
						}
						1 = {
							culture = white_dragon
							set_graphical_culture = white_dragon
						}
					}
				}
				creature_giant = {
					random_list = {
						1 = {
						}
						1 = {
							culture = stone_giant
							set_graphical_culture = stone_giant
						}
						1 = {
							culture = frost_giant
							set_graphical_culture = frost_giant
						}
						1 = {
							culture = fire_giant
							set_graphical_culture = fire_giant
						}
						1 = {
							culture = fog_giant
							set_graphical_culture = fog_giant
						}
					}
					random_list = {
						1 = {
							add_trait = master_cleric
						}
						1 = {
							add_trait = master_barbarian
						}
					}
				}
				vampire = {
					random_list = {
						1 = {
							religion = dead_three
						}
						1 = {
							religion = shadow_gods
						}
						1 = {
							religion = church_of_cyric
						}
						1 = {
							religion = abyssal_cult
						}
						1 = {
							religion = infernal
						}
					}
					random_list = {
						1 = {
							add_trait = master_cleric
						}
						1 = {
							add_trait = master_paladin
						}
						1 = {
							add_trait = master_fighter
						}
						1 = {
							add_trait = master_monk
						}
						1 = {
							add_trait = master_rogue
						}
						1 = {
							add_trait = master_wizard
							add_trait = wiz_necromancy
						}
					}
				}
				creature_beholder = {
					random_list = {
						2 = {
						}
						1 = {
							add_trait = elder_orb
							add_trait = giant
							add_trait = strong
						}
					}
				}
				natural_lycanthrope = {
					random_list = {
						4 = {
							add_trait = werewolf
						}
						3 = {
							add_trait = wererat
						}
						2 = {
							add_trait = weretiger
						}
						1 = {
							add_trait = werecrocodile
						}
					}
					random_list = {
						1 = {
							add_trait = master_fighter
						}
						1 = {
							add_trait = master_barbarian
						}
						1 = {
							add_trait = master_ranger
						}
					}
				}
				creature_fiend = {
					set_character_flag = got_warlock_pact_weapon
					add_artifact = warlock_pact_weapon
				}
			}
		}
	}

	option = {
		name = EVTOPTA_ADVN_20
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		event_target:party_member_1 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_1 = {
			#increase_adv_fatigue_effect = yes
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.21 days = 2 }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
	option = {
		name = EVTOPTB_ADVN_20
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		event_target:party_member_2 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_2 = {
			#increase_adv_fatigue_effect = yes
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.21 days = 2  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
	option = {
		name = EVTOPTC_ADVN_20
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		event_target:party_member_3 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_3 = {
			#increase_adv_fatigue_effect = yes
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.21 days = 2  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
	option = {
		name = EVTOPTD_ADVN_20
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		event_target:party_member_4 = {
			save_event_target_as = combatant_1
			character_event = { id = ADVN.100 }
		}
		event_target:party_member_4 = {
			#increase_adv_fatigue_effect = yes
			custom_tooltip = { text = adventuring_fatigue_tt }
			character_event = { id = ADVN.104 days = 2 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.21 days = 2  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
}

#Final Boss keeps fighting
character_event = {
	id = ADVN.21
	desc = EVTDESC_ADVN_21
	show_portrait = event_target:final_boss

	picture = {
		trigger = { event_target:final_boss = { culture = orc } }
		picture = GFX_evt_orcs
	}
	picture = {
		trigger = { event_target:final_boss = { culture = goblin } }
		picture = GFX_evt_goblin_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = hobgoblin } }
		picture = GFX_evt_hobgoblin_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = bugbear } }
		picture = GFX_evt_bugbear_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = gnoll } }
		picture = GFX_evt_gnoll_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = ogre } }
		picture = GFX_evt_ogre_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = kobold } }
		picture = GFX_evt_kobold_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = drow } }
		picture = GFX_evt_drow_1
	}
	picture = {
		trigger = { event_target:final_boss = { culture = sahuagin } }
		picture = GFX_evt_sahuagin_1
	}
	picture = {
		trigger = { event_target:final_boss = { trait = undead } }
		picture = GFX_evt_undead_3
	}
	picture = {
		trigger = { event_target:final_boss = { culture = ogre_magi } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = troll } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = minotaur } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { trait = creature_giant } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = illithid } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = beholder } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = aboleth } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { trait = creature_dragon } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { trait = vampire } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { trait = natural_lycanthrope } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = naga } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = baatezu } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}
	picture = {
		trigger = { event_target:final_boss = { culture = tanarri } }
		picture = GFX_evt_carnage_1 #PLACEHOLDER
	}

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_21
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		event_target:party_member_1 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.21 days = 2  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
	option = {
		name = EVTOPTB_ADVN_21
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		event_target:party_member_2 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.21 days = 2  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
	option = {
		name = EVTOPTC_ADVN_21
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		event_target:party_member_3 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.21 days = 2  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
	option = {
		name = EVTOPTD_ADVN_21
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		event_target:party_member_4 = {
			save_event_target_as = combatant_1
			event_target:final_boss = {
				save_event_target_as = combatant_2
			}
			character_event = { id = ADVN.100 }
		}
		if = {
			limit = {
				event_target:final_boss = { is_alive = yes }
			}
			character_event = { id = ADVN.21 days = 2  }
		}
		else = { #ending
			character_event = { id = ADVN.30 days = 1  }
		}
	}
	option = {
		name = EVTOPTE_ADVN_21
		trigger = {
			OR = {
				event_target:party_member_1 = { is_alive = no }
				event_target:party_member_2 = { is_alive = no }
				event_target:party_member_3 = { is_alive = no }
				event_target:party_member_4 = { is_alive = no }
			}
		}
		character_event = { id = ADVN.31 }
	}
}

#Good Ending
character_event = {
	id = ADVN.30
	desc = EVTDESC_ADVN_30
	picture = GFX_evt_adventurers

	is_triggered_only = yes

	immediate = {
		event_target:party_member_1 = {
			if = {
				limit = {
					ROOT = { has_character_flag = adv_mod_difficulty }
				}
				wealth = 200
				prestige = 200
				random_major_magic_item_effect = yes
				mod_adv_xp_effect = yes
			}
			else = {
				wealth = 100
				prestige = 100
				random_magic_item_effect = yes
				easy_adv_xp_effect = yes
			}
			if = {
				limit = { NOT = { trait = adventurer } }
				add_trait = adventurer
			}
			random_list = { #friendship
				10 = {
					add_friend = event_target:party_member_2
				}
				10 = {
					add_friend = event_target:party_member_3
				}
				10 = {
					add_friend = event_target:party_member_4
				}
				70 = {
					#nothing
				}
			}
			clr_character_flag = party_member_1
		}
		event_target:party_member_2 = {
			if = {
				limit = {
					ROOT = { has_character_flag = adv_mod_difficulty }
				}
				wealth = 200
				prestige = 200
				random_major_magic_item_effect = yes
				mod_adv_xp_effect = yes
			}
			else = {
				wealth = 100
				prestige = 100
				random_magic_item_effect = yes
				easy_adv_xp_effect = yes
			}
			if = {
				limit = { NOT = { trait = adventurer } }
				add_trait = adventurer
			}
			random_list = { #friendship
				10 = {
					add_friend = event_target:party_member_1
				}
				10 = {
					add_friend = event_target:party_member_3
				}
				10 = {
					add_friend = event_target:party_member_4
				}
				70 = {
					#nothing
				}
			}
			clr_character_flag = party_member_2
		}
		event_target:party_member_3 = {
			if = {
				limit = {
					ROOT = { has_character_flag = adv_mod_difficulty }
				}
				wealth = 200
				prestige = 200
				random_major_magic_item_effect = yes
				mod_adv_xp_effect = yes
			}
			else = {
				wealth = 100
				prestige = 100
				random_magic_item_effect = yes
				easy_adv_xp_effect = yes
			}
			if = {
				limit = { NOT = { trait = adventurer } }
				add_trait = adventurer
			}
			random_list = { #friendship
				10 = {
					add_friend = event_target:party_member_1
				}
				10 = {
					add_friend = event_target:party_member_2
				}
				10 = {
					add_friend = event_target:party_member_4
				}
				70 = {
					#nothing
				}
			}
			clr_character_flag = party_member_3
		}
		event_target:party_member_4 = {
			if = {
				limit = {
					ROOT = { has_character_flag = adv_mod_difficulty }
				}
				wealth = 200
				prestige = 200
				random_major_magic_item_effect = yes
				mod_adv_xp_effect = yes
			}
			else = {
				wealth = 100
				prestige = 100
				random_magic_item_effect = yes
				easy_adv_xp_effect = yes
			}
			if = {
				limit = { NOT = { trait = adventurer } }
				add_trait = adventurer
			}
			random_list = { #friendship
				10 = {
					add_friend = event_target:party_member_1
				}
				10 = {
					add_friend = event_target:party_member_2
				}
				10 = {
					add_friend = event_target:party_member_3
				}
				70 = {
					#nothing
				}
			}
			clr_character_flag = party_member_4
		}
	}

	option = {
		name = EVTOPTA_ADVN_30
		if = {
			limit = {
				has_character_flag = adv_mod_difficulty
			}
			prestige = 200
			random_list = {
				33 = {
					random_major_magic_item_effect = yes
				}
				66 = {
					random_art_object_effect = yes
				}
			}
		}
		else = {
			prestige = 100
			random_list = {
				33 = {
					random_magic_item_effect = yes
				}
				66 = {
					random_minor_art_object_effect = yes
				}
			}
		}

		hidden_tooltip = {
			remove_character_modifier = sent_adventurers
			clr_character_flag = adv_mod_difficulty
			clr_character_flag = adv_researched_loc
			clr_character_flag = adv_negotiated_locals
			clr_character_flag = adv_bad_weather
			clr_character_flag = adv_did_forage
			clr_character_flag = adv_got_lost
			clr_character_flag = adv_did_pinpoint
			clr_character_flag = adv_its_a_trap
			clr_character_flag = adv_strange_magic
			clr_character_flag = adv_met_mercs
			clr_character_flag = adv_cave_in
			clr_character_flag = adv_passive_monster
		}
	}
}

#Bad Ending
character_event = {
	id = ADVN.31
	desc = EVTDESC_ADVN_31
	picture = GFX_evt_died_battle

	is_triggered_only = yes

	immediate = {
		event_target:party_member_1 = {
			clr_character_flag = party_member_1
		}
		event_target:party_member_2 = {
			clr_character_flag = party_member_2
		}
		event_target:party_member_3 = {
			clr_character_flag = party_member_3
		}
		event_target:party_member_4 = {
			clr_character_flag = party_member_4
		}
	}

	option = {
		name = EVTOPTA_ADVN_31
		prestige = -100
		add_rival = event_target:final_boss
		hidden_tooltip = {
			remove_character_modifier = sent_adventurers
			clr_character_flag = adv_researched_loc
			clr_character_flag = adv_negotiated_locals
			clr_character_flag = adv_bad_weather
			clr_character_flag = adv_did_forage
			clr_character_flag = adv_got_lost
			clr_character_flag = adv_did_pinpoint
			clr_character_flag = adv_its_a_trap
			clr_character_flag = adv_strange_magic
			clr_character_flag = adv_met_mercs
			clr_character_flag = adv_cave_in
			clr_character_flag = adv_passive_monster
			event_target:final_boss = {
				if = {
					limit = {
						ROOT = { has_character_flag = adv_mod_difficulty }
					}
					wealth = 600
					random_major_magic_item_effect = yes
					random_art_object_effect = yes
					#XP gain block
						if = {
							limit = {
								z_barbarian = yes
								NOT = { trait = legendary_barbarian }
							}
							hidden_tooltip = {
								change_variable = { which = barbarian_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_bard = yes
								NOT = { trait = legendary_bard }
							}
							hidden_tooltip = {
								change_variable = { which = bard_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_cleric = yes
								NOT = { trait = legendary_cleric }
							}
							hidden_tooltip = {
								change_variable = { which = cleric_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_druid = yes
								NOT = { trait = legendary_druid }
							}
							hidden_tooltip = {
								change_variable = { which = druid_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_fighter = yes
								NOT = { trait = legendary_fighter }
							}
							hidden_tooltip = {
								change_variable = { which = fighter_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_monk = yes
								NOT = { trait = legendary_monk }
							}
							hidden_tooltip = {
								change_variable = { which = monk_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_paladin = yes
								NOT = { trait = legendary_paladin }
							}
							hidden_tooltip = {
								change_variable = { which = paladin_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_ranger = yes
								NOT = { trait = legendary_ranger }
							}
							hidden_tooltip = {
								change_variable = { which = ranger_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_rogue = yes
								NOT = { trait = legendary_rogue }
							}
							hidden_tooltip = {
								change_variable = { which = rogue_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_shadow = yes
								NOT = { trait = legendary_shadow }
							}
							hidden_tooltip = {
								change_variable = { which = shadow_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_sorcerer = yes
								NOT = { trait = legendary_sorcerer }
							}
							hidden_tooltip = {
								change_variable = { which = sorcerer_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_warlock = yes
								NOT = { trait = legendary_warlock }
							}
							hidden_tooltip = {
								change_variable = { which = warlock_xp value = 600 }
							}
						}
						if = {
							limit = {
								z_wizard = yes
								NOT = { trait = legendary_wizard }
							}
							hidden_tooltip = {
								change_variable = { which = wizard_xp value = 600 }
							}
						}
				}
				else = {
					wealth = 300
					random_magic_item_effect = yes
					random_minor_art_object_effect = yes
					#XP gain block
						if = {
							limit = {
								z_barbarian = yes
								NOT = { trait = legendary_barbarian }
							}
							hidden_tooltip = {
								change_variable = { which = barbarian_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_bard = yes
								NOT = { trait = legendary_bard }
							}
							hidden_tooltip = {
								change_variable = { which = bard_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_cleric = yes
								NOT = { trait = legendary_cleric }
							}
							hidden_tooltip = {
								change_variable = { which = cleric_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_druid = yes
								NOT = { trait = legendary_druid }
							}
							hidden_tooltip = {
								change_variable = { which = druid_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_fighter = yes
								NOT = { trait = legendary_fighter }
							}
							hidden_tooltip = {
								change_variable = { which = fighter_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_monk = yes
								NOT = { trait = legendary_monk }
							}
							hidden_tooltip = {
								change_variable = { which = monk_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_paladin = yes
								NOT = { trait = legendary_paladin }
							}
							hidden_tooltip = {
								change_variable = { which = paladin_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_ranger = yes
								NOT = { trait = legendary_ranger }
							}
							hidden_tooltip = {
								change_variable = { which = ranger_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_rogue = yes
								NOT = { trait = legendary_rogue }
							}
							hidden_tooltip = {
								change_variable = { which = rogue_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_shadow = yes
								NOT = { trait = legendary_shadow }
							}
							hidden_tooltip = {
								change_variable = { which = shadow_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_sorcerer = yes
								NOT = { trait = legendary_sorcerer }
							}
							hidden_tooltip = {
								change_variable = { which = sorcerer_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_warlock = yes
								NOT = { trait = legendary_warlock }
							}
							hidden_tooltip = {
								change_variable = { which = warlock_xp value = 300 }
							}
						}
						if = {
							limit = {
								z_wizard = yes
								NOT = { trait = legendary_wizard }
							}
							hidden_tooltip = {
								change_variable = { which = wizard_xp value = 300 }
							}
						}
				}
				if = {
					limit = { NOT = { trait = adventurer } }
					add_trait = adventurer
				}
			}
			clr_character_flag = adv_mod_difficulty
		}
	}
}

#Bad Ending Pre-Final Boss
character_event = {
	id = ADVN.32
	desc = EVTDESC_ADVN_32
	picture = GFX_evt_died_battle

	is_triggered_only = yes

	immediate = {
		event_target:party_member_1 = {
			clr_character_flag = party_member_1
		}
		event_target:party_member_2 = {
			clr_character_flag = party_member_2
		}
		event_target:party_member_3 = {
			clr_character_flag = party_member_3
		}
		event_target:party_member_4 = {
			clr_character_flag = party_member_4
		}
	}

	option = {
		name = EVTOPTA_ADVN_32
		prestige = -100
		hidden_tooltip = {
			remove_character_modifier = sent_adventurers
			clr_character_flag = adv_mod_difficulty
			clr_character_flag = adv_researched_loc
			clr_character_flag = adv_negotiated_locals
			clr_character_flag = adv_bad_weather
			clr_character_flag = adv_did_forage
			clr_character_flag = adv_got_lost
			clr_character_flag = adv_did_pinpoint
			clr_character_flag = adv_its_a_trap
			clr_character_flag = adv_strange_magic
			clr_character_flag = adv_met_mercs
			clr_character_flag = adv_cave_in
			clr_character_flag = adv_passive_monster
		}
	}
}

#MORE RANDOM EVENTS

### Mercenary Thugs ###
character_event = {
	id = ADVN.40
	desc = EVTDESC_ADVN_40
	picture = GFX_evt_bandits
	show_portrait = event_target:merc_boss

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	immediate = {
		create_random_soldier = {
			random_traits = yes
			attributes = {
				martial = 10
			}
			trait = creature_human
			culture = ROOT
			religion = ROOT
			trait = trained_fighter
		}
		new_character = {
			save_event_target_as = merc_boss
			save_event_target_as = combatant_2
			remove_trait = weak
			remove_trait = delicate
			remove_trait = soft
			remove_trait = imbecile
			remove_trait = idiot
			remove_trait = slow
			remove_trait = craven
			remove_trait = kind
			if = {
				limit = {
					ROOT = { has_character_flag = adv_mod_difficulty }
				}
				remove_trait = trained_fighter
				add_trait = expert_fighter
			}
			character_event = { id = frxp.1 }
			banish = yes
		}
	}

	option = {
		name = EVTOPTA_ADVN_40
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						z_fighter = yes
					}
					factor = 3
				}
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_a_battle_tt }
				event_target:party_member_1 = {
					save_event_target_as = combatant_1
					character_event = { id = ADVN.100 }
				}
				event_target:party_member_1 = {
					custom_tooltip = { text = adventuring_fatigue_tt }
					character_event = { id = ADVN.104 days = 2 }
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_40
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						z_fighter = yes
					}
					factor = 3
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_a_battle_tt }
				event_target:party_member_2 = {
					save_event_target_as = combatant_1
					character_event = { id = ADVN.100 }
				}
				event_target:party_member_2 = {
					custom_tooltip = { text = adventuring_fatigue_tt }
					character_event = { id = ADVN.104 days = 2 }
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_40
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						z_fighter = yes
					}
					factor = 3
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_a_battle_tt }
				event_target:party_member_3 = {
					save_event_target_as = combatant_1
					character_event = { id = ADVN.100 }
				}
				event_target:party_member_3 = {
					custom_tooltip = { text = adventuring_fatigue_tt }
					character_event = { id = ADVN.104 days = 2 }
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_40
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						z_fighter = yes
					}
					factor = 3
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
					add_character_modifier = {
						name = popular_modifier
						years = 5
					}
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy < 2 } factor = 1.4 }
				custom_tooltip = { text = adv_a_battle_tt }
				event_target:party_member_4 = {
					save_event_target_as = combatant_1
					character_event = { id = ADVN.100 }
				}
				event_target:party_member_4 = {
					custom_tooltip = { text = adventuring_fatigue_tt }
					character_event = { id = ADVN.104 days = 2 }
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Passage Blocked ###
character_event = {
	id = ADVN.41
	desc = EVTDESC_ADVN_41
	picture = GFX_evt_rock_slide

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_41
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						is_strong_trigger = yes
					}
					factor = 4
				}
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_barbarian = yes
							z_fighter = yes
							z_paladin = yes
						}
					}
					factor = 2
				}
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_1 = {
						is_weak_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_41
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						is_strong_trigger = yes
					}
					factor = 4
				}
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_barbarian = yes
							z_fighter = yes
							z_paladin = yes
						}
					}
					factor = 2
				}
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_2 = {
						is_weak_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_41
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						is_strong_trigger = yes
					}
					factor = 4
				}
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_barbarian = yes
							z_fighter = yes
							z_paladin = yes
						}
					}
					factor = 2
				}
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_3 = {
						is_weak_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_41
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { martial = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { martial = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { martial = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						is_strong_trigger = yes
					}
					factor = 4
				}
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_barbarian = yes
							z_fighter = yes
							z_paladin = yes
						}
					}
					factor = 2
				}
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { martial < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { martial < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { martial < 2 } factor = 1.4 }
				modifier = {
					event_target:party_member_4 = {
						is_weak_trigger = yes
					}
					factor = 5
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

### Non-Hostile Monsters ###
character_event = {
	id = ADVN.42
	desc = EVTDESC_ADVN_42
	picture = GFX_evt_myconid

	only_playable = yes

	is_triggered_only = yes

	trigger = {
		has_character_modifier = sent_adventurers
	}

	option = {
		name = EVTOPTA_ADVN_42
		trigger = { event_target:party_member_1 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_1 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_1 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_1 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_1 = {
						OR = {
							z_bard = yes
							z_paladin = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_1 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_1 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_1 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_1 = {
					increase_adv_fatigue_effect = yes
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
			}
		}
	}
	option = {
		name = EVTOPTB_ADVN_42
		trigger = { event_target:party_member_2 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_2 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_2 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_2 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_2 = {
						OR = {
							z_bard = yes
							z_paladin = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_2 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_2 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_2 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_2 = {
					increase_adv_fatigue_effect = yes
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
			}
		}
	}
	option = {
		name = EVTOPTC_ADVN_42
		trigger = { event_target:party_member_3 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_3 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_3 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_3 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_3 = {
						OR = {
							z_bard = yes
							z_paladin = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_3 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_3 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_3 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_3 = {
					increase_adv_fatigue_effect = yes
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
			}
		}
	}
	option = {
		name = EVTOPTD_ADVN_42
		trigger = { event_target:party_member_4 = { is_alive = yes } }
		random_list = {
			60 = {
				modifier = { event_target:party_member_4 = { diplomacy = 12 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 14 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 16 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 18 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy = 20 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 22 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 26 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy = 30 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 35 } factor = 1.4 }
				modifier = { event_target:party_member_4 = { diplomacy = 40 } factor = 1.5 }
				modifier = { event_target:party_member_4 = { diplomacy = 50 } factor = 3 }
				modifier = { has_character_flag = adv_mod_difficulty factor = 0.5 }
				modifier = {
					event_target:party_member_4 = {
						OR = {
							z_bard = yes
							z_paladin = yes
						}
					}
					factor = 5
				}
				custom_tooltip = { text = adv_negotiated_locals_tt }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
			}
			40 = {
				modifier = { event_target:party_member_4 = { diplomacy < 8 } factor = 1.2 }
				modifier = { event_target:party_member_4 = { diplomacy < 4 } factor = 1.3 }
				modifier = { event_target:party_member_4 = { diplomacy < 2 } factor = 1.4 }
				event_target:party_member_4 = {
					increase_adv_fatigue_effect = yes
				}
				custom_tooltip = { text = adv_random_monster_tt }
				character_event = { id = ADVN.2 days = 1 }
			}
		}
	}

	after = {
		if = {
			limit = {
				OR = {
					event_target:party_member_1 = { is_alive = no }
					event_target:party_member_2 = { is_alive = no }
					event_target:party_member_3 = { is_alive = no }
					event_target:party_member_4 = { is_alive = no }
				}
			}
			character_event = { id = ADVN.32 }
		}
	}
}

#MAINT EVENTS

#Duel event
character_event = {
	id = ADVN.100
	desc = DIVREL.24
	picture = GFX_evt_melee
	border = GFX_event_normal_frame_war
	portrait = event_target:combatant_2

	is_triggered_only = yes

	immediate = {
		event_target:combatant_2 = {
			set_character_flag = flag_duel_no_backsies
		}
	}

	option = {
		name = DIVREL.24a
		set_character_flag = add_duel_xp
		set_character_flag = adventure_duel@event_target:combatant_2
		reset_duel_timers_effect = yes
		set_dueling_weapon_effect = yes
		event_target:combatant_2 = { set_dueling_weapon_effect = yes }
		set_potential_injury_flag_effect = yes
		evaluate_duel_result_score_effect = yes
		evaluate_extra_duel_result_score_effect = yes
		send_duel_result_event_effect = yes
	}
}

#Monster Culling
character_event = {
	id = ADVN.101
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		death = { death_reason = death_missing }
	}
}

#Adventurer title to final boss
character_event = {
	id = ADVN.102
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		liege = {
			primary_title = {
				holder_scope = {
					save_event_target_as = previous_liege
				}
			}
			capital_scope = {
				save_event_target_as = target_province
				ROOT = {
					set_defacto_liege = ROOT
					create_title = {
						tier = DUKE
						landless = yes
						adventurer = yes
						culture = ROOT
						name = "CLAIMANT_ADVENTURE"
						holder = ROOT
						base_title = THIS
					}
					set_character_flag = raiding_adventurer
					change_variable = { which = global_raiding_adventurer_spawn_by_courtier_MTTH value = 1 }
					if = {
						limit = {
							event_target:previous_liege = {
								government = nomadic_government
							}
						}
						character_event = { id = HL.105 } #create troops steppe
					}
					if = {
						limit = {
							event_target:previous_liege = {
								NOT = { government = nomadic_government }
							}
						}
						character_event = { id = HL.102 } #create troops vikings
					}
					create_random_soldier = {
						random_traits = yes
						dynasty = none
						religion = ROOT
						culture = ROOT
						female = no
						age = 30
					}
					create_random_soldier = {
						random_traits = yes
						dynasty = none
						religion = ROOT
						culture = ROOT
						female = no
						age = 25
					}
					# Create a fleet, just to be sure
					spawn_fleet = {
						province = closest # closest sea zone
						owner = ROOT
						disband_on_peace = yes
						troops =
						{
							galleys = { 110 110 }
						}
					}
				}
			}
		}
		character_event = { id = HL.110 days = 1095 } # Ping to see if he's ready to settle, repeating every 3 years.
	}
}

#Lose Adventurer trait, gain former adventurer
character_event = {
	id = ADVN.103
	desc = EVTDESC_ADVN_103
	picture = GFX_evt_tavern_2

	is_triggered_only = yes

	trigger = { NOT = { has_minor_title = title_party_member } }

	option = {
		name = EVTOPTA_ADVN_103
		remove_trait = adventurer
		add_trait = former_adventurer
	}
}

#Delayed fatigue on duel events
character_event = {
	id = ADVN.104
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		increase_adv_fatigue_effect = yes
	}
}
