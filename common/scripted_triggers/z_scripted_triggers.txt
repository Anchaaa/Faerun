
z_spell_plot_shield = { 
	OR = {
		has_character_modifier = z_foresight_blessing_plot
		has_character_modifier = z_divination_plot_block
	}
}
z_spell_plot_success = { 
	has_character_modifier = z_divination_plot_success
}
z_spell_plot_curse = { 
	has_character_modifier = z_foresight_curse_plot
}

z_spell_duel_shield = {
	has_character_modifier = z_foresight_blessing_plot
}

z_spell_duel_curse = { 
	has_character_modifier = z_foresight_curse_battle
}

z_plot_fail = { 
	OR = {
		has_character_modifier = z_foresight_blessing_plot
		has_character_modifier = z_divination_plot_block
	}

}

z_plot_succeed = {
	OR = {
		AND = {  
			FROMFROM = { 
				has_character_modifier = z_divination_plot_success
			}
			NOT = { 
				OR = {
					has_character_modifier = z_foresight_blessing_plot
					has_character_modifier = z_divination_plot_block
				}
			}
		}
		has_character_modifier = z_foresight_curse_plot
	}
}


z_has_class = { 
	is_playable = yes
	or = { 
		has_focus = bard
		has_focus = wizard
		has_focus = sorcerer
		has_focus = warlock
		has_focus = druid
		has_focus = cleric
		has_focus = paladin
		has_focus = elementalist
		has_focus = fighter
		has_focus = barbarian
		has_focus = ranger
		has_focus = monk
		has_focus = rogue
		has_focus = thief
		has_focus = assassin
		has_focus = shadow
	}

}

z_arcane_caster = { 
	or = { 
		trait = trained_bard
		trait = expert_bard
		trait = master_bard
		trait = renowned_bard
		trait = legendary_bard
		trait = trained_wizard
		trait =	expert_wizard
		trait =	master_wizard
		trait =	renowned_wizard
		trait = legendary_wizard
		trait = trained_sorcerer
		trait = expert_sorcerer
		trait = master_sorcerer
		trait = renowned_sorcerer
		trait = legendary_sorcerer
		trait = trained_warlock
		trait = expert_warlock
		trait = master_warlock
		trait = renowned_warlock
		trait = legendary_warlock					
	}
}


z_divine_caster = { 
	or = { 
		trait = trained_elementalist
		trait = expert_elementalist
		trait = master_elementalist
		trait = renowned_elementalist
		trait = legendary_elementalist
		trait = trained_cleric
		trait =	expert_cleric
		trait =	master_cleric
		trait =	renowned_cleric
		trait = legendary_cleric
		trait = trained_paladin
		trait = expert_paladin
		trait = master_paladin
		trait = renowned_paladin
		trait = legendary_paladin
		trait = trained_druid
		trait = expert_druid
		trait = master_druid
		trait = renowned_druid
		trait = legendary_druid					
	}
}


z_page_1 = { 
	or = { 
		has_character_flag = school_0
		has_character_flag = school_1

	}
}
z_page_2 = { 
	or = { 
		has_character_flag = school_0
		has_character_flag = school_2
	}
}
z_page_3 = { 
	or = { 
		has_character_flag = school_0
		has_character_flag = school_3

	}
}
z_page_4 = { 
	or = { 
		has_character_flag = school_0
		has_character_flag = school_4

	}
}
z_page_5 = { 
	or = { 
		has_character_flag = school_0
		has_character_flag = school_5

	}
}

z_arcane_non_combat_magic = {
	OR = { 
		has_character_flag = alteration_transmutation
	}
}

z_arcane_combat_magic = {
	OR = { 
		has_character_flag = envocation_magic_missile
	}
}

z_arcane_magic_non_combat_valid_caster = { 
	NOR = {
		has_character_modifier = magic_cooldown
		has_character_flag = casting
	} 
	NOR = { 
		trait = incapable
	}	
	z_arcane_non_combat_magic = yes

	z_arcane_caster = yes
	check_variable = { which = "spells_per_day_arcane" value = 1}
}


z_combat_arcane_magic_valid_caster = { 
	NOR = {
		has_character_modifier = magic_cooldown
		has_character_flag = casting

	} 
	NOR = { 
		trait = incapable

	}
	z_arcane_caster = yes
	z_arcane_combat_magic = yes
	check_variable = { which = "spells_per_day_arcane" value = 1}

}

z_arcane_tier_1 = { 
	or = { 
		trait = trained_warlock
		trait = trained_sorcerer
		trait = trained_bard
		trait = trained_wizard
	}
}
z_divine_tier_1 = { 
	or = { 
		trait = trained_cleric
		trait = trained_elementalist
		trait = trained_druid
		trait = trained_paladin
	}
}

z_fighter_tier_1 = { 
	or = { 
		trait = trained_fighter
		trait = trained_ranger
		trait = trained_barbarian
		trait = trained_monk
	}
}
z_rogue_tier_1 = { 
	or = { 
		trait = trained_rogue
		trait = trained_thief
		trait = trained_assassin
		trait = trained_shadow
	}
}

zz_can_take_class = { 
	NOT = { 
		calc_true_if = {
  			amount = 4
  			z_wizard = yes
  			z_cleric = yes
  			z_bard = yes
  			z_warlock = yes
  			z_druid = yes
  			z_paladin = yes
  			z_sorcerer = yes
  			z_fighter = yes
  			z_barbarian = yes
  			z_ranger = yes
  			z_shadow = yes
  			z_rogue = yes
  			z_assassin = yes
  		}
	}
}

has_special_attack = {
	or = { 
		and = {
			z_wizard = yes
			check_variable = { which = "spells_wizard" value = 1}
		}
		and = { 
			z_bard = yes
			check_variable = { which = "spells_bard" value = 1}
		}
		and = { 
			z_warlock = yes
			check_variable = { which = "spells_warlock" value = 1}
		}
		and = { 
			z_sorcerer = yes
			check_variable = { which = "spells_sorcerer" value = 1}
		}
		and = {
			z_cleric = yes
			check_variable = { which = "spells_cleric" value = 1}
		}
		and = { 
			z_paladin = yes
			check_variable = { which = "spells_paladin" value = 1}
		}
		and = { 
			z_druid = yes
			check_variable = { which = "spells_druid" value = 1}
		}
		and = { 
			z_fighter = yes
			check_variable = { which = "abilities_fighter" value = 1}
		}
		and = { 
			z_ranger = yes
			check_variable = { which = "abilities_ranger" value = 1}
		}
		and = { 
			z_barbarian = yes
			check_variable = { which = "abilities_barbarian" value = 1}
		}
		and = { 
			z_rogue = yes
			check_variable = { which = "abilities_rogue" value = 1}
		}
		and = { 
			z_assassin = yes
			check_variable = { which = "abilities_assassin" value = 1}
		}
		and = { 
			z_shadow = yes
			check_variable = { which = "abilities_shadow" value = 1}
		}
	}
}

z_wizard_legendary = { 
	or = { 
		trait = trained_wizard
		trait =	expert_wizard
		trait =	master_wizard
		trait =	renowned_wizard
		trait = legendary_wizard
				
	}
}

z_wizard_renown = { 
	or = { 
		trait = trained_wizard
		trait =	expert_wizard
		trait =	master_wizard
		trait =	renowned_wizard				
	}
}
z_wizard_master = { 
	or = { 
		trait = trained_wizard
		trait =	expert_wizard
		trait =	master_wizard				
	}
}
z_wizard_expert = { 
	or = { 
		trait = trained_wizard
		trait =	expert_wizard
	}
}

z_wizard_trained = { 
	or = { 
		trait = trained_wizard				
	}
}


z_wizard = { 
	or = { 
		trait = wizard
		trait = trained_wizard
		trait = journeyman_wizard
		trait =	expert_wizard
		trait =	master_wizard
		trait =	renowned_wizard
		trait = legendary_wizard
				
	}
}

z_bard = { 
	or = { 
		trait = bard
		trait = trained_bard
		trait = journeyman_bard
		trait = expert_bard
		trait = master_bard
		trait = renowned_bard
		trait = legendary_bard				
	}
}


z_sorcerer = { 
	or = { 
		trait = sorcerer
		trait = trained_sorcerer
		trait = expert_sorcerer
		trait = master_sorcerer
		trait = renowned_sorcerer
		trait = legendary_sorcerer
				
	}
}


z_warlock = { 
	or = { 
		trait = warlock
		trait = trained_warlock
		trait = journeyman_warlock
		trait = expert_warlock
		trait = master_warlock
		trait = renowned_warlock
		trait = legendary_warlock					
	}
}


z_cleric = { 
	or = { 
		trait = cleric
		trait = trained_cleric
		trait = journeyman_cleric
		trait =	expert_cleric
		trait =	master_cleric
		trait =	renowned_cleric
		trait = legendary_cleric
				
	}
}

z_paladin = { 
	or = { 
		trait = paladin
		trait = trained_paladin
		trait = journeyman_paladin
		trait = expert_paladin
		trait = master_paladin
		trait = renowned_paladin
		trait = legendary_paladin			
	}
}


z_druid = { 
	or = { 
		trait = druid
		trait = trained_druid
		trait = journeyman_druid
		trait = expert_druid
		trait = master_druid
		trait = renowned_druid
		trait = legendary_druid
				
	}
}


z_elementalist = { 
	or = { 

		trait = trained_elementalist
		trait = expert_elementalist
		trait = master_elementalist
		trait = renowned_elementalist
		trait = legendary_elementalist				
	}
}


z_fighter = { 
	or = { 
		trait = fighter
		trait = trained_fighter
		trait = journeyman_fighter
		trait =	expert_fighter
		trait =	master_fighter
		trait =	renowned_fighter
		trait = legendary_fighter
				
	}
}

z_ranger = { 
	or = { 
		trait = ranger
		trait = trained_ranger
		trait = journeyman_ranger
		trait = expert_ranger
		trait = master_ranger
		trait = renowned_ranger
		trait = legendary_ranger			
	}
}


z_monk = { 
	or = { 
		trait = trained_monk
		trait = expert_monk
		trait = master_monk
		trait = renowned_monk
		trait = legendary_monk
				
	}
}


z_barbarian = { 
	or = { 
		trait = barbarian
		trait = trained_barbarian
		trait = journeyman_barbarian
		trait = expert_barbarian
		trait = master_barbarian
		trait = renowned_barbarian
		trait = legendary_barbarian		
	}
}


z_rogue = { 
	or = { 
		trait = rogue
		trait = trained_rogue
		trait = journeyman_rogue
		trait =	expert_rogue
		trait =	master_rogue
		trait =	renowned_rogue
		trait = legendary_rogue			
	}
}

z_assassin = { 
	or = { 
		trait = assassin
		trait = trained_assassin
		trait = journeyman_assassin
		trait = expert_assassin
		trait = master_assassin
		trait = renowned_assassin
		trait = legendary_assassin			
	}
}


z_thief = { 
	or = { 
		trait = trained_thief
		trait = expert_thief
		trait = master_thief
		trait = renowned_thief
		trait = legendary_thief
				
	}
}


z_shadow = { 
	or = { 
		trait = shadow 
		trait = trained_shadow
		trait = journeyman_shadow
		trait = expert_shadow
		trait = master_shadow
		trait = renowned_shadow
		trait = legendary_shadow				
	}
}

z_trained_arcane = { 
	or = { 
		trait = trained_warlock
		trait = trained_sorcerer
		trait = trained_bard
		trait =	trained_wizard
	}
}

z_expert_arcane = { 
	or = { 
		trait = expert_warlock
		trait = expert_sorcerer
		trait = expert_bard
		trait = expert_wizard
	}
}

z_master_arcane = { 
	or = { 
		trait = master_warlock
		trait = master_sorcerer
		trait = master_bard
		trait = master_wizard
	}
}

z_renowned_arcane = { 
	or = { 
		trait = renowned_warlock
		trait = renowned_sorcerer
		trait = renowned_bard
		trait = renowned_wizard
	}
}

z_legendary_arcane = { 
	or = { 
		trait = legendary_warlock
		trait = legendary_sorcerer
		trait = legendary_bard
		trait = legendary_wizard
	}

}

z_arcane_classes = { 
	or = { 
		trait = trained_wizard
		trait =	expert_wizard
		trait =	master_wizard
		trait =	renowned_wizard
		trait = legendary_wizard

		trait = trained_bard
		trait = expert_bard
		trait = master_bard
		trait = renowned_bard
		trait = legendary_bard				

		trait = trained_sorcerer
		trait = expert_sorcerer
		trait = master_sorcerer
		trait = renowned_sorcerer
		trait = legendary_sorcerer

		trait = trained_warlock
		trait = expert_warlock
		trait = master_warlock
		trait = renowned_warlock
		trait = legendary_warlock
	}
}

z_divine_classes = { 

	or = { 
		trait = trained_cleric
		trait =	expert_cleric
		trait =	master_cleric
		trait =	renowned_cleric
		trait = legendary_cleric

		trait = trained_paladin
		trait = expert_paladin
		trait = master_paladin
		trait = renowned_paladin
		trait = legendary_paladin			

		trait = trained_druid
		trait = expert_druid
		trait = master_druid
		trait = renowned_druid
		trait = legendary_druid

		trait = trained_elementalist
		trait = expert_elementalist
		trait = master_elementalist
		trait = renowned_elementalist
		trait = legendary_elementalist				
	}
}

z_fighter_classes = { 

	or = { 
		trait = trained_fighter
		trait =	expert_fighter
		trait =	master_fighter
		trait =	renowned_fighter
		trait = legendary_fighter

		trait = trained_ranger
		trait = expert_ranger
		trait = master_ranger
		trait = renowned_ranger
		trait = legendary_ranger			

		trait = trained_monk
		trait = expert_monk
		trait = master_monk
		trait = renowned_monk
		trait = legendary_monk

		trait = trained_barbarian
		trait = expert_barbarian
		trait = master_barbarian
		trait = renowned_barbarian
		trait = legendary_barbarian		
	}
}

z_rogue_classes = { 
	or = { 
		trait = trained_rogue
		trait =	expert_rogue
		trait =	master_rogue
		trait =	renowned_rogue
		trait = legendary_rogue

		trait = trained_assassin
		trait = expert_assassin
		trait = master_assassin
		trait = renowned_assassin
		trait = legendary_assassin			

		trait = trained_thief
		trait = expert_thief
		trait = master_thief
		trait = renowned_thief
		trait = legendary_thief

		trait = trained_shadow
		trait = expert_shadow
		trait = master_shadow
		trait = renowned_shadow
		trait = legendary_shadow				
	}
}

